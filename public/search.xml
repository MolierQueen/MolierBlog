<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[æ‹›è˜iOSå¼€å‘è€…å•¦ï¼]]></title>
    <url>%2F2019%2F02%2F21%2FNeed-People%2F</url>
    <content type="text"><![CDATA[å²—ä½èŒè´£ : 1.è´Ÿè´£iOSå¹³å°ä¸Šå…¨æ°‘Kæ­ŒAPPçš„å¼€å‘å·¥ä½œï¼› 2.ä¸äº§å“ã€æµ‹è¯•åŠå…¶ä»–å›¢é˜Ÿåä½œï¼Œåˆ†æäº§å“éœ€æ±‚ï¼Œåˆ¶å®šæŠ€æœ¯æ–¹æ¡ˆï¼Œæ”»å…‹æŠ€æœ¯éš¾é¢˜ï¼› 3.æ–°æŠ€æœ¯ç ”ç©¶å’Œå¼•å…¥ã€‚ å²—ä½è¦æ±‚ : 1.æœ¬ç§‘ä»¥ä¸Šå­¦å†ï¼Œè®¡ç®—æœºç›¸å…³ä¸“ä¸šï¼› 2.2å¹´ä»¥ä¸Šç›¸å…³å·¥ä½œç»éªŒï¼› 3.è®¡ç®—æœºåŸºç¡€æ‰å®ï¼Œç²¾é€šObjective-Cï¼Œç†Ÿæ‚‰iOSå¹³å°å¹¶æœ‰è‰¯å¥½çš„è½¯ä»¶å¼€å‘ç»éªŒï¼› 4.ç†Ÿæ‚‰httpsåŠæµåª’ä½“ä¸Šä¼ ä¸‹è½½åè®®ï¼Œç²¾é€šTCP/IPåè®®ï¼› 5.è‰¯å¥½çš„ç¼–ç é£æ ¼ï¼Œä»¥åŠè¶³å¤Ÿçš„è°ƒè¯•æŠ€æœ¯å’Œé—®é¢˜è§£å†³èƒ½åŠ›ï¼› 6.è´£ä»»å¿ƒå¼ºï¼Œç§¯æå‘ä¸Šã€ä¹äºå­¦ä¹ æ–°æŠ€æœ¯ï¼› 7.è‹±è¯­è‰¯å¥½ï¼Œèƒ½é˜…è¯»è‹±æ–‡èµ„æ–™ï¼› äº†è§£éŸ³é¢‘/è§†é¢‘çš„ç¼–è§£ç ï¼Œæœ‰éŸ³è§†é¢‘ç›´æ’­ç›¸å…³ç»éªŒè€…ä¼˜å…ˆã€‚ æœ‰æ„è€…å‘ç®€å†åˆ° â€œzhangninghao11@gmail.comâ€è®¤çœŸè„¸ var options = {"narrow":false,"autoplay":true,"showlrc":3,"mutex":true,"music":[{"title":"å¤§é±¼","author":"å‘¨æ·±","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/bigfish.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000004Y7V4s3ug4cC.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=004OQ5Mt0EmEzv"}]}; options.element = document.getElementById("aplayer7"); new APlayer(options);]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[At The End Of 2018]]></title>
    <url>%2F2019%2F02%2F14%2FAt-the-end-of-2018%2F</url>
    <content type="text"><![CDATA[var options = {"narrow":false,"autoplay":true,"showlrc":0,"mutex":true,"music":[{"title":"è§å­—å¦‚é¢","author":"å”ç”œç”œ","url":" https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E5%94%90%E7%94%9C%E7%94%9C%20-%20%E8%A7%81%E5%AD%97%E5%A6%82%E9%9D%A2.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000004a1Pzy39RQWd.jpg?max_age=2592000","lrc":"https://æ­Œè¯.lrc"}]}; options.element = document.getElementById("aplayer6"); new APlayer(options); å‰è¨€ä»Šå¹´çš„æ€»ç»“æ¥çš„æ¯”å»å¹´ç¨å¾®æ™šä¸€äº›ï¼Œæœ¬æ¥æ‰“ç®—åƒå»å¹´ä¸€æ ·åœ¨æœ€åä¸€ä¸ªå·¥ä½œæ—¥å‡ºç‚‰çš„ï¼Œä½†æ˜¯å› ä¸ºå¹´å‰äº‹æƒ…æ¯”è¾ƒå¤šï¼Œè€Œä¸”å†åŠ ä¸Šçˆ¶æ¯è¦æ¥è¿‡å¹´ï¼Œåˆè¯·äº†åŠå¤©å‡å›å®¶æ”¶æ‹¾å±‹å­ï¼Œæ‰€ä»¥æ²¡æœ‰æŒ‰æ—¶å®Œæˆä»»åŠ¡ã€‚æ€»çš„æ¥è¯´ä»Šå¹´ç®—æ˜¯æˆ‘äººç”Ÿä¸­æ¯”è¾ƒé‡è¦çš„ä¸€å¹´ï¼Œä¸å…‰æ˜¯æˆ‘è‡ªå·±ï¼Œè¿˜æœ‰è‡ªå·±çš„å¦¹å­ï¼Œç”šè‡³2018å¯¹äºä¸­å›½äº’è”ç½‘ä¹Ÿæ˜¯ä¸€æ¬¡å†å²æ€§çš„è½¬æŠ˜ã€‚ å†™è¿™ç¯‡æ–‡ç« ä¹‹å‰æˆ‘è¿˜çœ‹äº†ä¸‹å»å¹´çš„å¹´ç»ˆæ€»ç»“ï¼Œæƒ³çœ‹çœ‹å½“æ—¶ç«‹äº†å“ªäº›flagï¼Œå®Œæˆäº†å“ªäº›ã€è¾œè´Ÿäº†å“ªäº›ï¼Œæœ€ç»ˆçš„ç»“è®ºæ˜¯å‹‰å‹‰å¼ºå¼ºå®Œæˆç™¾åˆ†ä¹‹äº”åï¼Œä¸è¿‡è™½ç„¶ä¸€åŠæ²¡æœ‰å®Œæˆï¼Œä½†æ˜¯ä»Šå¹´è¿˜å‘ç”Ÿäº†ä¸€äº›å…¶ä»–çš„äº‹æƒ…ï¼Œæ€»çš„æ¥è¯´æ”¶è·ä¸å°ï¼Œç›¸æ¯”å»å¹´æœ‰è¿‡ä¹‹è€Œæ— ä¸åŠï¼Œäººæ€»æ˜¯è¦è¿›æ­¥çš„å˜›~ è¾æ—§å¤§èƒŒæ™¯2018å¹´æ˜¯ä¸å¹³å‡¡çš„ä¸€å¹´ï¼Œå°¤å…¶æ˜¯å¯¹äºäº’è”ç½‘è¡Œä¸šï¼Œéƒ½åœ¨è¯´2018æ˜¯äº’è”ç½‘çš„å¯’å†¬ï¼Œ2018æ˜¯è¿‡å»åå¹´æœ€éš¾çš„ä¸€å¹´ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æœªæ¥åå¹´æœ€å¥½çš„ä¸€å¹´ã€‚ä½œä¸ºä¸€ä¸ªåœ¨æ·±åœ³çš„äº’è”ç½‘ä»ä¸šè€…æ¥è¯´ç¡®å®æ„Ÿæ…¨é¢‡æ·±ï¼Œä¸€ä¸ªä¸ªç†Ÿæ‚‰çš„æœ‹å‹â€œè¢«ç¦»èŒâ€ï¼Œä¸€å®¶å®¶æ›¾ç»è€³ç†Ÿèƒ½è¯¦çš„å…¬å¸â€œè·‘è·¯â€ã€â€œä¼˜åŒ–â€ã€‚å†åŠ ä¸Šå„å¤§åª’ä½“ä¸ºäº†çœ¼çƒæ•ˆåº”å¤§è‚†æ¸²æŸ“ï¼Œç¡®å®æå¾—å¤§å®¶äººå¿ƒæƒ¶æƒ¶ã€‚ä¸è¿‡è¿˜æ˜¯æœ‰ä¸€äº›å…¬å¸è¶ç€è¿™ä¸ªæœºä¼šç–¯ç‹‚æ‰¾äººï¼Œæƒ³å¼¯é“è¶…è½¦ï¼Œç”±æ­¤å¯è§äº’è”ç½‘è¿˜æ˜¯æœ‰æ— é™çš„æ½œåŠ›çš„ã€‚ èŒä¸šç”Ÿæ¶¯ä»Šå¹´å¯¹æˆ‘å½±å“æœ€å¤§åº”è¯¥ç®—æ˜¯ä»ç¾å›¾ç¦»èŒå§ï¼Œä¸è¿‡è¿™ä¸ªçœŸçš„è·Ÿäº’è”ç½‘å¯’å†¬æ²¡æœ‰å…³ç³»ï¼Œå®Œå…¨æ˜¯ä¸ªäººåŸå› ã€‚å…¶å®åˆ°ç°åœ¨ä¸ºæ­¢ï¼Œç¾å›¾åœ¨æˆ‘å¿ƒé‡Œä¾ç„¶å æ®å¾ˆé‡è¦çš„ä¸€éƒ¨åˆ†ï¼Œä»2016å¹´6æœˆ13æ—¥åˆ°2018å¹´6æœˆ13æ—¥ï¼Œåœ¨ç¾å›¾çš„æ•´æ•´ä¸¤å¹´ä¸­æˆ‘å­¦åˆ°æ–°çš„æŠ€æœ¯ï¼Œè®¤è¯†åˆ°æ–°çš„æœ‹å‹ï¼Œæ¥è§¦åˆ°æ–°çš„åœˆå­ï¼Œæ›´é‡è¦çš„æ˜¯ç¾å›¾æ•™ä¼šäº†æˆ‘ä¸€ç§ç²¾ç¥ï¼Œä¸€ç§ä¸Šè¿›ï¼Œä¸€ç§ä¸æœè¾“çš„ç²¾ç¥ï¼Œæ€»æ˜¯æƒ³å­¦æ›´å¤šçš„ä¸œè¥¿ï¼Œæƒ³è®¤è¯†æ›´å¤šçš„äººï¼Œæ€»æ˜¯æœ‰ä¸€ç§é¥¥é¥¿æ„Ÿã€‚å½“ç„¶è¿™ä¸€åˆ‡ä¹Ÿç¦»ä¸å¼€æˆ‘é‚£äº›ä¼˜ç§€çš„åŒäº‹ä»¬ã€‚è¿™ä¹Ÿå°è¯äº†é‚£å¥è¯ï¼Œä½ çš„åœˆå­å†³å®šä½ æˆä¸ºä¸€ä¸ªç”Ÿä¹ˆæ ·çš„äººã€‚ç¾å›¾å…¬å¸ç»™æˆ‘ç•™ä¸‹çš„å°è±¡ä¾ç„¶æ˜¯ç«™åœ¨å›¾åƒå¤„ç†é¢†åŸŸçš„æœ€é«˜ç‚¹ï¼Œæ¯ä¸€æ¬¾äº§å“éƒ½èƒ½è®©äººçœ¼å‰ä¸€äº®ï¼ŒåŒæ—¶ä¹Ÿä¸€ç›´åœ¨å¼•é¢†ç€â€œç¾é¢œâ€è¶‹åŠ¿çš„å‘å±•ã€‚ 5æœˆåº•çš„æ—¶å€™èº«è¾¹çš„åŒäº‹é™†ç»­åœ°èµ°äº†ï¼Œå»äº†BATæˆ–è€…å›½å¤–å‘å±•ï¼Œä¸ç®¡æ˜¯ç»§ç»­æ±‚å­¦è¿˜æ˜¯ç»§ç»­å·¥ä½œï¼Œä»–ä»¬éƒ½æœ‰äº†æ–°çš„ç›®æ ‡ï¼Œå½“æ—¶å¯¹äºä¸æœè¾“çš„æˆ‘æ¥è¯´å…¶å®å½±å“å¾ˆå¤§ï¼Œäºæ˜¯ä¹Ÿå»é¹…å‚è¯•äº†ä¸‹å¹¶ä¸”æ‹¿åˆ°äº†offerã€‚æ­£å¥½å½“æ—¶ä¹Ÿè§‰å¾—åœ¨ç¾å›¾å¸¦çš„æ—¶é—´ä¹Ÿç®—æ¯”è¾ƒä¹…ï¼Œè€Œä¸”å¯¹äºä¸ªäººçš„æˆé•¿ä¹Ÿä¼¼ä¹åˆ°äº†ç“¶é¢ˆï¼Œå½“æ—¶åªæ˜¯åšä¸€äº›ä¸šåŠ¡éœ€æ±‚ï¼Œæ­£å¥½è‡ªå·±ä¹Ÿæƒ³æ¥è§¦ä¸€äº›æ–°çš„ä¸œè¥¿ï¼Œæ‰€ä»¥å°±æ¥äº†é¹…å‚ã€‚ ç°åœ¨æƒ³æƒ³å½“æ—¶çš„æƒ…å†µæ„Ÿè§‰è¿˜æ˜¯æŒºä¸å¯æ€è®®çš„ï¼Œé¹…å‚çš„é¢è¯•æµç¨‹ä¸€é¡¹ä»¥ä¸¥(hen)è°¨(man)è‘—ç§°ï¼Œä¹‹å‰çœ‹è®ºå›ä¸Šæµç¨‹è¦å‡ ä¸ªæœˆçš„å¤§æœ‰äººåœ¨ï¼Œè€Œæˆ‘5æœˆåº•è¿˜åœ¨çº ç»“è¦ä¸è¦æ¥è…¾è®¯ï¼Œè€Œå…­æœˆä¸­æ—¬å°±æ‹¿åˆ°äº†offerï¼Œåœ¨è¿™é‡Œè¿˜æ˜¯è¦æ„Ÿè°¢æˆ‘çš„ç°åœ¨çš„å¯¼å¸ˆä¸€ç›´æŒç»­è·Ÿã€å‚¬ä¿ƒè¿›é¢è¯•æµç¨‹ï¼Œæ‰ä½¿å¾—æœ‰è¿™æ ·çš„æ•ˆç‡ã€‚å†å²æ€»æ˜¯æƒŠäººçš„ç›¸ä¼¼ï¼Œæƒ³èµ·æˆ‘å½“æ—¶æ¥æ·±åœ³çš„æ—¶å€™ï¼Œ2016å¹´çš„5æœˆåº•æˆ‘è¿˜åœ¨åŒ—äº¬çš„å‡ºç§Ÿæˆ¿é—¨å‰ç»™æˆ‘å¦ˆæ‰“ç€ç”µè¯çº ç»“æ˜¯å¦è¦æ¥æ·±åœ³æ‰“æ‹¼ï¼Œä»åŒ—äº¬åˆ°æ·±åœ³ï¼Œåœ°ç†ä½ç½®çš„å·¨å¤§å˜åŒ–ä¸è¯´ï¼ŒåŒ…æ‹¬åœˆå­ï¼Œå·¥ä½œï¼Œç”Ÿæ´»åŸºæœ¬éƒ½è¦ä»å¤´å¼€å§‹ï¼Œä½†æ˜¯è¿‡äº†ä¸åˆ°ä¸€ä¸ªæœˆ 6æœˆ13å·æˆ‘å·²ç»åšåœ¨äº†æ·±åœ³ç¾å›¾çš„å·¥ä½ä¸Šï¼Œæœ‰çš„æ—¶å€™äººç”Ÿå°±æ˜¯éœ€è¦è¿™æ ·çš„è€Œæœæ–­ç”šè‡³æ˜¯å†³ç»å§ã€‚æ¥åˆ°é¹…å‚ç®—æ˜¯å»å¹´ä¸€ä¸ªå¾ˆå¤§çš„è½¬æŠ˜å§ã€‚ ä¸ªäººç”Ÿæ´»ä¸ªäººç”Ÿæ´»æ–¹é¢æ— éå°±æ˜¯å¥èº«ã€æ—…æ¸¸ã€è¯»ä¹¦ä¹‹ç±»é™¤äº†å·¥ä½œä¹‹å¤–çš„äº‹æƒ…ï¼Œå…¶å®å»å¹´ç«‹äº†flagï¼Œè¯´ä»Šå¹´è¦å»ä¸¤ä¸ªå›½å®¶ï¼Œç»“æœåªåœ¨äº”ä¸€æ—¶å€™è·Ÿå¦¹å­å»äº†æ³°å›½ï¼Œé€›äº†ä¸‰ä¸ªåŸå¸‚ã€‚æ€»ç»“äº†åŸå› ï¼Œå¹¶ä¸æ˜¯æ—¶é—´æˆ–è€…æ˜¯ç»æµçš„åŸå› ï¼Œä¸»è¦æ˜¯2018äº’è”ç½‘å¯’å†¬ã€äººå¿ƒæƒ¶æƒ¶ã€å„ç§å„æ ·çš„è´Ÿé¢æ¶ˆæ¯å±‚å‡ºä¸ç©·ï¼Œè°ä¹Ÿä¸æ•¢æ”¾æ¾å¤ªä¹…ï¼Œè¯´ç™½äº†è¿˜æ˜¯ä¸ºç”Ÿæ´»æ‰€è¿«å§ğŸ™‚ğŸ™‚ğŸ™‚ã€‚ å›½å†…çš„è¯ä¹Ÿæ²¡å»å¤ªå¤šåœ°æ–¹ã€å»å¹¿å·åƒäº†æ—©èŒ¶ã€å»ç æµ·çœ‹äº†æƒ…ä¾£è·¯ï¼Œé¦™æ¸¯æ¾³é—¨å°±ä¸ç®—äº†ï¼Œæ¯•ç«Ÿè¿‡å¹´å›å®¶åŸºæœ¬éƒ½èƒ½è·¯è¿‡ï¼Œä¹Ÿèµ°è¿‡å¥½å¤šåœ°æ–¹ã€‚ä»Šå¹´åœ°å›¾ä¸Šåˆæ‰“äº†ä¸å°‘ç‚¹ï¼Œçœ‹åˆ°è¿™äº›è¿˜æ˜¯è›®æœ‰æˆå°±æ„Ÿçš„ å¹¿å·å¹¿å·ä¸»è¦æ˜¯åƒï¼Œç‰¹è‰²å°åƒæ¯”è¾ƒå¤šï¼Œåœ¨å¹¿å·èƒ½åƒåˆ°æ­£å®—çš„å¹¿ä¸œé£å‘³ï¼Œæ¯”æ·±åœ³è¦å¼ºå¾ˆå¤šï¼Œå¥ˆä½•æˆ‘ä¸æ˜¯åƒè´§æ€»çš„ä½“éªŒè¿˜æ˜¯ä¸é”™çš„å°è›®è…°é‚£ä¸ªå²›ä¸Šçš„å¤œæ™¯å¾ˆå¥½çœ‹ã€‚ æ›¼è°·ä½œä¸ºæ³°å›½çš„é¦–éƒ½ï¼Œå°±åƒå›½å†…çš„ä¸€çº¿åŸå¸‚ä¸€æ ·ï¼Œè¡—é“ä¸Šè½¦æ°´é©¬é¾™ï¼Œå‘¨å›´éƒ½æ˜¯é«˜è€¸çš„å†™å­—æ¥¼ï¼Œè™½ç„¶ä¸å¦‚æ·±åœ³è¿™æ ·ç°ä»£åŒ–ï¼Œä½†æ˜¯ä½œä¸ºæ³°å›½çš„åŸå¸‚ï¼Œç°ä»£åŒ–ç¨‹åº¦ä¹Ÿæ˜¯æ³°å›½ä¸­æœ€å¥½çš„ï¼Œåˆ°äº†æ™šä¸Šä¼šæ›´åŠ çƒ­é—¹äº›ï¼Œå¤œæ™¯ä¹Ÿå¾ˆå¥½çœ‹ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯æ¥æ—…æ¸¸çš„ä¸­å›½æ¸¸å®¢ï¼Œç†™ç†™æ”˜æ”˜ï¼Œå¥½ä¸çƒ­é—¹ï¼Œç¬¬äºŒå¼ å›¾æ˜¯æ¯”è¾ƒæœ‰åçš„ç«è½¦å¤´å°åƒè¡—ï¼Œä¸œè¥¿å¾ˆä¸é”™ï¼Œéƒ½æ˜¯æ…•åè€Œæ¥ï¼Œé‡Œé¢éšè—äº†å¾ˆå¤šçš„ç½‘çº¢åº—ï¼Œç‰©ä»·åœ¨å½“åœ°ç®—æ˜¯æ¯”è¾ƒè´µçš„äº†ï¼Œä½†æ˜¯å’Œæ·±åœ³æ¯”èµ·æ¥è¿˜æ˜¯ç›¸å½“çš„ä¾¿å®œã€‚ èŠ­æäºšèŠ­æäºšæœ€è‘—åçš„å°±æ˜¯äººå¦–è¡¨æ¼”ï¼Œä½†æ˜¯æˆ‘ä»¬æ²¡å»çœ‹ï¼Œå› ä¸ºå¯¹é‚£äº›è¿˜æ˜¯æœ‰ç‚¹â€¦.ï¼Œæ™šä¸Šæ„Ÿå—äº†ä¸‹å¤œç”Ÿæ´»ï¼Œç™½å¤©å»äº†æµ·è¾¹ï¼Œä¸è¿‡è¯´å®è¯èŠ­æäºšè¿˜æ˜¯å’Œé‚£ç§éšä¾¿ä¸€æ‹å°±æ˜¯å£çº¸çš„ä»™æœ¬é‚£æœ‰ä¸€å®šå·®è·çš„ï¼Œæµ·é²œä¹Ÿä¸€èˆ¬ï¼Œä½†æ˜¯ä»ç„¶èƒ½èƒ½æ„Ÿå—åˆ°è¿™è¾¹çš„çƒ­æƒ…å’Œå¥”æ”¾ã€‚ æ¸…è¿ˆæˆ‘ä»¬æŠŠæ¸…è¿ˆä½œä¸ºæœ€åä¸€ç«™è¿˜æ˜¯å¾ˆåˆç†çš„ï¼Œä¸€ä¸ªå¾ˆå®‰é€¸æ¸…é™çš„å°é•‡ï¼Œç‰¹åˆ«é€‚åˆåœ¨é•¿é€”æ—…è¡Œåæ”¾æ¾å¿ƒæƒ…ï¼Œè¿™é‡Œä½ ä¼šæ„Ÿè§‰åˆ°ï¼Œæ˜æ˜¾ç”Ÿæ´»ä¼šæ…¢åŠæ‹ï¼Œå¥½å¤šçš„å¯ºåº™ï¼Œçš‡å®«ï¼Œä¹Ÿé€‚åˆäº†è§£è¿™è¾¹çš„å†å²ã€‚æ„Ÿè§‰è¿™è¾¹çš„äººå’Œå¤§è±¡éƒ½å¾ˆæ¸©é¡ºï¼ŒèŠ­æäºšä¹Ÿæœ‰å¤§è±¡ï¼Œä½†æ˜¯å¯èƒ½æ˜¯å› ä¸ºæ¥å¾…äº†å¤ªå¤šçš„æ¸¸å®¢ï¼Œè„¾æ°”ä¼šå¤§äº›å§ï¼ŒğŸ˜ŠğŸ˜ŠğŸ˜Šã€‚ è¿™ä¸ªåŸå¸‚éå¸¸é€‚åˆæ‹ç…§ï¼Œä¸€æ˜¯æ™¯è‰²ä¼˜ç¾ï¼Œè€Œæ˜¯ä¸ç”¨é‚£ä¹ˆæ€¥æ€¥å¿™å¿™ï¼Œç»™äººä¸€ç§å¾ˆæ”¾æ¾çš„æ„Ÿè§‰ï¼Œæˆ‘ä»¬è¿™æ¬¡çš„ç…§ç‰‡ä¸€å¤šåŠéƒ½å‡ºè‡ªæ¸…è¿ˆã€‚ å…¶ä»–2018å¹´è¿˜å‘ç”Ÿäº†å¾ˆå¤šï¼Œå¦¹å­å¾ˆä¸å¹¸çš„æˆäº†äº’è”ç½‘å¯’å†¬çš„å—å®³è€…ï¼Œä¸è¿‡åæ¥åœ¨è‡ªå·±çš„åŠªåŠ›ä¸‹ä¸‹åˆæ‹¿åˆ°äº†Adelaideçš„offer åæ¥é—®äº†å¥½å¤šæœ‹å‹ï¼ŒåŸæ¥å¤§éƒ¨åˆ†äººæƒ…å†µéƒ½å·®ä¸å¤šï¼Œäº’è”ç½‘å¯’å†¬ï¼Œå›½å†…å½¢åŠ¿ä¸¥å³»ï¼Œéƒ½å‡†å¤‡ç»§ç»­å»å›½å¤–æ±‚å­¦ï¼Œä¸€æ˜¯ä¸ºäº†é¿é™©ï¼ŒäºŒæ˜¯ä¸ºäº†æé«˜è‡ªå·±ã€‚è™½ç„¶å‡ºå›½å‰éœ€è¦è€ƒè™‘çš„ä¸œè¥¿è¿˜æ˜¯å¾ˆå¤šçš„ï¼Œä½†æ˜¯ä¸ç®¡æ€æ ·å¦¹å­é€šè¿‡è‡ªå·±çš„åŠªåŠ›æ‹¿åˆ°è¿™æ ·çš„æˆç»©è¿˜æ˜¯å€¼å¾—é«˜å…´çš„ï¼Œè‡³äºåé¢æ˜¯å¦é€‰æ‹©ç•™å­¦ï¼Œè¿˜æ˜¯çœ‹å®é™…çš„æƒ…å†µå§ã€‚ è¿˜æœ‰å°±æ˜¯ä»Šå¹´çš„å…¬ç§Ÿæˆ¿å·®ä¸€ç‚¹å°±æ’åˆ°äº†ï¼Œå¸¦è½¦ä½å¸¦å­¦ä½ï¼Œå½“å¤©éƒ½å¸¦å¥½äº†ææ–™å‡†å¤‡å»è®¤ç§Ÿäº†ï¼Œç»“æœä¸´èµ°å‰å‘Šè¯‰æˆ‘æˆ¿å­å·²é€‰å®Œï¼Œä¸ç”¨å»äº†ğŸ˜­ğŸ˜­ğŸ˜­ï¼Œå¯èƒ½è¿˜éœ€è¦å†ç­‰ä¸Šä¸€å¹´ï¼Œä¸è¿‡æˆ‘ä¹Ÿåœ¨å…¬å¸å†…éƒ¨ç”³è¯·äº†ï¼Œå¸Œæœ›èƒ½å¿«ç‚¹å§ã€‚ å…³äºè¯»ä¹¦ï¼Œä»Šå¹´æ²¡æœ‰è¯»å‡ æœ¬ä¹¦ï¼Œä½†æ˜¯æˆ‘å‘ç°ä¸€ä¸ªæœ‰è¶£çš„ç°è±¡ï¼Œå‘ç°å¾®ä¿¡é‡Œæ‰€å…³æ³¨çš„å…¬ä¼—å·ä¸ä»…ä»…å†æ˜¯ä¹‹å‰çš„æç¬‘ç±»çš„äº†ï¼Œè€Œæ˜¯æ›´å¤šçš„ç±»ä¼¼äºâ€œäº’è”ç½‘æ€ç»´â€ è¿™æ ·çš„å…¬ä¼—å·ï¼Œæ…¢æ…¢çš„å¯¹è¿™ä¸ªæ—¶ä»£æ•æ„Ÿåº¦æé«˜ï¼Œç°åœ¨ä¹Ÿå…»æˆäº†æ¯å¤©ç¡è§‰å‰éƒ½ä¼šæŠŠä»Šå¤©æ‰€æœ‰çš„å¤§æ–°é—»è¯»ä¸€éï¼Œç„¶åæ€»ç»“å‡ºæ¥çš„ä¹ æƒ¯ï¼Œä¹Ÿç®—æ˜¯åœ¨27å²æ—¶å€™è¾¾åˆ°äº†è€çˆ¸åœ¨ä¸ƒå²æ—¶å¯¹æˆ‘çš„è¦æ±‚ã€‚ ä»Šå¹´æœ€å¼€å¿ƒçš„åº”è¯¥å°±æ˜¯çˆ¸å¦ˆæ¥æ·±åœ³è¿‡å¹´äº†ï¼Œä¸€ç›´æƒ³è®©ä»–ä»¬æ¥ï¼Œä¹‹å‰ä¸€ç›´è¯·ä¸ä¸‹å‡ï¼Œä»–ä»¬å·¥ä½œæ¯”æˆ‘è¿˜å¿™ï¼Œä¸è¿‡è¿™æ¬¡ç»ˆäºæ¥äº†ï¼Œå¸¦æˆ‘çˆ¸å»äº†ä»–å¿ƒå¿ƒå¿µçš„é¦™æ¸¯å’Œæ¾³é—¨ï¼Œä¹‹å‰æ˜¯å› ä¸ºå·¥ä½œå…³ç³»ï¼Œæ²¡åŠæ³•å‡ºå¢ƒï¼Œè¿™æ¬¡ç»ˆäºçªç ´å±‚å±‚é˜»ç¢è¸ä¸Šäº†ç‰¹åˆ«è¡Œæ”¿åŒºçš„åœŸåœ°ã€‚å¸Œæœ›ä»¥åä»–ä»¬æœ‰æ›´å¤šçš„æ—¶é—´è¿‡æ¥ã€‚æˆ‘è¿˜è·Ÿæˆ‘çˆ¸è¯´ï¼Œè¿™æ¬¡æ—¶é—´ç´§è¿«ï¼Œæ²¡æ³•å»å°æ¹¾äº†ï¼Œæˆ‘çˆ¸æ€åº¦å¾ˆåšå†³çš„è¯´ï¼šâ€œå°æ¹¾ä¸€å®šè¦ç­‰å›å½’äº†å†å»ï¼â€ è¿æ–°å’Œå»å¹´ä¸€æ ·ï¼Œä¸æƒ³ç«‹å¤ªå¤šçš„flagï¼Œæ€•ä¸‡ä¸€ä¸€ä¸ªéƒ½åšä¸åˆ°äº†ä¸¢äººï¼Œæ¯•ç«Ÿç™½çº¸é»‘å­—éƒ½å†™åœ¨è¿™é‡Œï¼Œå…¶å®åšä¸åˆ°ä¸æ˜¯å› ä¸ºå •è½ï¼Œè€Œæ˜¯ä½ çœŸçš„ä¸çŸ¥é“æœªæ¥ä¼šå‘ç”Ÿä»€ä¹ˆï¼Œå°¤å…¶æ˜¯å¯¹äºå½“ä»£çš„äº’è”ç½‘äººæ¥è¯´å”¯ä¸€ä¸å˜çš„å°±æ˜¯ä¸€ç›´åœ¨æ”¹å˜ï¼Œè€Œæˆ‘ä»¬éœ€è¦åšçš„å°±æ˜¯éšæœºåº”å˜ï¼Œé¡ºåº”æ—¶ä»£ï¼Œæ‹¥æŠ±å˜åŒ–ï¼Œæœ‰çš„äººä¼šè¯´ï¼Œå¦‚æœä¸è®¾å®šä¸€äº›ç›®æ ‡ï¼Œåˆ°æ—¶å€™æ— æ³•é‡åŒ–è‡ªå·±æ”¶è·ï¼Œå¯¼è‡´å¹´ç»ˆæ²¡ä»€ä¹ˆå¯å†™ï¼Œå…¶å®å¯¹äºæˆ‘æ¥è¯´ç«‹ä¸ç«‹flagå¯¹æˆ‘çœŸçš„æ²¡é‚£ä¹ˆé‡è¦ï¼Œæ¯å¤©å›åˆ°å®¶ï¼Œæ„Ÿåˆ°ä»Šå¤©å¾ˆå……å®å°±å¤Ÿäº†ï¼Œå°±åƒè€ç½—åœ¨â€œæ—¶é—´çš„æœ‹å‹â€é‡Œè¯´çš„ï¼šä½ æœ‰ä½ çš„è®¡åˆ’ï¼Œè€Œä¸–ç•Œå¦æœ‰è®¡åˆ’ã€‚ä¸è¿‡è¿˜æ˜¯è¯´ä¸‹å¯¹æœªæ¥çš„æœŸæœ›å§ï¼š å»ä¸€åˆ°ä¸¤ä¸ªå›½å®¶ åšæŒä¸€å‘¨ä¸‰æ¬¡5å…¬é‡Œâ€¦. æœ€åæˆ‘å–œæ¬¢å†™æ€»ç»“çš„æ„Ÿè§‰ï¼Œå› ä¸ºè¿™èƒ½è®©æˆ‘æŠŠä»Šå¹´ç»å†çš„æ‰€æœ‰é‡è¦çš„äº‹æƒ…åœ¨è„‘å­ç«‹è¿‡ä¸€éï¼Œå°±ä¼šè§‰å¾—æ²¡æœ‰ç™½è¿‡ï¼Œè®©æ¯ä¸€å¹´éƒ½è¿‡å¾—æœ‰ä»·å€¼ã€‚ æœ€åå¸Œæœ›æ¯äººçœ‹åˆ°æˆ‘è¿™ç¯‡æ–‡ç« çš„äººéƒ½èƒ½ä¸å¿˜åˆå¿ƒï¼Œæˆ‘ä»¬æ˜å¹´å†è§â€¦ æ‰ç–å­¦æµ…ï¼Œæ–‡ç¬”æ‹™åŠ£ï¼Œäº2019.2.14ä»“ä¿ƒæ‰§ç¬”â€¦.]]></content>
      <categories>
        <category>é—²è°ˆ</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>å›é¦–2018å±•æœ›2019</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[SVNåˆ‡æ¢åˆ°Git]]></title>
    <url>%2F2018%2F08%2F23%2FChangeSvnToGit%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ï¼šSVNå’ŒGitåŒæ ·éƒ½æ˜¯åœ¨ç‰¹å®šæ—¶ä»£ä¸‹æ¯”è¾ƒä¼˜ç§€çš„ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œä½†æ˜¯éšç€æ—¶ä»£çš„å‘å±•ï¼ŒSVNè¶Šæ¥è¶Šä¸èƒ½æ»¡è¶³å¤šäººå¼€å‘çš„éœ€æ±‚ï¼Œå°¤å…¶æ˜¯åœ¨å¤šç§å¤šæ ·ï¼Œå¤©é©¬æ˜Ÿç©ºçš„ä¸šåŠ¡åœºæ™¯é¢å‰ï¼ŒSVNä¼šæ˜¾å¾—åŠ›ä¸ä»å¿ƒã€‚]]></content>
      <categories>
        <category>é€šç”¨å¼€å‘</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>ä»£ç ç‰ˆæœ¬æ§åˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[GitFlowæµç¨‹]]></title>
    <url>%2F2018%2F08%2F23%2FGitFlow%2F</url>
    <content type="text"><![CDATA[å…³äºgitflowæ¦‚å¿µï¼šGit Flowæ˜¯æ„å»ºåœ¨Gitä¹‹ä¸Šçš„ä¸€ä¸ªç»„ç»‡ã€ç®¡ç†è½¯ä»¶å¼€å‘æ´»åŠ¨çš„æ¨¡å‹ã€‚Git Flowæ˜¯ä¸€å¥—ä½¿ç”¨Gitè¿›è¡Œæºä»£ç ç®¡ç†æ—¶çš„ä¸€å¥—è¡Œä¸ºè§„èŒƒå’Œï¼Œé€šè¿‡åˆ©ç”¨Gitåˆ›å»ºå’Œç®¡ç†åˆ†æ”¯çš„èƒ½åŠ›ï¼Œä¸ºæ¯ä¸ªåˆ†æ”¯è®¾å®šå…·æœ‰ç‰¹å®šçš„å«ä¹‰åç§°ï¼Œå¹¶å°†è½¯ä»¶ç”Ÿå‘½å‘¨æœŸä¸­çš„å„ç±»æ´»åŠ¨å½’å¹¶åˆ°ä¸åŒçš„åˆ†æ”¯ä¸Šã€‚å®ç°äº†è½¯ä»¶å¼€å‘è¿‡ç¨‹ä¸åŒæ“ä½œçš„ç›¸äº’éš”ç¦»ã€‚è¿™ç§è½¯ä»¶å¼€å‘çš„æ´»åŠ¨æ¨¡å‹è¢«ç§°ä¸ºâ€œGit Flowâ€ã€‚ åŸç†ï¼šgitflowçš„æ ¸å¿ƒå°±branchï¼Œé€šè¿‡åœ¨é¡¹ç›®çš„ä¸åŒé˜¶æ®µå¯¹branchçš„ä¸åŒæ“ä½œåŒ…æ‹¬ä½†ä¸é™äºcreateã€margeã€rebaseã€ç­‰æ¥å®ç°ä¸€ä¸ªå®Œæ•´çš„é«˜æ•ˆç‡çš„å·¥ä½œæµç¨‹ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œè½¯ä»¶å¼€å‘æ¨¡å‹æœ‰å¸¸è§çš„ç€‘å¸ƒæ¨¡å‹ã€è¿­ä»£å¼€å‘æ¨¡å‹ã€ä»¥åŠæœ€è¿‘å‡ºç°çš„æ•æ·å¼€å‘æ¨¡å‹ç­‰ä¸åŒçš„æ¨¡å‹ã€‚æ¯ç§æ¨¡å‹æœ‰å„è‡ªåº”ç”¨åœºæ™¯ã€‚Git Flowé‡ç‚¹è§£å†³çš„æ˜¯ç”±äºæºä»£ç åœ¨å¼€å‘è¿‡ç¨‹ä¸­çš„å„ç§å†²çªå¯¼è‡´å¼€å‘æ´»åŠ¨æ··ä¹±çš„é—®é¢˜ã€‚å› æ­¤ï¼ŒGit flowå¯ä»¥å¾ˆå¥½çš„äºå„ç§ç°æœ‰å¼€å‘æ¨¡å‹ç›¸ç»“åˆä½¿ç”¨ï¼Œå°¤å…¶æ˜¯å¤šäººåˆä½œå¼€å‘æ—¶æé«˜æ•ˆç‡ã€‚ç”¨ä¸€å¼ å›¾æ¥äº†è§£gitflowçš„æµç¨‹ï¼šä»å³å‘å·¦çœ‹ ä»ä¸Šåˆ°ä¸‹çœ‹ Branchï¼šBranchæ˜¯gitfolwçš„æ ¸å¿ƒã€‚ä¸»è¦åˆ†ä¸ºä¸¤å¤§ç±» Main Branchs å’Œ Supporting branches, å…¶ä¸­ Main Branchs ä¸­åˆåŒ…å«äº† Master å’Œ Developï¼Œè€Œ Supporting branches ä¸­åŒ…å«äº† Feature ã€Releaseã€Hotfix ä»¥åŠå…¶ä»–è‡ªå®šä¹‰åˆ†æ”¯ï¼Œä¸‹é¢é€ä¸€è®²è§£ï¼š Master: æè¿°ï¼š masteråˆ†æ”¯ä¸Šå­˜æ”¾çš„æ˜¯æœ€ç¨³å®šçš„æ­£å¼ç‰ˆçš„ä»£ç ï¼Œå¹¶ä¸”è¯¥åˆ†æ”¯çš„ä»£ç åº”è¯¥æ˜¯éšæ—¶å¯åœ¨å¼€å‘ç¯å¢ƒä¸­ä½¿ç”¨çš„ä»£ç ï¼ˆProduction Ready stateï¼‰ã€‚å½“ä¸€ä¸ªç‰ˆæœ¬å¼€å‘å®Œæ¯•åï¼Œäº§ç”Ÿäº†ä¸€ä»½æ–°çš„ç¨³å®šçš„å¯ä¾›å‘å¸ƒçš„ä»£ç æ—¶ï¼Œmasteråˆ†æ”¯ä¸Šçš„ä»£ç è¦è¢«æ›´æ–°ï¼ŒåŒæ—¶ï¼Œæ¯ä¸€æ¬¡æ›´æ–°ï¼Œéƒ½éœ€è¦åœ¨masterä¸Šæ‰“ä¸Šå¯¹åº”çš„ç‰ˆæœ¬å·(tag)ã€‚ ç”ŸæˆåŠé”€æ¯ï¼š ä»»ä½•äººä¸å…è®¸åœ¨masterä¸Šè¿›è¡Œä»£ç çš„ç›´æ¥æäº¤ï¼Œåªæ¥å—åˆå…¥ï¼ŒMasterä¸Šçš„ä»£ç å¿…é¡»æ˜¯è¦ä»ç»è¿‡å¤šè½®æµ‹è¯•ä¸”å·²ç»å‘å¸ƒä¸€æ®µæ—¶é—´(æ ¹æ®DAUä»¥åŠé¡¹ç›®å®é™…æƒ…å†µæ¥å®šï¼Œä¸ªäººå»ºè®®Kæ­Œå›½é™…ç‰ˆå¯ä»¥å®šä¸ºä¸€å‘¨)ä¸”çº¿ä¸Šå·²ç»ç¨³å®šçš„ release åˆ†æ”¯åˆå¹¶è¿›å»ï¼Œç„¶ååœ¨Master ä¸Šç”Ÿæˆtag(é€šå¸¸å°±æ˜¯å¯¹åº”çš„ç‰ˆæœ¬å·) å‘½åï¼š master Develop: æè¿°ï¼š developåˆ†æ”¯æ˜¯ä¿å­˜å½“å‰æœ€æ–°ç‰ˆæœ¬å¼€å‘æˆæœçš„åˆ†æ”¯ã€‚è¯¥åˆ†æ”¯ä¸Šçš„ä»£ç å…è®¸æœ‰BUGï¼Œä½†æ˜¯å¿…é¡»ä¿è¯ç¼–è¯‘é€šè¿‡ï¼Œä¸”è¯¥åˆ†æ”¯å¯ä»¥ä½œä¸ºæ¯å¤©å¤œé—´æµ‹è¯•çš„åˆ†æ”¯(å¦‚æœæœ‰å¤œé—´æµ‹è¯•çš„è¯)æ‰€ä»¥è¯¥åˆ†æ”¯ä¹Ÿå«åšNightly buildã€‚å½“developåˆ†æ”¯ä¸Šçš„ä»£ç å·²å®ç°äº†è½¯ä»¶éœ€æ±‚è¯´æ˜ä¹¦ä¸­æ‰€æœ‰çš„åŠŸèƒ½(å¿…é¡»ç»è¿‡å¼€å‘è‡ªæµ‹ï¼Œä½†æ˜¯ä¸å¿…ç»è¿‡QA)ä¸”ç›¸å¯¹ç¨³å®šæ—¶å€™ï¼Œå°±å¯ä»¥åŸºäºæ­¤åˆ†æ”¯æ¥æ‹‰å‡ºæ–°çš„releaseåˆ†æ”¯äº¤ä»˜QAè¿›è¡Œæµ‹è¯•ã€‚ ç”ŸæˆåŠé”€æ¯ï¼š Developåˆ†æ”¯æ˜¯ç”±ä¸€ä¸ªäºº(é€šå¸¸æ˜¯Team Leader)ä»Masterä¸­æ‹‰å‡ºï¼Œä»»ä½•äººä¸å¾—åœ¨Developä¸Šè¿›è¡Œä»£ç æäº¤ï¼Œåªæ¥å—åˆå…¥ã€‚Developä¸Šæ‰€æœ‰ä»£ç ä¸€å®šéƒ½æ˜¯ç”± Supporting branches ä¸­çš„Branchåˆå¹¶è¿›æ¥ï¼Œä¸”åˆå…¥Developçš„åˆ†æ”¯å¿…é¡»ä¿è¯åŠŸèƒ½å®Œæ•´ï¼Œå¯ä»¥ç‹¬ç«‹è¿è¡Œï¼Œå¯å…è®¸åŒ…å«ä¸€äº›BUG(ä½†æ˜¯æœ€å¥½ç»è¿‡è‡ªæµ‹ï¼Œä¸è¦æœ‰å¤ªå¤§æˆ–è€…å¤ªæ˜æ˜¾çš„BUGï¼Œæ¯”å¦‚ä¸€å¯åŠ¨å°±crashä¹‹ç±»çš„)ã€‚ å‘½åï¼š develop æµç¨‹ï¼š Feature: æè¿°ï¼š Featureåˆ†æ”¯é€šå¸¸å«åšåŠŸèƒ½åˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥å«åšä¸ªäººåˆ†æ”¯ï¼Œä¸€èˆ¬å‘½åä¸º feature/XXXX,è¯¥åˆ†æ”¯å°±æ˜¯æ¯ä¸€ä¸ªå¼€å‘äººå‘˜è¿›è¡Œå¼€å‘çš„åˆ†æ”¯ï¼Œæ¯”å¦‚åšä¸€äº›åŠŸèƒ½ã€éœ€æ±‚ä¹‹ç±»çš„ä¸œè¥¿ï¼Œè¿™ä¸ªåˆ†æ”¯ä¸Šçš„ä»£ç å˜æ›´æœ€ç»ˆåˆå¹¶å›developåˆ†æ”¯æˆ–è€…å¹²è„†è¢«æŠ›å¼ƒæ‰ï¼ˆä¾‹å¦‚å®éªŒæ€§ä¸”æ•ˆæœä¸å¥½çš„ä»£ç å˜æ›´ï¼‰ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œfeatureåˆ†æ”¯ä»£ç å¯ä»¥ä¿å­˜åœ¨å¼€å‘è€…è‡ªå·±çš„ä»£ç åº“ä¸­è€Œä¸å¼ºåˆ¶æäº¤åˆ°ä¸»ä»£ç åº“é‡Œã€‚ ç”ŸæˆåŠé”€æ¯ï¼š æ¯ä¸ªå¼€å‘è€…ä»é€šå¸¸ä¼šDevelopåˆ†æ”¯ä¸­æ‹‰å–è‡ªå·±çš„featureï¼Œä¸”å¼€å‘è€…å¯ä»¥éšæ„çš„åœ¨è‡ªå·±çš„featureä¸Šè¿›è¡Œæ“ä½œ åŒ…æ‹¬ä½†ä¸é™äº æäº¤ã€å›æ»šã€åˆ é™¤ã€‚å¦‚æœæœ€ç»ˆéœ€è¦åˆå¹¶å…¥developé‚£å°±è¦ä¿è¯åŠŸèƒ½çš„å®Œæ•´æ€§ä»¥åŠä»£ç çš„ç¨³å®šæ–°ï¼Œæ¯”å¦‚æˆ‘åœ¨featureä¸Šåšäº†3ä¸ªéœ€æ±‚ä½†æ˜¯ç”±äºæ—¶é—´å…³ç³»æˆ‘åªåšäº†ä¸¤ä¸ªï¼Œé‚£ä¹Ÿå¯ä»¥å°†featureåˆå¹¶å…¥developï¼Œç„¶åå‰©ä¸‹çš„é‚£ä¸€ä¸ªéœ€æ±‚ç­‰æœ‰æ—¶é—´äº†å†å»featureä¸Šåšå®Œä¹‹åå†åˆå…¥developã€‚æ‰€ä»¥è¿™é‡Œè¯´çš„åŠŸèƒ½çš„å®Œæ•´æ€§å¹¶ä¸æ˜¯å€¼å¾—è¦åšå®Œæ‰€æœ‰çš„åŠŸèƒ½ï¼Œè€Œæ˜¯è¦ä¿è¯ä½ æ‰€è¦åšçš„æ‰€æœ‰éœ€æ±‚ä¸­çš„æŸä¸€ä¸ªæˆ–è€…æŸå‡ ä¸ªåŠŸèƒ½å·²ç»åšå®Œï¼Œä¸å…è®¸æŠŠåšåˆ°ä¸€åŠçš„åŠŸåˆå¹¶å…¥developã€‚åˆå¹¶å…¥developå°½é‡ä¸Šåˆ é™¤è¿œç«¯çš„featureåˆ†æ”¯ï¼Œæœ¬åœ°çš„featureå¯ä»¥è§†æƒ…å†µè€Œå–èˆã€‚ å‘½åï¼š featureé€šå¸¸æ˜¯ä»developeä¸Šæ‹‰å– æ‰€æœ‰é€šå¸¸ç”¨ devåŠŸèƒ½æè¿°è‹±æ–‡å æ¥å‘½åã€‚æ¯”å¦‚ feature/dev_refresh_molierzhang æµç¨‹ï¼š Release: æè¿°ï¼š Releaseåˆ†æ”¯é€šå¸¸å«åšå‘å¸ƒåˆ†æ”¯ï¼Œä¹Ÿå¯ä»¥å«åšæµ‹è¯•-å‘å¸ƒåˆ†æ”¯ï¼Œä¸€èˆ¬å‘½åä¸º Release/1.2.3ï¼ˆåé¢æ˜¯ç‰ˆæœ¬å·ï¼‰,è¯¥åˆ†æ”¯æ˜¯ä¸ºæµ‹è¯•-å‘å¸ƒæ–°çš„äº§å“ç‰ˆæœ¬è€Œå¼€è¾Ÿçš„ã€‚å› ä¸ºåŒ…å«æµ‹è¯•æµç¨‹ï¼Œæ‰€ä»¥åœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šçš„ä»£ç å…è®¸åšå°çš„ç¼ºé™·ä¿®æ­£ã€å‡†å¤‡å‘å¸ƒç‰ˆæœ¬æ‰€éœ€çš„å„é¡¹è¯´æ˜ä¿¡æ¯ï¼ˆç‰ˆæœ¬å·ã€å‘å¸ƒæ—¶é—´ã€ç¼–è¯‘æ—¶é—´ç­‰ç­‰ï¼‰ã€‚é€šè¿‡åœ¨releaseåˆ†æ”¯ä¸Šè¿›è¡Œè¿™äº›å·¥ä½œå¯ä»¥è®©developåˆ†æ”¯ç©ºé—²å‡ºæ¥ä»¥æ¥å—æ–°çš„featureåˆ†æ”¯ä¸Šçš„ä»£ç æäº¤ï¼Œè¿›å…¥æ–°çš„è½¯ä»¶å¼€å‘è¿­ä»£å‘¨æœŸã€‚æ³¨æ„ï¼šè¯¥åˆ†æ”¯ä¸Šçš„ä»£ç ä¸€å®šæ˜¯å¯ç¼–è¯‘å¯è¿è¡Œçš„ï¼Œå…è®¸åŒ…å«å°BUG ç”ŸæˆåŠé”€æ¯ï¼š å½“developåˆ†æ”¯ä¸Šçš„ä»£ç å·²ç»åŒ…å«äº†è¯¥ç‰ˆæœ¬æ‰€æœ‰å³å°†å‘å¸ƒçš„åŠŸèƒ½å’Œéœ€æ±‚ï¼Œå¹¶ä¸”å·²é€šè¿‡è‡ªæµ‹ä¸”å·²åŸºæœ¬ç¨³å®šï¼Œæˆ‘ä»¬å°±å¯ä»¥è€ƒè™‘å‡†å¤‡åŸºäºdevelopæ‹‰å–releaseåˆ†æ”¯äº†ã€‚è€Œæ‰€æœ‰åœ¨å½“å‰å³å°†å‘å¸ƒçš„ç‰ˆæœ¬ä¹‹å¤–çš„ä¸šåŠ¡éœ€æ±‚ä¸€å®šè¦ç¡®ä¿ä¸èƒ½æ··åˆ°releaseåˆ†æ”¯ä¹‹å†…ï¼ˆé¿å…ç”±æ­¤å¼•å…¥ä¸€äº›ä¸å¯æ§çš„ç³»ç»Ÿç¼ºé™·ï¼‰ã€‚æˆåŠŸçš„æ´¾ç”Ÿäº†releaseåˆ†æ”¯ä¹‹åï¼Œdevelopåˆ†æ”¯å°±å¯ä»¥ä¸ºâ€œä¸‹ä¸€ä¸ªç‰ˆæœ¬â€æœåŠ¡äº†ã€‚æ‰€è°“çš„â€œä¸‹ä¸€ä¸ªç‰ˆæœ¬â€æ˜¯åœ¨å½“å‰å³å°†å‘å¸ƒçš„ç‰ˆæœ¬ä¹‹åå‘å¸ƒçš„ç‰ˆæœ¬ã€‚å¼€å‘äººå‘˜å¯ä»¥åœ¨æ­¤åˆ†æ”¯ä¸Šä¿®æ”¹BUGï¼Œè¿›è¡Œæäº¤ã€å›æ»šç­‰æ“ä½œï¼Œä½†æ˜¯ä¸featureä¸åŒçš„æ˜¯releaseåˆ†æ”¯æ˜¯è¢«å¤šäººæ“ä½œçš„ï¼Œä¸åƒfeatureï¼Œæ‰€ä»¥ä¸€å®šè¦å°å¿ƒé¿å…å†²çªã€‚å½“ç°åœ¨QAæµ‹è¯•æ²¡æœ‰é—®é¢˜ï¼Œä¾¿ä»releaseä¸Šå‘å¸ƒä¸Šçº¿ï¼Œä¸”ç»è¿‡ä¸€æ®µæ—¶é—´çš„éªŒè¯æ²¡æœ‰é—®é¢˜ååˆå…¥masterï¼Œå¹¶ä¸”åˆ é™¤releaseåˆ†æ”¯ï¼Œå…¶å®æ ¹æ®releaseåˆ†æ”¯çš„ç‰¹æ€§æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Git Hookè§¦å‘è½¯ä»¶è‡ªåŠ¨æµ‹è¯•ä»¥åŠç”Ÿäº§ç¯å¢ƒä»£ç çš„è‡ªåŠ¨æ›´æ–°å·¥ä½œã€‚è¿™äº›è‡ªåŠ¨åŒ–æ“ä½œå°†æœ‰åˆ©äºå‡å°‘æ–°ä»£ç å‘å¸ƒä¹‹åçš„ä¸€äº›äº‹åŠ¡æ€§å·¥ä½œã€‚ å‘½åï¼š release/1.2.3 åé¢è·Ÿå¯¹åº”çš„ç‰ˆæœ¬å· æµç¨‹ï¼š åŒfeature Hotfix: æè¿°ï¼š Hotfixå«çƒ­ä¿®å¤åˆ†æ”¯ï¼Œé™¤äº†æ˜¯è®¡åˆ’å¤–åˆ›å»ºçš„ä»¥å¤–ï¼Œhotfixåˆ†æ”¯ä¸releaseåˆ†æ”¯ååˆ†ç›¸ä¼¼ï¼Œå½“å·²ç»å‘å¸ƒçš„ç‰ˆæœ¬ï¼ˆMasterä¸Šä»£ç ï¼‰é‡åˆ°äº†å¼‚å¸¸æƒ…å†µæˆ–è€…å‘ç°äº†ä¸¥é‡åˆ°å¿…é¡»ç«‹å³ä¿®å¤çš„è½¯ä»¶ç¼ºé™·çš„æ—¶å€™ï¼Œå°±éœ€è¦ä»masteråˆ†æ”¯ä¸ŠæŒ‡å®šçš„tagç‰ˆæœ¬æ‹‰å–hotfixåˆ†æ”¯æ¥ç»„ç»‡ä»£ç çš„ç´§æ€¥ä¿®å¤å·¥ä½œã€‚è¿™æ ·åšçš„æ˜¾è€Œæ˜“è§çš„å¥½å¤„æ˜¯ä¸ä¼šæ‰“æ–­æ­£åœ¨è¿›è¡Œçš„developåˆ†æ”¯çš„å¼€å‘å·¥ä½œï¼Œèƒ½å¤Ÿè®©å›¢é˜Ÿä¸­è´Ÿè´£æ–°åŠŸèƒ½å¼€å‘çš„äººä¸è´Ÿè´£ä»£ç ç´§æ€¥ä¿®å¤çš„äººå¹¶è¡Œã€ç‹¬ç«‹çš„å¼€å±•å·¥ä½œã€‚ ç”ŸæˆåŠé”€æ¯ï¼š ç”±Masterä¸Šæ‹‰å–ï¼Œè¿›è¡Œä¿®å¤ï¼Œè´Ÿè´£ä¿®æ”¹BUGçš„åŒäº‹å¯ä»¥è¿›è¡Œæäº¤åŠå…¶å®ƒæ“ä½œï¼Œåç»­çš„çƒ­ä¿®å¤æµ‹è¯•ä¹Ÿåœ¨æ­¤åˆ†æ”¯ä¸Šè¿›è¡Œã€‚é€šè¿‡æµ‹è¯•éªŒè¯æ²¡é—®é¢˜åæœ‰ä¸€ä¸ªäºº(é€šå¸¸ä¸ºteamleader)åˆå¹¶å…¥Masteråˆ†æ”¯ï¼Œä¸”åŒæ—¶ä¹Ÿè¦åˆå¹¶å…¥Developåˆ†æ”¯ å‘½åï¼š Hotfix/1.2.3 åé¢è·Ÿå¯¹åº”çš„ç‰ˆæœ¬å· æµç¨‹ï¼š æ€»ç»“Git Flowå¼€å‘æ¨¡å‹ä»æºä»£ç ç®¡ç†è§’åº¦å¯¹é€šå¸¸æ„ä¹‰ä¸Šçš„è½¯ä»¶å¼€å‘æ´»åŠ¨è¿›è¡Œäº†çº¦æŸã€‚åº”è¯¥è¯´ï¼Œä¸ºæˆ‘ä»¬çš„è½¯ä»¶å¼€å‘æä¾›äº†ä¸€ä¸ªå¯ä¾›å‚è€ƒçš„ç®¡ç†æ¨¡å‹ã€‚Git Flowå¼€å‘æ¨¡å‹è®©å¼€å‘ä»£ç ä»“åº“ä¿æŒæ•´æ´ï¼Œè®©å°ç»„å„ä¸ªæˆå‘˜ä¹‹é—´çš„å¼€å‘ç›¸äº’éš”ç¦»ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé¿å…å¤„äºå¼€å‘çŠ¶æ€ä¸­çš„ä»£ç ç›¸äº’å½±å“è€Œå¯¼è‡´çš„æ•ˆç‡ä½ä¸‹å’Œæ··ä¹±ã€‚ æ‰€è°“æ¨¡å‹ï¼Œåœ¨ä¸åŒçš„å¼€å‘å›¢é˜Ÿï¼Œä¸åŒçš„æ–‡åŒ–ï¼Œä¸åŒçš„é¡¹ç›®èƒŒæ™¯æƒ…å†µä¸‹éƒ½æœ‰å¯èƒ½éœ€è¦è¿›è¡Œé€‚å½“çš„è£å‰ªæˆ–æ‰©å……ã€‚ æ•ˆç‡å·¥å…· æ¨è sourceTree å’Œ gitkarken(ç”¨å…è´¹ç‰ˆå³å¯ï¼Œä¸ç”¨å……é’±) å‰è€…å¯¹gitsubmodelçš„æ”¯æŒä¸å¤ªå¥½ï¼Œä¸è¿‡ç›®å‰ä»‹äºæˆ‘ä»¬æ²¡æœ‰å®ç°ç»„ä»¶åŒ–æ‰€ä»¥æš‚æ—¶å¯ä»¥æ— è§†ï¼›åè€…å®Œç¾æ”¯æŒgitsubmodelï¼Œä½†æ˜¯åœ¨æ‹‰å–ä¸€äº›æ¯”è¾ƒå¤§çš„åº“çš„æ—¶å€™å¯èƒ½ä¼šå¡æ­»ï¼Œå‰å…¬å¸ä¸€ä¸ªé¡¹ç›®30G+ ä¼šæœ‰å¡æ­»æƒ…å†µå‡ºç°ï¼Œåè€…ç•Œé¢ç‚«é…·ä¸€äº› iOSçš„è¯Xcdoeè‡ªå¸¦git ä¹Ÿå¯ä»¥è¯•è¯•ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>git</tag>
        <tag>æ•ˆç‡å·¥ä½œ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºå®ç°å”±å§æ¸…å”±åŠŸèƒ½çš„ç†è§£]]></title>
    <url>%2F2018%2F06%2F19%2FMusicAbout%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹AVFoundationåœ¨iOSä¸Šå¤šåª’ä½“çš„å¤„ç†ä¸»è¦ä¾èµ–çš„æ˜¯AVFoundationæ¡†æ¶ï¼Œè€ŒAVFoundationæ˜¯åŸºäºCoreAudioã€CoreVideoã€CoreMediaã€CoreAnimationä¹‹ä¸Šé«˜å±‚æ¡†æ¶ï¼Œåœ¨AVFoundationæ¡†æ¶ä¹‹ä¸Šè‹¹æœè¿˜æä¾›ç»™æˆ‘ä»¬æ›´é«˜å±‚ä¸€äº›å¤„ç†åª’ä½“æ•°æ®çš„æ¡†æ¶ã€‚ å¦‚AVKitã€iOSçš„UIKitã€OSçš„AppKitã€‚AVFoundationæä¾›äº†å¤§é‡å¼ºå¤§çš„å·¥å…·é›†ï¼Œå¯é€šè¿‡è¿™ä¸ªæ¡†æ¶å¤„ç†éŸ³è§†é¢‘ç¼–ç¨‹ï¼Œä½†æ˜¯å¦‚åŒè‹¹æœä¸­çš„çš„Kitä¸€æ ·ï¼Œå°è£…çš„è¶Šé«˜çº§ï¼Œä¸ªæ€§åŒ–å°±ä¼šå›°éš¾äº›ï¼Œä¸€äº›å®é™…é¡¹ç›®ä¸­çš„å¥‡è‘©éœ€æ±‚éš¾ä»¥å®ç°ã€‚æœ¬ç« æ‰€è®²çš„å†…å®¹æ˜¯AVFoundationä¸Šå±‚åŠ ä¸‹å±‚çš„AVAudioEngineå®ç°ã€‚ AVAudioEngineAVAudioEngineæ˜¯Objective-Cçš„éŸ³é¢‘APIæ¥å£ï¼Œå…·æœ‰ä½å»¶è¿Ÿ(low-latency)å’Œå®æ—¶(real-time)çš„éŸ³é¢‘åŠŸèƒ½ï¼Œå¹¶ä¸”å…·æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š è¯»å†™æ‰€æœ‰Core Audioæ”¯æŒçš„æ ¼å¼éŸ³é¢‘æ–‡ä»¶ æ’­æ”¾å’Œå½•éŸ³ä½¿ç”¨ (files) å’ŒéŸ³é¢‘ç¼“å†²åŒº (buffers) åŠ¨æ€é…ç½®éŸ³é¢‘å¤„ç†æ¨¡å— (audio processing blocks) å¯ä»¥è¿›è¡ŒéŸ³é¢‘æŒ–æ˜å¤„ç† (tap processing) å¯ä»¥è¿›è¡Œç«‹ä½“å£°éŸ³é¢‘ä¿¡å·æ··åˆå’Œ3dæ•ˆæœçš„æ··åˆ éŸ³ä¹è®¾å¤‡æ•°å­—æ¥å£MIDI å›æ”¾å’Œæ§åˆ¶ï¼Œé€šè¿‡ä¹å™¨çš„é‡‡æ ·å™¨ AVAudioEngineçš„å·¥ä½œåŸç†å¯ä»¥ç®€å•çš„åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†: ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºAVAudioEngineçš„æ¯ä¸€æ­¥æ“ä½œéƒ½æ˜¯ä¸€ä¸ªéŸ³é¢‘æ“ä½œèŠ‚ç‚¹(Node)ï¼Œæ¯ä¸ªå®Œæ•´çš„æ“ä½œéƒ½åŒ…å«è¾“å…¥èŠ‚ç‚¹å’Œè¾“å‡ºèŠ‚ç‚¹ä»¥åŠç»ä¸­é—´çš„è‹¥å¹²ä¸ªå¤„ç†èŠ‚ç‚¹ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼Œæ·»åŠ éŸ³æ•ˆã€æ··éŸ³ã€éŸ³é¢‘å¤„ç†ç­‰ã€‚æ•´ä½“çš„æµç¨‹å’ŒGPUImageçš„æµç¨‹å·®ä¸å¤šï¼Œéƒ½æ˜¯é“¾å¼ç»“æ„ï¼Œé€šè¿‡èŠ‚ç‚¹æ¥é“¾æ¥æˆä¸€ä¸ªå®Œæ•´çš„æµæ°´çº¿ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰è‡ªå·±ç‰¹æœ‰çš„å±æ€§ï¼Œå¯ä»¥é€šè¿‡æ”¹å˜å±æ€§çš„å€¼æ¥æ”¹å˜ç»ç”±è¯¥èŠ‚ç‚¹åçš„éŸ³é¢‘è¾“å‡ºæ•ˆæœï¼Œç”¨éŸ³æ•ˆèŠ‚ç‚¹ä¸¾ä¾‹ï¼šä¸€ä¸ªå£°éŸ³æµé€šè¿‡è¿™ä¸ªéŸ³æ•ˆèŠ‚ç‚¹ï¼Œå‡å¦‚è¿™ä¸ªèŠ‚ç‚¹å¯ä»¥ç»™è¯¥æ®µå£°éŸ³æ·»åŠ ä¸€ä¸ªå›å“çš„æ•ˆæœï¼Œé‚£ä¹ˆé€šè¿‡è¯¥èŠ‚ç‚¹ç‰¹æœ‰çš„å±æ€§å¯ä»¥è®¾ç½®å›æƒ³çš„é—´éš”ã€å¹²æ¹¿ç¨‹åº¦ç­‰ï¼Œè¿™æ ·ä¸€æ¥ç»è¿‡è¿™ä¸ªèŠ‚ç‚¹å¤„ç†è¿‡çš„å£°éŸ³æµå°±ä¼šå˜æˆæˆ‘ä»¬æƒ³è¦çš„æ ·å­ï¼Œç„¶åä»–ä½œä¸ºä¸ºä¸€ä¸ªè¾“å…¥äº†å†æ¬¡æµå…¥å…¶ä»–èŠ‚ç‚¹ã€‚ä¸Šå›¾çš„Mixerå…¶å®æ˜¯åŒ…å«è‹¥å¹²ä¸ªè¿™æ ·çš„éŸ³æ•ˆèŠ‚ç‚¹ åŸç†æ¸…å”±çš„åŠŸèƒ½å¾ˆç®€å•ï¼Œå°±æ˜¯é€šè¿‡éº¦å…‹é£å½•åˆ¶å£°éŸ³ï¼Œç„¶åæ·»åŠ éŸ³æ•ˆæˆ–è€…åšä¸€äº›å¤„ç†ä¹‹åå†è¾“å‡ºï¼Œå› ä¸ºä¸è¦é…ä¹ï¼Œæ‰€ä»¥çœç•¥äº†ä¸€å¤§éƒ¨åˆ†æ“ä½œ(æ·»åŠ é…ä¹å®Œæ•´Kæ­Œåœ¨ä¸‹æœŸä¼šè®²åˆ°)ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜å°±æ˜¯è€³è¿”ï¼Œä¹Ÿå«è¿”é€ï¼š è¿™ä¸ªä¸œè¥¿æ˜¯å¿…ä¸å¯å°‘çš„ï¼Œå› ä¸ºæœ‰äº†è€³è¿”ä½ å°±å¯ä»¥å®æ—¶è°ƒæ•´è‡ªå·±çš„å£°éŸ³ï¼Œæå¤§çš„é™ä½äº†èµ°è°ƒçš„é£é™©å’Œå°´å°¬ï¼Œä¸€ä¸ªå¾ˆç®€å•çš„ä¾‹å­ï¼Œç°åœ¨æœ‰ä¸å°‘äººå–œæ¬¢åœ¨æ°´æˆ¿å”±æ­Œæˆ–è€…æ˜¯æ´—æ¾¡çš„æ—¶å€™å”±æ­Œï¼ŒåŸå› å°±æ˜¯åœ¨æ°´æˆ¿æˆ–è€…æ˜¯å«ç”Ÿé—´é€šå¸¸ä¼šæœ‰å›éŸ³ï¼Œè€Œå›éŸ³å°±æ˜¯å¤©ç„¶çš„è€³è¿”ï¼Œæ‰€ä»¥åœ¨æœ‰å›éŸ³çš„åœ°æ–¹å”±æ­Œå°±ä¼šæ„Ÿè§‰è‡ªå·±çš„å£°éŸ³æ´ªäº®è€Œä¸”éŸ³å‡†å¾ˆå¥½(å› ä¸ºä½ å¯ä»¥å®æ—¶çš„é€šè¿‡å›éŸ³æ¥è°ƒæ•´è‡ªå·±çš„å£°è°ƒ)ã€‚æ¼”å”±ä¼šä¸Šå”±æ­Œçš„äººçš„è€³æœºä¸­éƒ½æ˜¯è€³è¿”ã€‚è€Œä¸”è€³è¿”è¦æœ‰ä¸€ä¸ªè¦æ±‚å°±æ˜¯ï¼Œä½ æ‰€å¬åˆ°çš„ä½ è‡ªå·±çš„å£°éŸ³ä¸€å®šè¦å’Œè§‚ä¼—æˆ–è€…æ˜¯å…¶ä»–çš„äººå¬åˆ°çš„ä¸€æ ·ï¼Œä¸ç„¶å°±ä¸ä¼šæœ‰ä½œç”¨ï¼Œæˆ‘ä»¬å¹³æ—¶è‡ªå·±è¯´è¯è‡ªå·±èƒ½å¬åˆ°æ˜¯å› ä¸ºå£°éŸ³é€šè¿‡éª¨ä¼ å¯¼åˆ°è¾¾æˆ‘ä»¬çš„è€³æœµï¼Œè€Œå¬ä¼—å¬åˆ°çš„æ˜¯é€šè¿‡ç©ºæ°”ä»‹è´¨ä¼ æ’­ï¼Œæ‰€ä»¥æ˜¯å¦æœ‰è€³è¿”ç›´æ¥å†³å®šäº†ä½ æ¼”å”±è´¨é‡çš„å¥½åã€‚ ä½¿ç”¨AVAudioEngineæ¥å®Œæˆè¿™ä¸ªåŠŸèƒ½å…¶å®å°±æ˜¯è¿ç”¨äº†ä»–çš„å®æ—¶éŸ³é¢‘çš„ç‰¹ç‚¹ï¼Œä»–å¯ä»¥å‡ ä¹åœ¨æ²¡æœ‰å»¶è¿Ÿçš„æƒ…å†µä¸‹åŒæ—¶åˆ›å»ºéŸ³é¢‘çš„è¾“å…¥å’Œè¾“å‡ºï¼Œè€Œä¸”å¯¹è¿™ä¸ªåšäº†é«˜åº¦çš„å°è£…ä½¿æˆ‘ä»¬èƒ½æ›´åŠ å…³å¿ƒéŸ³æ•ˆè°ƒæ•´ å®ç°åˆ›å»ºéŸ³é¢‘æ–‡ä»¶ç”¨æ¥æ¥æ”¶å¾…å½•åˆ¶çš„å£°éŸ³ï¼š//åˆ›å»ºéŸ³é¢‘æ–‡ä»¶ã€‚ NSString * path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0]; NSString * filePath = [path stringByAppendingPathComponent:@"123.caf"]; NSURL * url = [NSURL fileURLWithPath:filePath]; åˆ›å»ºAVAudioEngineï¼Œå¹¶æ‰“é€šè¾“å…¥å’Œè¾“å‡ºèŠ‚ç‚¹ï¼š åˆ›å»ºAVAudioEngineï¼Œå¹¶åˆå§‹åŒ–ã€‚è¿™é‡Œè¦å¼„æˆå±æ€§ä¸ç„¶ä¼šè¢«é‡Šæ”¾ï¼Œæ²¡æœ‰æ•ˆæœ @interface ViewController ()&#123;@property (nonatomic, strong) AVAudioEngine * engine;@property (nonatomic, strong) AVAudioMixerNode * mixer;@end self.engine = [[AVAudioEngine alloc] init];self.mixer = [[AVAudioMixerNode alloc] init]; æ‰“é€šè¾“å…¥å’Œè¾“å‡ºèŠ‚ç‚¹ï¼š [_engine connect:_engine.inputNode to:_engine.outputNode format:[_engine.inputNode inputFormatForBus:AVAudioPlayerNodeBufferLoops]]; æ‰€ä½¿ç”¨çš„æ˜¯å¦‚ä¸‹æ–¹æ³•ã€‚ /*! @method connect:to:format: @abstract Establish a connection between two nodes @discussion This calls connect:to:fromBus:toBus:format: using bus 0 on the source node, and bus 0 on the destination node, except in the case of a destination which is a mixer, in which case the destination is the mixer's nextAvailableInputBus.*/- (void)connect:(AVAudioNode *)node1 to:(AVAudioNode *)node2 format:(AVAudioFormat * __nullable)format; å¼€å¯AVAudioEngine: è¯¥æ–¹æ³•å¯èƒ½ä¼šå¼€å¯å¤±è´¥ï¼Œéœ€è¦å¼€å‘è€…è‡ªå®šå»å¤„ç† [_engine startAndReturnError:nil]; ä»¥ä¸Šæ­¥éª¤èµ°å®Œåå¹¶ä¸”å¼€å¯æˆåŠŸä½ å°±ä¼šå‘ç°ä½ ä»è€³æœºé‡Œé¢å¯ä»¥å®æ—¶çš„å¬åˆ°ä½ çš„å£°éŸ³äº†ã€‚ éŸ³æ•ˆï¼š æ­£å¸¸æ¥è¯´å…‰æœ‰è€³è¿”è¿˜ä¸å¤Ÿï¼Œå› ä¸ºæ¸…å”±è™½ç„¶æ²¡æœ‰é…ä¹ä¼´å¥ï¼Œä½†æ˜¯æ˜¯æ”¯æŒç”¨æˆ·è°ƒèŠ‚éŸ³æ•ˆçš„ï¼Œç±»ä¼¼äºå˜å£°ã€‚è¿™å°±ç”¨åˆ°AVAudioEngineä¸­çš„AVAudioUnitEffectç±»ã€‚ 1.AVAudioUnitReverb:æ··å“ï¼Œæ··å“å¯ä»¥æ¨¡æ‹Ÿå’±ä»¬åœ¨ä¸€ä¸ªç©ºæ—·çš„ç¯å¢ƒï¼Œæ¯”å¦‚æ•™å ‚ã€å¤§æˆ¿é—´ç­‰ï¼Œè¿™æ ·å’±ä»¬åœ¨è¯´è¯çš„æ—¶å€™ï¼Œå°±ä¼šæœ‰å›éŸ³ï¼Œå¹¶ä¸”å£°éŸ³ä¹Ÿæ¯”è¾ƒæœ‰ç«‹ä½“æ„Ÿã€‚å…¶ä¸­è¯¥ç±»åˆ«ä¸‹é¢åˆåˆ†ä¸ºtypedef NS_ENUM(NSInteger, AVAudioUnitReverbPreset) &#123; AVAudioUnitReverbPresetSmallRoom = 0, AVAudioUnitReverbPresetMediumRoom = 1, AVAudioUnitReverbPresetLargeRoom = 2, AVAudioUnitReverbPresetMediumHall = 3, AVAudioUnitReverbPresetLargeHall = 4, AVAudioUnitReverbPresetPlate = 5, AVAudioUnitReverbPresetMediumChamber = 6, AVAudioUnitReverbPresetLargeChamber = 7, AVAudioUnitReverbPresetCathedral = 8, AVAudioUnitReverbPresetLargeRoom2 = 9, AVAudioUnitReverbPresetMediumHall2 = 10, AVAudioUnitReverbPresetMediumHall3 = 11, AVAudioUnitReverbPresetLargeHall2 = 12 &#125; NS_ENUM_AVAILABLE(10_10, 8_0); ä»åå­—å¯ä»¥çœ‹å‡ºæ˜¯åœ¨æ¨¡æ‹Ÿä¸åŒç¯å¢ƒä¸‹çš„éŸ³æ•ˆï¼Œæ¯”å¦‚å…¶ä¸­çš„å¤§ä¸­å°å±‹å­ï¼Œå¤§å…ç­‰ã€‚ è¯¥ç±»åˆ«å¯ä»¥è‡ªå®šä¹‰çš„å±æ€§æ˜¯wetDryMixï¼Œå°±æ˜¯å¯ä»¥è®©æˆ‘ä»¬çš„å£°éŸ³æ›´ç©ºçµã€‚ /*! @property wetDryMix @abstract Blend of the wet and dry signals Range: 0 (all dry) -&gt; 100 (all wet) Unit: Percent */@property (nonatomic) float wetDryMix; å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼åˆ›å»ºAVAudioUnitReverb AVAudioUnitReverb * reverd = [[AVAudioUnitReverb alloc] init];reverd.wetDryMix = 100;[reverd loadFactoryPreset:AVAudioUnitReverbPresetLargeRoom]; 2.AVAudioUnitEQ:å‡è¡¡å™¨ï¼Œå’±ä»¬å¯ä»¥ä½¿ç”¨å‡è¡¡å™¨æ¥è°ƒèŠ‚å’±ä»¬éŸ³é¢‘çš„å„ä¸ªé¢‘æ®µï¼Œæ¯”å¦‚ï¼Œæˆ‘æƒ³è®©æˆ‘çš„ä½éŸ³æ›´åŠ æµ‘åšï¼Œæˆ‘å°±å¯ä»¥è°ƒèŠ‚EQçš„20-150HZçš„é¢‘æ®µï¼Œå¦‚æœä½ æƒ³è®©ä½ çš„å£°éŸ³æ›´åŠ æ˜äº®ï¼Œé‚£å¯ä»¥è°ƒèŠ‚500-1KHZçš„é¢‘æ®µ,è¿™ä¸ªè°ƒèŠ‚æ¶‰åŠåˆ°ä¸€äº›ä¸“ä¸šæ–¹é¢çš„çŸ¥è¯†ï¼Œå¦‚æœåªæ˜¯æƒ³è®©ç”¨æˆ·å»ä½¿ç”¨çš„è¯ï¼Œå¯ä»¥ç”¨è‹¹æœç»™æˆ‘ä»¬æ›´å°è£…å¥½çš„å‡ ä¸ªæ•ˆæœå³å¯ï¼Œè¿™ä¸ªå°±ç±»ä¼¼äºphotoshopå’Œç¾å›¾ç§€ç§€çš„åŒºåˆ«ã€‚ typedef NS_ENUM(NSInteger, AVAudioUnitEQFilterType) &#123; AVAudioUnitEQFilterTypeParametric = 0, AVAudioUnitEQFilterTypeLowPass = 1, AVAudioUnitEQFilterTypeHighPass = 2, AVAudioUnitEQFilterTypeResonantLowPass = 3, AVAudioUnitEQFilterTypeResonantHighPass = 4, AVAudioUnitEQFilterTypeBandPass = 5, AVAudioUnitEQFilterTypeBandStop = 6, AVAudioUnitEQFilterTypeLowShelf = 7, AVAudioUnitEQFilterTypeHighShelf = 8, AVAudioUnitEQFilterTypeResonantLowShelf = 9, AVAudioUnitEQFilterTypeResonantHighShelf = 10, &#125; NS_ENUM_AVAILABLE(10_10, 8_0); ä¸Šé¢æ˜¯ä¸€äº›è‹¹æœå¸®åŠ©æˆ‘ä»¬å®šä¹‰å¥½çš„æ»¤æ³¢å™¨ï¼Œæ¯”å¦‚ä½é€šæ»¤æ³¢å™¨ è¡°å¼±é«˜é¢‘ã€å¯ä»¥å¼•å‘å…±é¸£çš„ ä½é€šæ»¤æ³¢å™¨ä¸è¿‡ä¸€èˆ¬åœ¨æ¸…å”±çš„æ—¶å€™è¿™ä¸ªç”¨å¤„ä¸å¤§ï¼Œè¿™ä¸ªæ•ˆæœä¸»è¦ç”¨åˆ°åœ¨é…åˆä¼´å¥çš„æ—¶å€™ï¼Œå¦‚æœä¼´å¥éŸ³è°ƒè¿‡é«˜ï¼Œå¯ä»¥ä½¿ç”¨è¯¥æ–¹æ³•é€‚å½“çš„æé«˜äººå£°éŸ³è°ƒæˆ–è€…é™ä½ä¼´å¥çš„éŸ³è°ƒï¼Œ å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ä½¿ç”¨,ç„¶åæ›´æ”¹è¿™ä¸ªèŠ‚ç‚¹ä¸€äº›å±æ€§å€¼ã€‚ AVAudioUnitEQ * eq = [[AVAudioUnitEQ alloc] initWithNumberOfBands:1];AVAudioUnitEQFilterParameters * filter = eq.bands.firstObject;filter.filterType = AVAudioUnitEQFilterTypeResonantHighShelf;filter.bandwidth = 10;filter.gain = 20; 3.AVAudioUnitDistortionï¼šå¤±çœŸï¼Œè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ç”µéŸ³ï¼Œä¸€èˆ¬è¯´å”±æˆ–è€…æ‘‡æ»šï¼Œé‡é‡‘å±ä¹‹ç±»çš„æ›²é£ä¼šç”¨åˆ°è¿™ä¸ªæ•ˆæœï¼ŒåŒæ ·è‹¹æœç»™æˆ‘ä»¬æä¾›äº†é¢„è®¾çš„å‡ ä¸ªæ•ˆæœï¼Œå¦‚æœä¸æ˜¯æœ‰ä¸“ä¸šçš„éœ€æ±‚æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ typedef NS_ENUM(NSInteger, AVAudioUnitDistortionPreset) &#123; AVAudioUnitDistortionPresetDrumsBitBrush = 0, AVAudioUnitDistortionPresetDrumsBufferBeats = 1, AVAudioUnitDistortionPresetDrumsLoFi = 2, AVAudioUnitDistortionPresetMultiBrokenSpeaker = 3, AVAudioUnitDistortionPresetMultiCellphoneConcert = 4, AVAudioUnitDistortionPresetMultiDecimated1 = 5, AVAudioUnitDistortionPresetMultiDecimated2 = 6, AVAudioUnitDistortionPresetMultiDecimated3 = 7, AVAudioUnitDistortionPresetMultiDecimated4 = 8, AVAudioUnitDistortionPresetMultiDistortedFunk = 9, AVAudioUnitDistortionPresetMultiDistortedCubed = 10, AVAudioUnitDistortionPresetMultiDistortedSquared = 11, AVAudioUnitDistortionPresetMultiEcho1 = 12, AVAudioUnitDistortionPresetMultiEcho2 = 13, AVAudioUnitDistortionPresetMultiEchoTight1 = 14, AVAudioUnitDistortionPresetMultiEchoTight2 = 15, AVAudioUnitDistortionPresetMultiEverythingIsBroken = 16, AVAudioUnitDistortionPresetSpeechAlienChatter = 17, AVAudioUnitDistortionPresetSpeechCosmicInterference = 18, AVAudioUnitDistortionPresetSpeechGoldenPi = 19, AVAudioUnitDistortionPresetSpeechRadioTower = 20, AVAudioUnitDistortionPresetSpeechWaves = 21&#125; NS_ENUM_AVAILABLE(10_10, 8_0); å…¶å®é‡Œé¢æœ‰äº›è¿˜æ˜¯æ¯”è¾ƒæœ‰æ„Ÿè§‰çš„ï¼Œæ¯”å¦‚æ‰­æ›²çš„ç«‹æ–¹ä½“ï¼Œæˆ–è€…å¤–æ˜Ÿäººçš„å–‹å–‹ä¸ä¼‘ç­‰ã€‚æœ‰å…´è¶£çš„å¯ä»¥è¯´éƒ½è¯•è¯• ä½¿ç”¨æ–¹å¼åŒä¹‹å‰çš„æ•ˆæœä¸€æ · AVAudioUnitDistortion * dist = [[AVAudioUnitDistortion alloc] init];[dist loadFactoryPreset:AVAudioUnitDistortionPresetDrumsBitBrush];dist.preGain = 4;dist.wetDryMix = 100; 4.AVAudioUnitDelay:å»¶è¿Ÿï¼Œå»¶è¿Ÿå°±æ˜¯ å‘å‡ºä¸€ä¸ªå£°éŸ³ä¹‹åï¼Œè¿‡æ®µæ—¶é—´å†æ¬¡å‘å‡ºï¼Œä¸€ç›´è¡°å‡åˆ°å¬ä¸è§ã€‚ç±»ä¼¼å’±ä»¬çš„å›å£°ã€‚å¯ä»¥é€šè¿‡é‡Œé¢çš„å±æ€§å»ç»†å¾®çš„è°ƒèŠ‚å»¶è¿Ÿçš„æ—¶é—´ã€é€Ÿåº¦ç­‰ã€‚ æ·»åŠ éŸ³æ•ˆï¼šä¸»è¦æµç¨‹å°±æ˜¯é“¾å¼å…³ç³» input(Micæˆ–è€…éŸ³é¢‘æ–‡ä»¶) -&gt;æ•ˆæœå™¨-&gt;output å¦‚æœæ˜¯å¤šä¸ªéŸ³æ•ˆ input(Micæˆ–è€…éŸ³é¢‘æ–‡ä»¶) -&gt;æ•ˆæœå™¨1-&gt;æ•ˆæœå™¨2-&gt;output æˆ‘ä»¬ä»¥AVAudioUnitReverbæ•ˆæœä¸ºä¾‹ AVAudioUnitReverb * reverb = [[AVAudioUnitReverb alloc] init];[reverb loadFactoryPreset:AVAudioUnitReverbPresetLargeRoom];reverb.wetDryMix = 100;//æŠŠæ··å“é™„ç€åˆ°éŸ³é¢‘å¼•æ“[_engine attachNode:reverb];//ä¾æ¬¡é“¾æ¥è¾“å…¥-&gt; æ··å“ -&gt; è¾“å‡º[_engine connect:_engine.inputNode to:reverb format:[_engine.inputNode inputFormatForBus:AVAudioPlayerNodeBufferLoops]];[_engine connect:reverb to:_engine.outputNode format:[_engine.inputNode inputFormatForBus:AVAudioPlayerNodeBufferLoops]];//å¯åŠ¨å¼•æ“[_engine startAndReturnError:nil]; åŒç†æ·»åŠ å¤šä¸ªéŸ³æ•ˆåˆ™éœ€è¦ä¸¥æ ¼æŒ‰ç…§ input(Micæˆ–è€…éŸ³é¢‘æ–‡ä»¶) -&gt;æ•ˆæœå™¨1-&gt;æ•ˆæœå™¨2-&gt;output é¡ºåºæ¥æ·»åŠ  ç»¼ä¸Šï¼šå®Œæˆäº†ä»¥ä¸Šæ‰€æœ‰æ“ä½œåä½ å°±å¯ä»¥å®æ—¶åœ¨è€³æœºä¸­å¬åˆ°è‡ªå·±ç»è¿‡éŸ³æ•ˆå¤„ç†è¿‡çš„å£°éŸ³äº†ï¼Œè€Œä¸”è¿™æ ·å¸¦ç€è€³æœºå”±æ­Œæ•ˆæœä¼šéå¸¸å¥½ï¼Œå£°éŸ³æ´ªäº®ä¸æ˜“è·‘è°ƒã€‚è¿˜å¯ä»¥é’ˆå¯¹ä¸åŒçš„æ›²é£è°ƒæ•´è‡ªå·±çš„éŸ³æ•ˆã€‚ å£°éŸ³æ··åˆã€å†™å…¥æœ¬åœ°ï¼šæˆ‘ä»¬éœ€è¦æŠŠæˆ‘ä»¬æ¸…å”±çš„æ­Œæ›²å½•åˆ¶åˆ°æœ¬åœ°ï¼Œæ­£å¸¸çš„å½•åˆ¶æ—¶ä½¿ç”¨AVAudioRecorderæ¥è¿›è¡Œå½•åˆ¶çš„ï¼Œåƒè¿™æ · AVAudioSession * session = [AVAudioSession sharedInstance]; [session setCategory:AVAudioSessionCategoryPlayAndRecord error:nil]; [session setActive:YES error:nil]; NSString * path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0]; self.filePath = [path stringByAppendingPathComponent:@"SoWeak"]; self.recordFileUrl = [NSURL fileURLWithPath:self.filePath]; //è®¾ç½®å‚æ•° NSDictionary *recordSetting = [[NSDictionary alloc] initWithObjectsAndKeys: //é‡‡æ ·ç‡ 8000/11025/22050/44100/96000ï¼ˆå½±å“éŸ³é¢‘çš„è´¨é‡ï¼‰ [NSNumber numberWithFloat: 8000.0],AVSampleRateKey, // éŸ³é¢‘æ ¼å¼ [NSNumber numberWithInt: kAudioFormatLinearPCM],AVFormatIDKey, //é‡‡æ ·ä½æ•° 8ã€16ã€24ã€32 é»˜è®¤ä¸º16 [NSNumber numberWithInt:16],AVLinearPCMBitDepthKey, // éŸ³é¢‘é€šé“æ•° 1 æˆ– 2 [NSNumber numberWithInt: 2], AVNumberOfChannelsKey, //å½•éŸ³è´¨é‡ [NSNumber numberWithInt:AVAudioQualityHigh],AVEncoderAudioQualityKey, nil]; self.recorder = [[AVAudioRecorder alloc] initWithURL:self.recordFileUrl settings:recordSetting error:nil]; if (self.recorder) &#123; _recorder.meteringEnabled = YES; [_recorder prepareToRecord]; [_recorder record]; &#125; ä½†æ˜¯å¾ˆæ˜æ˜¾è¿™æ ·å½•åˆ¶å£°éŸ³éœ€è¦å¼€å¯session è€Œå£°éŸ³çš„sessionæ˜¯ä¸€ä¸ªå•åˆ©ï¼Œå¦‚æœè¿™æ ·å¼€å¯äº†é‚£ä¹ˆæˆ‘ä»¬åé¢å°±ä¸èƒ½ç”¨AVAudioEngineæ¥è¿›è¡ŒéŸ³é¢‘é‡‡é›†äº†ï¼Œä¹Ÿå°±æ²¡æœ‰ä¹‹å‰çš„æ•ˆæœã€‚æ‰€æœ‰æ ¹æ®ä»¥å¾€çš„ç»éªŒï¼ŒAVAudioEngineåœ¨å¼€å¯å¼•æ“ä¹‹åä¸€å®šä¼šæœ‰ä¸€ä¸ªdelegateæˆ–è€…æ˜¯blockå›è°ƒå‡ºé‡‡é›†åˆ°çš„æ•°æ®çš„ã€‚äºæ˜¯æˆ‘ä»¬æ‰¾åˆ°äº†AudioNodeä¸­çš„è¿™ä¸ªæ–¹æ³•ï¼š- (void)installTapOnBus:(AVAudioNodeBus)bus bufferSize:(AVAudioFrameCount)bufferSize format:(AVAudioFormat * __nullable)format block:(AVAudioNodeTapBlock)tapBlock; å…¶ä¸­çš„blockçš„buffer ä¾¿æ˜¯æˆ‘ä»¬é‡‡é›†åˆ°çš„æ•°æ®ã€‚ /*! @typedef AVAudioNodeTapBlock @abstract A block that receives copies of the output of an AVAudioNode. @param buffer a buffer of audio captured from the output of an AVAudioNode @param when the time at which the buffer was captured @discussion CAUTION: This callback may be invoked on a thread other than the main thread.*/typedef void (^AVAudioNodeTapBlock)(AVAudioPCMBuffer *buffer, AVAudioTime *when); æˆ‘ä»¬éœ€è¦æŠŠbufferè½¬æˆAVAudioFileç„¶åé€šè¿‡AVAudioFileçš„writeæ–¹æ³•å†™å…¥åˆå§‹åŒ–AVAudioFileAVAudioFile * audioFile = [[AVAudioFile alloc] initForWriting:url settings:@&#123;&#125; error:nil];ç„¶ååœ¨blockä¸­å®ç°[audioFile writeFromBuffer:buffer error:nil]; è¿™ä¸ªæ—¶å€™å†™å…¥æˆåŠŸç„¶åæ’­æ”¾æœ¬åœ°å½•éŸ³æ–‡ä»¶å‘ç°åªæœ‰è‡ªå·±çš„åŸç”Ÿï¼Œå¹¶æ²¡æœ‰åé¢æ·»åŠ çš„éŸ³æ•ˆï¼Œå›éŸ³ç­‰æ•ˆæœã€‚ å…¶å®æ˜¯å› ä¸ºæˆ‘ä»¬è™½ç„¶æ·»åŠ äº†éŸ³æ•ˆä½†æ˜¯æˆ‘ä»¬æ²¡æœ‰æŠŠéŸ³æ•ˆå’ŒåŸç”Ÿæ··åˆåœ¨ä¸€èµ·ï¼Œå³ä½¿æˆ‘ä»¬å®æ—¶å¬åˆ°çš„æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å½“ä¿å­˜åˆ°æœ¬åœ°ä¹‹åå¦‚æœæ²¡æœ‰åšæ··åˆï¼Œç³»ç»Ÿä¼šé»˜è®¤å°†æœ€åŸå§‹çš„å£°éŸ³å†™å…¥æœ¬åœ°ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ° AVAudioMixerNode ä»–æ˜¯ç»§æ‰¿ä¸AVAudioNode ä¹Ÿå±äºä¸€ä¸ªç‰¹æ®ŠéŸ³é¢‘å¤„ç†èŠ‚ç‚¹ï¼Œä½¿ç”¨æ–¹å¼å’Œä¹‹å‰çš„éŸ³æ•ˆèŠ‚ç‚¹ä¸€æ ·ï¼Œæ·»åŠ åœ¨æ‰€æœ‰çš„å¤„ç†ä¹‹åã€è¾“å‡ºä¹‹å‰å³å¯ï¼Œåƒè¿™æ · input(Micæˆ–è€…éŸ³é¢‘æ–‡ä»¶) -&gt;æ•ˆæœå™¨1-&gt;æ•ˆæœå™¨2-&gt;Mixer-&gt;output ä¸è¿‡å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯è¿™ä¸ªmixeræœ€å¥½ä¹Ÿå†™æˆå±æ€§ã€ä¸ç„¶ä¼šå‡ºé—®é¢˜ã€‚ æ‰€ä»¥ä¸€ä¸ªå®Œæ•´çš„å¸¦éŸ³æ•ˆçš„æ¸…å”±å½•åˆ¶ä¸ºï¼š//åˆ›å»ºéŸ³é¢‘æ–‡ä»¶ã€‚ NSString * path = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0]; NSString * filePath = [path stringByAppendingPathComponent:@"123.caf"]; NSURL * url = [NSURL fileURLWithPath:filePath]; AVAudioFile * audioFile = [[AVAudioFile alloc] initForWriting:url settings:@&#123;&#125; error:nil]; self.recordFileUrl = url; AVAudioUnitReverb * reverd = [[AVAudioUnitReverb alloc] init]; reverd.wetDryMix = 100; [reverd loadFactoryPreset:AVAudioUnitReverbPresetLargeRoom]; [self.engine attachNode:reverd]; [self.engine attachNode:_mixer]; [self.engine connect:self.engine.inputNode to:reverd format:audioFile.processingFormat]; [self.engine connect:reverd to:_mixer format:audioFile.processingFormat]; [self.engine connect:_mixer to:self.engine.outputNode format:audioFile.processingFormat]; [_mixer installTapOnBus:0 bufferSize:4096 format:[_engine.inputNode inputFormatForBus:AVAudioPlayerNodeBufferLoops] block:^(AVAudioPCMBuffer * _Nonnull buffer, AVAudioTime * _Nonnull when) &#123; [audioFile writeFromBuffer:buffer error:nil]; NSLog(@"æˆ‘å½•åˆ¶åˆ°çš„æ•°æ®æ˜¯ === %@", buffer); &#125;]; [self.engine startAndReturnError:nil]; æ€»ç»“é€šè¿‡å¦‚ä¸Šæ–¹æ³•å¯ä»¥å®Œæ•´çš„å®ç°æ¸…å”±åŠŸèƒ½ï¼Œä½†æ˜¯å”±å§æ¸…å”±ä½¿ç”¨çš„æ˜¯AudioUnitï¼ŒAudioUnitæ˜¯iOSä¸­éŸ³é¢‘çš„éå¸¸åº•å±‚çš„å®ç°ï¼Œç”±Cè¯­è¨€å®ç°ï¼Œå› ä¸ºå”±å§ä¸­é™¤äº†æ¸…å”±ä¹‹å¤–è¿˜æœ‰å¾ˆå¤šéå¸¸å¤æ‚çš„éŸ³é¢‘å¤„ç†åŠŸèƒ½ï¼Œæ‰€ä»¥åªæœ‰AudioUnitå¯ä»¥æ»¡è¶³ï¼Œä½†æ˜¯å¯¹äºæ¸…å”±è¿™ä¸ªåŠŸèƒ½æ¥è¯´ï¼Œä¸¤ç§å®ç°æ–¹å¼è¾¾åˆ°äº†åŒæ ·çš„æ•ˆæœï¼Œæœ¬æ–‡ä»‹ç»çš„æ›´åŠ è½»é‡çº§ï¼Œä¸è¿‡å…³äºAudioUnitä¹Ÿæ­£åœ¨å­¦ä¹ è¿‡ç¨‹ï¼Œåç»­ä¼šè¾“å‡ºç›¸åº”çš„æ–‡ç« ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>éŸ³é¢‘</tag>
        <tag>å”±å§</tag>
        <tag>Kæ­Œ</tag>
        <tag>AVFoundation</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºRxSwiftçš„ä¸€ç‚¹ç†è§£]]></title>
    <url>%2F2018%2F05%2F08%2FRX-Swift-Study-One%2F</url>
    <content type="text"><![CDATA[Hello RxSwift!è¿™æœ¬ä¹¦å¯ä»¥è®©ä½ ç”¨Swiftæ¥ç¼–å†™å“åº”å¼ç¼–ç¨‹ä»£ç ã€‚ä½†æ˜¯åˆ°åº•ä»€ä¹ˆæ˜¯RxSwift,è¿™é‡Œæœ‰å¾ˆå¥½çš„å®šä¹‰ï¼š RxSwiftæ˜¯ç”±å¯è¢«è§‚å¯Ÿçš„äº‹ä»¶çš„å¼‚æ­¥é˜Ÿåˆ—å’Œå¯æ“ä½œçš„åŠŸèƒ½æ€§çš„è¿ç®—ç¬¦ç»„æˆçš„åº“ï¼Œå¹¶ä¸”ä»–å¯ä»¥ç”±è°ƒåº¦è€…é€šè¿‡å‚æ•°çš„æ–¹å¼è¿›è¡Œè°ƒåº¦ã€‚ å¬èµ·æ¥å¾ˆå¤æ‚ï¼Ÿå…¶å®ä¸ç”¨æ‹…å¿ƒï¼Œå› ä¸ºæ— è®ºæ˜¯ä½ ç¼–å†™å“åº”å¼ç¼–ç¨‹ï¼Œè¿˜æ˜¯ç†è§£ä»–ä»¬èƒŒåçš„æ€æƒ³å’Œä¸€äº›ç›¸å…³çš„ä¸œè¥¿ï¼Œå®˜æ–¹é€šå¸¸éƒ½æ˜¯ç”¨ä¸€äº›å¾ˆå“äººçš„æœ¯è¯­æ¥è§£é‡Šã€‚å°¤å…¶æ˜¯å½“ä½ ç¬¬ä¸€æ¬¡æ¥è§¦ï¼Œæˆ–è€…æ˜¯ä¹‹å‰ä»æœªæœ‰äººå‘ä½ ä»‹ç»è¿‡è¿™äº›çš„æ—¶å€™ï¼Œä½ å°±ä¼šè§‰å¾—å¾ˆå¯æ€•ã€‚ æœ¬ä¹¦çš„ç›®æ ‡å°±æ˜¯å¸¦ä½ é€æ­¥çš„å»ç†è§£RxSwiftçš„APIï¼Œå¹¶ä¸”å»è¿ç”¨æ¯ä¸€ä¸ªAPIï¼Œç„¶åæŠŠå®ƒä»¬è¿ç”¨åˆ°å®é™…çš„iOSAppä¸­ã€‚ ä½ å°†ä¼šä»RxSwiftä¸­æœ€åŸºæœ¬çš„åŠŸèƒ½å¼€å§‹ï¼Œç„¶åå¾ªåºæ¸è¿›çš„ç”±ä¸­çº§åˆ°é«˜çº§ã€‚èŠ±ä¸€äº›æ—¶é—´å»å¹¿æ³›çš„ç†è§£é‡Œé¢çš„æ¦‚å¿µï¼Œè¿™æ ·ä»¥æ¥è¯»å®Œæœ¬ä¹¦åä½ å°±ä¼šç²¾é€šRxSwifté¢æ€æƒ³å’Œä½¿ç”¨ã€‚å…¶å®Rxæ˜¯éå¸¸å¹¿çš„è¯é¢˜ï¼Œä»¥è‡³äºä¸èƒ½å•å•é€šè¿‡è¿™ä¸€æœ¬ä¹¦æ¥è®²å®Œï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡è¿™æœ¬ä¹¦è®©ä½ å¯¹RXæœ‰ä¸€ä¸ªåšå®çš„äº†è§£ï¼Œè¿™æ ·ä½ å°±èƒ½ç»§ç»­æé«˜è‡ªå·±çš„Rxæ°´å¹³äº† å…¶å®æˆ‘ä»¬å¹¶æ²¡æœ‰éå¸¸ç¡®ä¿¡RxSwiftçš„æ€æƒ³æ˜¯ä»€ä¹ˆï¼Œè®©æˆ‘ä»¬åœ¨è¿™ä¸ªç« èŠ‚é‡Œé¢é€šè¿‡å‡ ä¸ªç®€å•çš„ä¾‹å­æ¥å¸®åŠ©æˆ‘ä»¬ç†è§£å“åº”å¼ç¼–ç¨‹ã€‚ RxSwiftæœ¬è´¨å…¶å®å°±æ˜¯å½“ä½ çš„æ•°æ®æˆ–è€…å¯¹è±¡å‘ç”Ÿå˜åŒ–æ—¶å€™ä»–ä¼šæŠŠè¿™ä¸ªå˜åŒ–æ”¾åœ¨ä¸€ä¸ªå•ç‹¬çš„ç®¡é“(é˜Ÿåˆ—)é‡Œé¢,ä»¥æ­¤æ¥è¾¾åˆ°ç®€åŒ–å¼‚æ­¥å¹¶å‘çš„è¿‡ç¨‹çš„ç›®çš„ è¿™é‡Œæ‰“ä¸ªæ¯”æ–¹ä¸€ä¸ªæŒ‰é’®æˆ‘ç‚¹å‡»äº†å°±ä¼šè§¦å‘ä¸€ä¸ªæ—¶é—´ é‚£ä¹ˆæˆ‘æ¯ç‚¹å‡»ä¸€æ¬¡å°±ä¼šç”Ÿæˆä¸€ä¸ªActionæˆ‘ä»¬ç”¨ä¸€ä¸ªç®¡é“å»è£…åœ¨è¿™äº›Actionï¼Œæ¯åŠ ä¸€ä¸ªActionå°±ä¼šæŠŠä»–æ”¾ç®¡é“é‡Œé¢ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºç®¡é“é‡Œé¢æµåŠ¨çš„Actionsï¼Œä¸”ç®¡é“ä¸ç®¡é“ä¹‹é—´ç›¸äº’ç‹¬ç«‹ã€‚åŒç†æˆ‘ä»¬å¯ä»¥å§Buttonæ”¹æˆä¸€ä¸ªUITExtFieldï¼ŒActionå°±æ˜¯æ¯ä¸€æ¬¡è¾“å…¥äº‹ä»¶ã€‚ ä½œä¸ºä¸€ä¸ªiOSçš„å¼€å‘è€…æˆ‘ç›¸ä¿¡è¿™å·²ç»å¾ˆå¥½å¸®ä½ å»ç†è§£ä»€ä¹ˆæ˜¯RxSwiftäº†å§ï¼Œè¿™åº”è¯¥æ˜¯æ¯”ä½ åœ¨ä¸€å¼€å§‹çœ‹åˆ°çš„é‚£äº›ä¸“ä¸šæœ¯è¯­å¥½ç†è§£çš„å¤šã€‚ å¦‚æœä½ è¿˜æ˜¯ä¸æ¸…æ¥šï¼Œé‚£ä¹ˆä½ è‡³å°‘åº”è¯¥ç†è§£ï¼ŒRxSwiftå¯ä»¥å¾ˆè½»æ¾çš„å¸®ä½ ç¼–å†™å¼‚æ­¥æ“ä½œçš„ä»£ç ï¼Œä½ è¦çŸ¥é“ç¼–å†™å¼‚æ­¥æ“ä½œçš„ä»£ç æ˜¯æ¯”è¾ƒéš¾çš„ï¼Œæ‰€ä»¥æ‰€ä»»ä½•ä¸€ç‚¹ç‚¹çš„å¸®åŠ©éƒ½æ˜¯å—å¤§å®¶æ‰€æ¬¢è¿çš„ã€‚ å¼‚æ­¥ç¼–ç¨‹çš„ä»‹ç»å¦‚æœä½ æƒ³ç”¨ä¸€ç§é€šä¿—ç®€å•çš„è¯­è¨€æ¥æè¿°å¼‚æ­¥ç¼–ç¨‹ï¼Œæ¯”å¦‚ä½ åœ¨åšä¸€ä¸ªiSOçš„Appï¼Œé‚£ä¹ˆä½ ä¸€å®šæƒ³åˆ°å¦‚ä¸‹å‡ ä¸ªä¸œè¥¿ï¼š æ¥å—Buttonçš„ç‚¹å‡»äº‹ä»¶ å½“text fieldçš„Actionå’Œé”®ç›˜çš„å¼¹å‡ºå’Œæ”¶èµ·åŠ¨ç”»ä¹‹é—´çš„å…³ç³» ä»ç½‘ä¸Šä¸‹è½½å¤§å›¾ç‰‡ å¾€ç¡¬ç›˜é‡Œé¢å­˜æ•°æ® æ’­æ”¾è§†é¢‘ ä»¥ä¸Šçš„æ‰€æœ‰ä¸œè¥¿çœ‹ä¼¼æ˜¯å‘ç”Ÿåœ¨åŒä¸€æ—¶åˆ»å…¶å®çœŸçš„æ˜¯å—ï¼Ÿæˆ‘ä»¬æ€è€ƒä¸€ä¸ªé—®é¢˜ï¼šæ¯”å¦‚ä½ åœ¨çœ‹è§†é¢‘ï¼Œè¿™æ—¶å€™ä½ ç‚¹å‡»äº†textfieldå¼¹å‡ºé”®ç›˜ï¼Œå¤§å®¶éƒ½çŸ¥é“é”®ç›˜ç”±ä¸‹å¾€ä¸Šå¼¹å‡ºæ˜¯æœ‰ä¸€ä¸ªåŠ¨ç”»çš„ï¼Œå°±ç®—é”®ç›˜å·²ç»å‡ºç°åˆ°äº†å±å¹•ä¸Šï¼Œåªè¦åŠ¨ç”»æ²¡æœ‰åšå®Œä½ çš„è§†é¢‘å°±ä¸ä¼šæš‚åœï¼ŒçœŸçš„æ˜¯è¿™æ ·å—ï¼Œå†…éƒ¨åˆæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿå¦‚ä¸‹å›¾: ç¨‹åºé‡Œé¢ä¸åŒçš„éƒ¨åˆ†ä¸ä¼šé˜»å¡å½¼æ­¤çš„æ‰§è¡Œï¼ŒiOSæä¾›äº†å‡ ç§APIï¼Œé€šè¿‡å¤šæ ¸CPUæ¥åœ¨ä¸åŒçš„çº¿ç¨‹ä¸Šè¿›è¡Œä¸åŒçš„å·¥ä½œã€‚ å…¶å®ç¼–å†™çœŸæ­£å¹¶è¡Œçš„ä»£ç å…¶å®æ˜¯å¾ˆå¤æ‚çš„ï¼Œæ‰“ä¸ªæ¯”æ–¹å‡å¦‚ä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®åŒä¸€ä¸ªèµ„æºï¼Œå°±ä¼šäº§ç”Ÿèµ„æºäº‰å¤ºçš„é—®é¢˜ï¼Œæ¯”å¦‚è°å…ˆè®¿é—®ï¼Œè°åè®¿é—®ã€‚ UIKitä¸­çš„ä¸€äº›å¼‚æ­¥çš„APIè‹¹æœåœ¨iOS SDKä¸­æä¾›äº†å¾ˆå¤šapiï¼Œå¸®åŠ©ä½ ç¼–å†™å¼‚æ­¥ä»£ç ã€‚ä½ åœ¨ä½ çš„é¡¹ç›®ä¸­ä½¿ç”¨è¿‡è¿™äº›ä½†æ˜¯å¯èƒ½è¿˜æ²¡æœ‰è€ƒè™‘è¿‡å®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç¼–å†™ç§»åŠ¨åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚æ¯•ç«Ÿè‹¹æœçˆ¸çˆ¸å°è£…å¥½çš„ï¼Œæˆ‘ä»¬æ‹¿æ¥ç”¨å°±å¥½äº†ï¼Œå¹²å˜›æƒ³é‚£ä¹ˆå¤šã€‚ ä½ ä¸€å®šç”¨è¿‡ä»¥ä¸‹å‡ ç‚¹ NotificationCenter delegate Grand Central Dispatch(GCD) Closuresï¼ˆBlockï¼‰ ç”±äºå¤§éƒ¨åˆ†çš„ç±»éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå¹¶ä¸”UIåœ¨å†…éƒ¨ä¹Ÿæ˜¯å¼‚æ­¥çš„ï¼Œæ‰€ä»¥å¾ˆéš¾å»çŒœæµ‹æ•´ä¸ªç¨‹åºçš„æ‰§è¡Œé¡ºåºï¼Œå› æ­¤ä½ çš„APpä¼šå› ä¸ºä¸€äº›å¤–éƒ¨çš„åŸå› è€Œè¡¨ç°ä¸åŒï¼Œæ¯”å¦‚ç”¨æˆ·çš„è¾“å…¥ä¸åŒã€ç½‘ç»œç¯å¢ƒçš„ä¸åŒã€æˆ–è€…ä¸€äº›å…¶ä»–çš„ä¸œè¥¿ã€‚ç”¨æˆ·æ¯æ¬¡åœ¨æ‰“å¼€ä½ çš„APpå…¶å®ä»£ç çš„æ‰§è¡Œé¡ºåºéƒ½æ˜¯ä¸åŒçš„(å½“ç„¶é™¤äº†ä¸€äº›è‡ªåŠ¨åŒ–æµ‹è¯•çš„åœºæ™¯ï¼Œé‚£äº›æ¡ä»¶éƒ½æ˜¯é¢„å…ˆè®¾ç½®å¥½çš„ã€‚) å…¶å®å†™å¥½å¼‚æ­¥ä»£ç å¹¶ä¸æ˜¯ç»å¯¹ä¸å¯èƒ½çš„ï¼Œæ¯•ç«Ÿè‹¹æœç»™æˆ‘æä¾›äº†éå¸¸å¼ºå¤§çš„APIï¼Œç›¸æ¯”è¾ƒäºå…¶ä»–å¹³å°è¿™è¦å¥½å¾ˆå¤šã€‚ä¸è¿‡é—®é¢˜åœ¨äºç¼–å†™å¤æ‚çš„å¼‚æ­¥ä»£ç å¾ˆéš¾ï¼Œéƒ¨åˆ†åŸå› æ˜¯å› ä¸ºè‹¹æœç»™æˆ‘ä»¬æä¾›äº†å¤§é‡çš„SDKï¼Œè€Œä¸”ä»–ä»¬å¹¶ä¸ç»Ÿä¸€ã€‚å¦‚æœä½¿ç”¨delegateæˆ‘ä»¬éœ€è¦éµå¾ªç‰¹åˆ¶çš„æ ¼å¼ï¼Œblockï¼ŒNotificationCenterç­‰ç­‰éƒ½æ˜¯è¿™æ ·çš„ï¼Œæ‰€ä»¥å¹¶æ²¡æœ‰ä¸€ç§é€šç”¨çš„ã€è´¯ç©¿æ‰€æœ‰å¼‚æ­¥æ–¹æ³•çš„APIï¼Œè¿™æ ·å°±å¯¼è‡´è¯»æ‡‚å¹¶ä¸”ä¹¦å†™è¿™æ ·çš„å¼‚æ­¥ä»£ç å¾ˆéš¾ã€‚å¯ä»¥çœ‹ä¸‹ä¸‹å›¾: æˆ‘ä»¬æ¥æ¯”è¾ƒä¸¤ä¸ªä»£ç ç‰‡æ®µæ¥æ€»ç»“ä¸‹è¿™ç« ã€‚ä¸€ä¸ªæ˜¯å¼‚æ­¥ä¸€ä¸ªæ˜¯åŒæ­¥ã€‚ åŒæ­¥ä»£ç å¯¹æ•°ç»„çš„æ¯ä¸ªå…ƒç´ è¿›è¡Œæ“ä½œä½ åº”è¯¥å¾ˆç†Ÿæ‚‰äº†å§ï¼Œå…¶å®å°±æ˜¯å¾ªç¯éå†å˜›ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•è€Œåˆåšå®çš„åŠŸèƒ½ï¼Œå› ä¸ºå®ƒä¿è¯äº†ä¸¤ä»¶äº‹: å®ƒæ˜¯åŒæ­¥æ‰§è¡Œçš„ã€‚ åœ¨å¾ªç¯éå†æ—¶å€™ä»–æ˜¯ä¸å¯å˜çš„ èŠ±ç‚¹æ—¶é—´æƒ³æƒ³è¿™æ„å‘³ç€ä»€ä¹ˆã€‚å½“ä½ éå†ä¸€ä¸ªæ•°ç»„çš„æ—¶å€™ï¼Œä½ ä¸éœ€è¦æ£€æŸ¥æ‰€æœ‰çš„å…ƒç´ æ˜¯å¦ä»ç„¶å­˜åœ¨ï¼Œå¹¶ä¸”æ‚¨ä¸éœ€è¦é‡æ–°è¿”å›ï¼Œä»¥é˜²å¦ä¸€ä¸ªçº¿ç¨‹åœ¨é›†åˆçš„å¼€å§‹æ’å…¥ä¸€ä¸ªå…ƒç´ ã€‚æ‚¨å‡å®šæ‚¨æ€»æ˜¯åœ¨å¾ªç¯çš„å¼€å§‹æ—¶éå†æ•´ä¸ªé›†åˆã€‚è¯•è¯•ä»¥ä¸‹ä»£ç : var array = [1, 2, 3]for number in array &#123; print(number) array = [4, 5, 6]&#125;print(array) æœ€åçš„è¾“å‡ºç»“æœï¼š æ•°ç»„åœ¨forå¾ªç¯ä¸­æ˜¯ä¸å¯å˜çš„å—ï¼Ÿæ‰§è¡Œé¡ºåºæ˜¯ä»€ä¹ˆï¼Ÿ å¼‚æ­¥ä»£ç å†è€ƒè™‘ä¸€ä¸ªç±»ä¼¼çš„ä»£ç ï¼Œå¦‚ä¸‹ç”¨æˆ·é€šè¿‡ç‚¹å‡»äº‹ä»¶è§¦å‘ä¸‹é¢ä»£ç ï¼Œæ¯æ¬¡ç‚¹å‡»éƒ½ä¼šè¾“å‡ºæ•°ç»„ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åç”¨æˆ·é‡å¤ç‚¹å‡»ç›´åˆ°æŠŠæ•°ç»„æ‰€æœ‰çš„å…ƒç´ è¾“å‡ºå®Œæˆï¼švar array = [1, 2, 3]var currentIndex = 0//this method is connected in IB to a button@IBAction func printNext(_ sender: Any) &#123; print(array[currentIndex]) if currentIndex != array.count-1 &#123; currentIndex += 1 &#125;&#125; è¯•æƒ³ä¸€ä¸‹å¦‚æœæ”¾åœ¨æˆ‘ä»¬ç°å®çš„Appä¸­çœŸçš„å¯ä»¥è¿™ä¹ˆæ‰§è¡Œå—ï¼Ÿè¿™ä¸ªå¯è¯´ä¸å‡†ï¼Œå› ä¸ºå¦‚æœåœ¨ç”¨æˆ·çš„ä¸¤æ¬¡ç‚¹å‡»ä¹‹é—´åˆæœ‰å…¶ä»–çš„çº¿ç¨‹å¯¹è¿™ä¸ªæ•°ç»„è¿›è¡Œäº†æ“ä½œ(å¢åŠ ã€åˆ é™¤å…ƒç´ )é‚£ä¹ˆæ•°æ®å°±ä¼šå‘ç”Ÿé”™ä¹±ã€‚è€Œä¸”å¦‚æœcurrentIndexè¢«å¦ä¸€ä¸ªçº¿ç¨‹æ”¹å˜äº†é‚£ä¹ˆä½ ä¹Ÿä¸ä¼šå¾—åˆ°é¢„æœŸçš„ç»“æœã€‚ å…¶å®å¤šçº¿ç¨‹æœ€é‡è¦çš„å°±æ˜¯æ•°æ®äº‰å¤ºçš„é—®é¢˜ï¼Œç„¶è€ŒRxSwiftå¾ˆå¥½çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜]]></content>
      <categories>
        <category>è¯‘æ–‡</category>
      </categories>
      <tags>
        <tag>Swift</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[AlamoFireçš„ä½¿ç”¨(ä¸‹è½½é˜Ÿåˆ—ï¼Œæ–­ç‚¹ç»­ä¼ )]]></title>
    <url>%2F2018%2F03%2F30%2FAlamoFire%2F</url>
    <content type="text"><![CDATA[å‰è¨€æœ€è¿‘å¼€å§‹åšäº†ä¸€ä¸ªæ–°é¡¹ç›®ï¼Œå‡ ä¹æ²¡æœ‰æ—¶é—´æ¥å†™è‡ªå·±çš„åšå®¢ï¼Œå¤§éƒ¨åˆ†éƒ½åœ¨å†™featureï¼ˆBUGï¼‰ï¼Œè‡ªå·±ç ”ç©¶çš„ä¸œè¥¿å¾ˆå°‘ï¼Œæœ¬æ¥ä¹‹å‰è¯´å¥½æ¯ä¸ªæœˆè¦å†™ä¸¤ç¯‡æ–‡ç« ä¹Ÿæ²¡èƒ½åšæŒä¸‹æ¥ï¼Œæœ€è¿‘åœ¨é¡¹ç›®ä¸­é‡åˆ°äº†ä¸€äº›é—®é¢˜ï¼Œå°±åœ¨è¿™é‡Œæ€»ç»“ä¸‹å§ã€‚ä¸€äº›å°çš„æŠ€å·§è€Œå·²ï¼Œå¤§ç¥å¯ä»¥å¿½ç•¥äº†ã€‚ èƒŒæ™¯æ–°é¡¹ç›®åŒ…å«äº†ä¸Šä¼ ä¸‹è½½ç½‘ç»œè¯·æ±‚ç›¸å…³åŠŸèƒ½ï¼Œç”±äºæ˜¯swiftç¼–å†™æ‰€ä»¥è‡ªç„¶è€Œç„¶é€‰æ‹©äº† AlamoFire (å¥½åƒä¹Ÿæ²¡å¾—é€‰)æ¥åšåº•å±‚ï¼Œæ­£å¸¸çš„ç½‘ç»œè¯·æ±‚postã€getç­‰éƒ½æ˜¯ç›´æ¥å‚»ç“œå¼è°ƒç”¨ AlamoFire çš„æ¥å£ï¼Œæœ¬æ–‡ä¸»è¦å°†ä¸€äº›ç»†èŠ‚é—®é¢˜ è®¾ç½®é€šç”¨è¶…æ—¶æ—¶é—´ä½¿ç”¨Alamofireå‘èµ·è¯·æ±‚æ—¶å€™æœ‰è¿™ä¸¤ä¸ªæ¥å£ /// Creates a `DataRequest` using the default `SessionManager` to retrieve the contents of the specified `url`,/// `method`, `parameters`, `encoding` and `headers`.////// - parameter url: The URL./// - parameter method: The HTTP method. `.get` by default./// - parameter parameters: The parameters. `nil` by default./// - parameter encoding: The parameter encoding. `URLEncoding.default` by default./// - parameter headers: The HTTP headers. `nil` by default.////// - returns: The created `DataRequest`.public func request(_ url: URLConvertible, method: Alamofire.HTTPMethod = default, parameters: Parameters? = default, encoding: ParameterEncoding = default, headers: HTTPHeaders? = default) -&gt; Alamofire.DataRequest/// Creates a `DataRequest` using the default `SessionManager` to retrieve the contents of a URL based on the/// specified `urlRequest`.////// - parameter urlRequest: The URL request////// - returns: The created `DataRequest`.public func request(_ urlRequest: URLRequestConvertible) -&gt; Alamofire.DataRequest è€Œæˆ‘ä»¬åœ¨è°ƒç”¨çš„æ—¶å€™é€šå¸¸ä¼šç›´æ¥è¿™ä¹ˆç”¨ let req : URLRequest = URLRequest(url: URL(fileURLWithPath: "32"), cachePolicy: .useProtocolCachePolicy, timeoutInterval: 10) // ç¬¬ä¸€ç§æ–¹æ³•è°ƒç”¨ï¼Œåé¢å‚æ•°ç›´æ¥ç”¨default Alamofire.request(URL(fileURLWithPath: "32")) // ç¬¬äºŒä¸­è°ƒç”¨ï¼Œä½¿ä¼ å…¥request Alamofire.request(req) let semaphore = DispatchSemaphore(value: 0) å…¶ä¸­ç¬¬ä¸€ç§æ–¹æ³•æˆ‘ä»¬ä¸èƒ½ä¼ å…¥è¶…æ—¶æ—¶é—´ï¼Œç¬¬äºŒä¸­æ–¹æ³•æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¼ å…¥çš„URLRequestæ¥è®¾ç½®è¶…æ—¶æ—¶é—´ï¼Œä½†æ˜¯æˆ‘ä»¬é€šå¸¸ä¸€ä¸ªé¡¹ç›®ä¸­å¤§éƒ¨åˆ†çš„è¯·æ±‚ï¼Œå¯èƒ½é™¤äº†æŸäº›ç‰¹æ®Šçš„ä¸‹è½½è¯·æ±‚ä¹‹å¤–æ‰€æœ‰çš„è¶…æ—¶æ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè¿™æ ·çš„è¯æˆ‘ä»¬éœ€è¦åŒæ ·çš„ä»£ç å†™å¥½å¤šéï¼Œè¿™ä¸ªæ—¶å€™æœ‰ä¸¤ä¸ªåŠæ³• å¯¹ç”ŸæˆRequestçš„æ–¹æ³•åšä¸€ä¸ªå°è£…ï¼Œé€šç”¨çš„å‚æ•°å¦‚è¶…æ—¶æ—¶é—´ã€headerã€è¯·æ±‚æ–¹å¼ å†™æ­»åœ¨æ–¹æ³•é‡Œé¢ï¼Œå¯¹äºä¼šå˜åŠ¨çš„å‚æ•°å¦‚ URL å’Œå¯ä»¥é€šè¿‡å‚æ•°ä¼ å…¥. åˆ›å»º Alamofire.SessionManager é€šè¿‡sessionManageræ¥è®¾ç½®è¶…æ—¶æ—¶é—´ç­‰ä¸€äº›é€šç”¨çš„ä¸œè¥¿ let networkManager : SessionManager = &#123; let config : URLSessionConfiguration = URLSessionConfiguration.default config.timeoutIntervalForRequest = 10 let manager = Alamofire.SessionManager.init(configuration: config) return manager &#125;() æ–­ç‚¹ç»­ä¼ Alamofireæ”¯æŒæ–­ç‚¹ç»­ä¼ ä¸‹è½½ï¼ŒåŸç†å°±æ˜¯å°†ä¸‹è½½ä¸€åŠçš„æ•°æ®ä¿å­˜åˆ°æœ¬åœ°ï¼Œç„¶åä¸‹æ¬¡å†å¯åŠ¨æ—¶å€™é€šè¿‡dataçš„æ‹¼æ¥æ¥è¿›è¡Œç»§ç»­ä¸‹è½½ã€‚ç”¨æ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªæ˜¯è°ƒç”¨æ¥å£è€Œå·²ï¼Œå…³é”®æ˜¯çœ‹å¼€å‘è€…å¦‚ä½•è‡ªå·±å»ç»´æŠ¤è¿™ä¸ªå·²ä¸‹è½½çš„æ•°æ®ï¼Œæ¯”å¦‚æ˜¯å­˜å†…å­˜è¿˜æ˜¯å­˜ç¡¬ç›˜ï¼Œè¦å­˜å¤šä¹…ï¼Œæ·˜æ±°ç­–ç•¥æ˜¯ä»€ä¹ˆä¹‹ç±»çš„ã€‚å…¶å®å°±æ˜¯ä¸¤ä¸ªæ­¥éª¤ï¼Œ æ–­ç‚¹å’Œç»­ä¼  ç¬¬ä¸€æ­¥ æ–­ç‚¹ç›‘å¬ä¸‹è½½ä¸­æ–­ï¼Œä¸­æ–­åå°†å·²ç»ä¸‹è½½çš„æ•°æ®è¿›è¡Œä¿ç•™ï¼Œæˆ‘è¿™è¾¹ç”¨ä¸€ä¸ªå±æ€§æ¥å­˜ï¼Œå…·ä½“åˆ°é¡¹ç›®å®ç°å¤§å®¶å¯ä»¥é‡‡ç”¨è‡ªå·±å­˜å‚¨æ–¹å¼ï¼Œå­˜åˆ°ç¡¬ç›˜æˆ–è€…æ•°æ®åº“ä¹‹ç±»çš„ Alamofire.download("http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4", method: .get, parameters: nil, encoding: URLEncoding.default, headers: nil) &#123; (url, response) -&gt; (destinationURL: URL, options: DownloadRequest.DownloadOptions) in return (URL(fileURLWithPath: String(describing : NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, false)[0]+"123.mp4")), [.createIntermediateDirectories, .removePreviousFile]) &#125;.responseJSON &#123; (response) in switch response.result &#123; case .success: print("success") case .failure: //æ„å¤–ä¸­æ–­ååœ¨æ­¤å¤„å¤„ç†ä¸‹è½½å®Œæˆçš„éƒ¨åˆ† self.tmpData = response.resumeData default: print("failed") &#125; &#125; ç¬¬äºŒæ­¥ ç»­ä¼ å½“ä¸‹è½½å†æ¬¡å¯åŠ¨æ—¶å€™ï¼Œéœ€è¦åœ¨ä¸Šä¸€æ­¥æ•°æ®çš„åŸºç¡€ä¸Šç»§ç»­ä¸‹è½½ï¼Œæˆ‘ä»¬è°ƒç”¨Alamofireè¿™ä¸ªæ–¹æ³•/// Creates a `DownloadRequest` using the default `SessionManager` from the `resumeData` produced from a/// previous request cancellation to retrieve the contents of the original request and save them to the `destination`.////// If `destination` is not specified, the contents will remain in the temporary location determined by the/// underlying URL session.////// On the latest release of all the Apple platforms (iOS 10, macOS 10.12, tvOS 10, watchOS 3), `resumeData` is broken/// on background URL session configurations. There's an underlying bug in the `resumeData` generation logic where the/// data is written incorrectly and will always fail to resume the download. For more information about the bug and/// possible workarounds, please refer to the following Stack Overflow post:////// - http://stackoverflow.com/a/39347461/1342462////// - parameter resumeData: The resume data. This is an opaque data blob produced by `URLSessionDownloadTask`/// when a task is cancelled. See `URLSession -downloadTask(withResumeData:)` for additional/// information./// - parameter destination: The closure used to determine the destination of the downloaded file. `nil` by default.////// - returns: The created `DownloadRequest`.public func download(resumingWith resumeData: Data, to destination: Alamofire.DownloadRequest.DownloadFileDestination? = default) -&gt; Alamofire.DownloadRequest è¿™ä¸ªæ¥å£éœ€è¦æˆ‘ä»¬ä¼ å…¥å·²å­˜åœ¨çš„æ•°æ®ï¼Œç„¶ååŸºäºæˆ‘ä»¬ä¼ å…¥çš„æ•°æ®è¿›è¡Œä¸‹è½½ï¼Œå®ƒæ”¯æŒä»æ–°æŒ‡å®šç›®çš„åœ°è·¯å¾„ï¼Œå¦‚æœä½ æœ‰éœ€è¦å¯ä»¥é‡æ–°æŒ‡å®šAlamofire.download(resumingWith: tmpData!) åŒæ ·ä»–è¿”å›ä¸€ä¸ªrequestçš„å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ç‚¹è¯­æ³•æ¥æ‹¿åˆ°è¿›åº¦ã€responseç­‰ä¿¡æ¯ æ‰¹é‡ä¸‹è½½å½“æˆ‘ä»¬éœ€è¦åŒæ—¶ä¸‹è½½å¾ˆå¤šä¸œè¥¿çš„æ—¶å€™ï¼Œå¾€å¾€éœ€è¦æˆ‘ä»¬è‡ªå·±ç»´æŠ¤ä¸€ä¸ªä¸‹è½½é˜Ÿåˆ—ï¼Œæ¯”å¦‚ä¸‹ä¸€ä¸ªè½½ç´ æåˆ—è¡¨ä¹‹ç±»çš„ã€‚Alamoç»™æˆ‘ä»¬æä¾›äº†ä¸‹è½½çš„æ¥å£ï¼Œä½†æ˜¯ä¸‹è½½çš„çº¿ç¨‹é˜Ÿåˆ—éœ€è¦æˆ‘ä»¬è‡ªå·±å»ç»´æŠ¤ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ªå¤šçº¿ç¨‹å¹¶å‘é˜Ÿåˆ—ã€‚ GCDæˆ‘ä»¬å¾ˆè‡ªç„¶è€Œç„¶çš„æƒ³åˆ°GCDï¼Œä½†æ˜¯GCDæœ‰ä¸€ä¸ªé—®é¢˜æ— æ³•æ§åˆ¶æœ€å¤§å¹¶å‘æ•°ï¼Œè€Œä¸”å¯¹é˜Ÿåˆ—çš„ç®¡ç†ä¹Ÿå¹¶ä¸å®Œå–„ï¼Œæ¯”å¦‚æˆ‘ä»¬è¦ä¸‹è½½100ä¸ªæ–‡ä»¶ï¼Œå¦‚æœåŒæ—¶ä¸‹è½½çš„è¯å¼€è¾Ÿ100ä¸ªçº¿ç¨‹ï¼Œé‚£è‚¯å®šæ˜¯ä¸è¡Œçš„ï¼Œå…ˆä¸è¯´ç§»åŠ¨è®¾å¤‡æ˜¯å¦æ”¯æŒ(æœ€å¤š70ä¸ªå·¦å³)ï¼Œå³ä½¿æ”¯æŒäº†é‚£è¿™ä¸ªå¼€é”€å¤ªå¤§ã€‚è™½è¯´GCDçš„è¯å¯ä»¥ä½¿ç”¨ä¿¡å·é‡è¿›è¡Œçº¿ç¨‹æ§åˆ¶ï¼Œä½†æ˜¯æ¯ä¸ªçº¿ç¨‹çš„æš‚åœå¯åŠ¨ä¹‹ç±»çš„åˆæ˜¯é—®é¢˜ï¼Œè€Œä¸”æ¯•ç«Ÿæ˜¯æ›²çº¿æ•‘å›½çš„æ–¹æ³•ã€‚ OperationQueueOperationåŠOperationQueueæ˜¯åŸºäºGCDå°è£…çš„å¯¹è±¡ï¼Œä½œä¸ºå¯¹è±¡å¯ä»¥æä¾›æ›´å¤šæ“ä½œé€‰æ‹©ï¼Œå¯ä»¥ç”¨æ–¹æ³•æˆ–blockå®ç°å¤šçº¿ç¨‹ä»»åŠ¡ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥åˆ©ç”¨ç»§æ‰¿ã€ç±»åˆ«ç­‰è¿›è¡Œä¸€äº›å…¶ä»–æ“ä½œï¼›ä½†åŒæ—¶å®ç°ä»£ç ç›¸å¯¹å¤æ‚ä¸€äº›ã€‚ä½†æ˜¯ä»–æ¯•ç«Ÿä¸åƒGCDé‚£æ ·ä½¿ç”¨Cè¯­è¨€å®ç°ï¼Œæ‰€ä»¥æ•ˆç‡ä¼šç›¸æ¯”GCDä½ä¸€äº›ã€‚ä½†æ˜¯å¯¹çº¿ç¨‹çš„æ§åˆ¶çš„çµæ´»æ€§è¦è¿œé«˜äºGCDï¼Œå¯¹äºä¸‹è½½çº¿ç¨‹æ¥è¯´å¯ä»¥ä¼˜å…ˆé€‰æ‹©è¿™ä¸ªã€‚ å®ç°æˆ‘ä»¬æŠŠæ¯ä¸€ä¸ªä¸‹è½½ä»»åŠ¡å°è£…æˆä¸€ä¸ªoperationã€‚æ³¨æ„Operationä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä»–çš„å­ç±»ï¼Œè¿™é‡Œæˆ‘é€‰æ‹©ä½¿ç”¨ BlockOperation ä»–çš„é—­åŒ…åˆ™æ˜¯éœ€è¦æ‰§è¡Œçš„ä¸‹è½½ä»»åŠ¡ï¼Œç„¶åæˆ‘ä»¬æŠŠä»–æ·»åŠ è¿›queueä¸­ä¾¿å¼€å§‹æ‰§è¡Œäº†ä»»åŠ¡ let op : BlockOperation = BlockOperation &#123; [weak self] in Alamofire.download("http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4", method: .get, parameters: nil, encoding: URLEncoding.default, headers: nil) &#123; (url, response) -&gt; (destinationURL: URL, options: DownloadRequest.DownloadOptions) in return (URL(fileURLWithPath: String(describing : NSSearchPathForDirectoriesInDomains(.documentDirectory, .userDomainMask, false)[0]+"123.mp4")), [.createIntermediateDirectories, .removePreviousFile]) &#125;.downloadProgress &#123; [weak self] (pro) in let percent = Float(pro.completedUnitCount) / Float(pro.totalUnitCount) if count == 0 &#123; self?.downLoadLabel.snp.remakeConstraints &#123; (make) in make.width.equalTo(300 * percent) make.height.equalTo(30) make.top.equalTo((self?.stopButton.snp.bottom)!).offset(30) make.left.equalToSuperview().offset(30) &#125; &#125; else &#123; self?.downLoadLabel2.snp.remakeConstraints &#123; (make) in make.width.equalTo(300 * percent) make.height.equalTo(30) make.top.equalTo((self?.downLoadLabel.snp.bottom)!).offset(30) make.left.equalToSuperview().offset(30) &#125; &#125; &#125;.responseJSON &#123; (response) in switch response.result &#123; case .success: print("success") case .failure: self?.tmpData = response.resumeData default: print("failed") &#125; &#125; &#125; queue.addOperation(op) æ¯ä¸€ä¸ªopeeationå¯¹è±¡æˆ‘ä»¬éƒ½å¯ä»¥è®¾ç½®ä»–çš„ä¼˜å…ˆçº§ã€å¯åŠ¨ã€æš‚åœã€ç­‰å±æ€§ï¼Œç®€å•çš„è°ƒç”¨æ¥å£å°±å¯ä»¥ï¼Œåœ¨æ­¤å°±ä¸ä¸€ä¸€ä½œè§£é‡Šäº†ã€‚ç„¶åæˆ‘ä»¬éœ€è¦å¯¹æˆ‘ä»¬çš„queueè¿›è¡Œè®¾ç½®ï¼Œæˆ‘ä»¬è®¾ç½®æœ€å¤§å¹¶å‘æ•°ï¼Œå¤§å®¶å¯ä»¥æ ¹æ®å®é™…æƒ…å†µæ¥è®¾ç½®ï¼Œdemoä¸­æˆ‘åªæœ‰ä¸¤ä¸ªä¸‹è½½ä»»åŠ¡ï¼Œæ‰€ä»¥æˆ‘å°±è®¾ç½®æœ€å¤§å¹¶å‘æ•°ä¸º1 è¿™æ ·å°±æ˜¯ä¸€ä¸ªä¸€ä¸ªä¸‹è½½ã€‚let queue : OperationQueue = &#123; let que : OperationQueue = OperationQueue() que.maxConcurrentOperationCount = 1 return que &#125;() æˆ‘ä»¬è¿è¡Œç„¶åç‚¹å‡»å¼€å§‹ä¸‹è½½ å¾ˆå¥‡æ€ªæˆ‘ä»¬å‘ç°ä»–è¿˜æ˜¯åŒæ—¶ä¸‹è½½ï¼Œæˆ‘ä»¬åˆè¯•äº†å…¶ä»–çš„ä¸ªæ•°ï¼Œæ— è®ºå¤šå°‘éƒ½æ˜¯åŒæ—¶ä¸‹è½½ï¼Œæœ€å¤§çº¿ç¨‹æ•°é‡å®Œå…¨ä¸èµ·ä½œç”¨ï¼Œå†åè¿‡æ¥çœ‹ä¸‹ä¸Šé¢åŠ å…¥queueçš„ä»»åŠ¡ã€‚æ­£å¸¸æ¥è¯´æ¯ä¸€ä¸ªoperationéƒ½è¦ç­‰ä¸Šä¸€ä¸ªoperationå®Œæˆåæ‰ä¼šæ‰§è¡Œï¼Œè€Œç³»ç»Ÿåˆ¤æ–­å®Œæˆçš„æ ‡å‡†å°±æ˜¯ä¸Šä¸€ä¸ªoperationçš„é—­åŒ…èµ°å®Œï¼Œæˆ‘ä»¬é—­åŒ…ä¸­æ”¾å…¥çš„æ˜¯ä¸€ä¸ªä¸‹è½½ä»»åŠ¡ï¼Œè€ŒAlamofireçš„ä¸‹è½½éƒ½æ˜¯å¼‚æ­¥æ‰§è¡Œï¼Œæ‰€ä»¥å¯¼è‡´operationçš„é—­åŒ…èµ°å®Œäº†ï¼Œä½†æ˜¯å…¶å®ä¸‹è½½æ˜¯å¼‚æ­¥åœ¨å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œçš„ï¼Œå®é™…ä¸Šä¸‹è½½æ²¡æœ‰å®Œæˆï¼ŒçŸ¥é“åŸå› æˆ‘ä»¬å¯¹ç—‡ä¸‹è¯ï¼Œåªéœ€è¦ä¿è¯operationé—­åŒ…ä¸­çš„ä»£ç æ˜¯åŒæ­¥æ‰§è¡Œçš„å°±OKäº†ã€‚è€ŒAlamofireæ˜¯åŸºäºURLSessionæ¥å®ç°çš„ï¼Œå¹¶æ²¡æœ‰åƒconnectioné‚£æ ·æä¾›åŒæ­¥çš„æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨ä¿¡å·é‡å¡ä¸€ä¸‹ï¼Œåƒè¿™æ · è¿™æ ·ä¹‹åå°±ä¼šæŒ‰ç…§æˆ‘ä»¬è®¾ç½®å¥½çš„é˜Ÿåˆ—è¿›è¡Œäº† æœ‰äººä¼šè¯´ä¸‹è½½åŒæ­¥è¿›è¡Œä¼šä¸ä¼šæœ‰å½±å“ï¼Œå…¶å®ä¸ä¼šçš„é¦–å…ˆæˆ‘ä»¬å®ç°åŒæ­¥çš„æ–¹å¼æ˜¯ä¿¡å·é‡ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯å¼‚æ­¥çš„åªæ˜¯æˆ‘ä»¬é˜»å¡çš„å½“å‰çš„ä¸‹è½½çº¿ç¨‹ï¼Œè¿™ä¸ªè¢«é˜»å¡çº¿ç¨‹ä¸€å®šä¸æ˜¯ä¸»çº¿ç¨‹(é™¤éAlamofireçš„å¼€å‘è€…æŠŠä»–å›è°ƒåˆ°ä¸»çº¿ç¨‹ä¸‹è½½ï¼Œè¿™ä¸ªåŸºæœ¬ä¸å¯èƒ½)ï¼Œè€Œä¸”å½“æˆ‘ä»¬æŠŠè¿™ä¸ªä¸‹è½½ä»»åŠ¡åŠ åˆ°ä¸€ä¸ªoperationä¸­ä¹‹åï¼Œå°±æ³¨å®šä¸ä¼šåœ¨ä¸»çº¿ç¨‹ä¸­äº†ï¼Œæ²¡ä¸€ä¸ªoperationéƒ½ä¼šè¢«ç³»ç»Ÿåˆ†é…åˆ°ä¸€ä¸ªéä¸»çº¿ç¨‹çš„åœ°æ–¹å»åšï¼Œæ‰€ä»¥è¿™æ ·ä¸ä¼šæ€§èƒ½æœ‰ä»»ä½•å½±å“ã€‚ æ€»ç»“å› ä¸ºæ—¶é—´ç´§è¿«ï¼Œæš‚æ—¶åšäº†è¿™ä¹ˆå¤šï¼Œä¹Ÿé‡åˆ°äº†è¿™äº›é—®é¢˜ï¼Œæ‰€ä»¥å†™å‡ºäº†æ€»ç»“ä¸‹ï¼Œæœ¬æ–‡è¿˜ä¼šç»§ç»­æ›´æ–°ï¼Œä¼šæ…¢æ…¢çš„æ•´ä¸ªç½‘ç»œå±‚åˆ†äº«å‡ºæ¥ã€‚å°±æ˜¯å¯èƒ½æ›´æ–°ä¼šæ…¢ï¼Œæ¯•ç«Ÿå·¥ä½œé‡æœ‰ç‚¹é¥±å’Œã€‚å¤šè°¢å…³æ³¨ var options = {"narrow":false,"autoplay":true,"showlrc":0,"mutex":true,"music":[{"title":"Thank You Very Much","author":"Margaret","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/Thankyou.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000000VbGX83hRicw.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=001Ii3g54dIYpO"}]}; options.element = document.getElementById("aplayer5"); new APlayer(options);]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>swift</tag>
        <tag>ç½‘ç»œè¯·æ±‚</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•çš„iOSçº¿ä¸Šçƒ­ä¿®å¤æ–¹æ¡ˆ]]></title>
    <url>%2F2018%2F03%2F14%2FSimple-HotFix-Mtehod%2F</url>
    <content type="text"><![CDATA[å‘å¤§ä½¬è‡´æ•¬æ€»æ˜¯å–œæ¬¢æŠŠå‚è€ƒèµ„æ–™ã€è‡´è°¢ç­‰å†™åœ¨æ–‡ç« æœ€å‰é¢ï¼Œæ¯•ç«Ÿæ˜¯ç«™åœ¨äººå®¶çš„è‚©è†€ä¸Šï¼Œå‘å¤§ä½¬è‡´æ•¬ï¼Œå†™è¿™ç¯‡æ–‡ç« çš„ä¹Ÿæ˜¯å‚è€ƒä»–çš„ ç„¶ååŠ ä¸Šä¸€äº›è‡ªå·±çš„æ€è€ƒï¼Œä¸»è¦ç›®çš„è¿˜æ˜¯è‡ªå·±å†å†™ä¸€éDemoå’Œæ–‡æ¡£ï¼Œä»¥ä¾¿åŠ æ·±è®°å¿†ï¼Œä¹Ÿå¸®åŠ©è‡ªå·±æ›´å¥½çš„ç†è§£ï¼Œæœ‰å¥è¯è¯´ï¼šçœ‹æ‡‚çš„ä¸œè¥¿ä¸ä¸€å®šå°±æ˜¯å­¦ä¼šäº†ï¼Œè‡ªå·±èƒ½åœ¨ä¸çœ‹èµ„æ–™çš„å‰æä¸‹å†™å‡ºæ¥æ‰ç®—æ˜¯ç•¥çŸ¥ä¸€äºŒã€‚ ä»¥ä¸‹æ˜¯ åŸæ–‡é“¾æ¥æœ‰å…´è¶£çš„è¿˜å¯ä»¥çœ‹ä¸‹å¤§ä½¬åšå®¢ å·¥ä½œåŸç†åˆ†æè¦å®ç°çƒ­ä¿®å¤å…¶å®åŸç†å°±æ˜¯æˆ‘ä»¬å¯ä»¥åŠ¨æ€çš„ä¿®æ”¹ä»£ç ï¼Œåœ¨æ–¹æ³•å‰ã€ä¸­ã€åæ’å…¥è‡ªå·±æƒ³è¦çš„ä¸œè¥¿æˆ–è€…ä»£ç ã€‚å…¶å®è¿™ä¸ªéœ€æ±‚å¹¶ä¸éš¾ï¼ŒiOSçš„è¿è¡Œæ—¶æœºåˆ¶å¯ä»¥æ»¡è¶³æˆ‘ä»¬çš„è¿™ä¸ªè¦æ±‚ï¼Œä½†æ˜¯å¦‚æœæ˜¯å·²ç»ä¸Šæ¶äº†çš„APP,å·²ç»æ‰“æˆäº†IpaåŒ…æˆ‘ä»¬è¯¥å¦‚ä½•ä¿®æ”¹å‘¢ï¼Ÿè¿™é‡Œå°±éœ€è¦æœåŠ¡ç«¯å»æ§åˆ¶ï¼Œé€šè¿‡ä¸‹å‘ä¸åŒçš„å†…å®¹æ¥è¾¾åˆ°æˆ‘ä»¬æƒ³è¦çš„ç›®çš„ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸€ä¸ªè¦æ±‚ï¼ŒæœåŠ¡ç«¯æ‰€ä¸‹å‘çš„å†…å®¹å¹¶ä¸èƒ½æ˜¯ä»»æ„çš„ï¼Œè€Œæ˜¯è¦é€šè¿‡ä¸‹å‘çš„å†…å®¹è°ƒèµ·æˆ‘ä»¬Appå†…çš„RunTimeæœºåˆ¶ç„¶åè¿›è¡Œå·æ¢æ¢æŸ±ã€‚æ»¡è¶³è¿™ä¸ªè¦æ±‚çš„æ•°æ®æ ¼å¼åªæœ‰å­—ç¬¦ä¸²åŒ–çš„JSä»£ç ï¼Œå› ä¸ºæˆ‘ä»¬çŸ¥é“åœ¨iOSä¸­JSä»£ç æ˜¯å¯ä»¥è°ƒç”¨OCçš„ä»£ç ã€‚ç»¼ä¸Šæ‰€è¿°æ‰“åˆ°çƒ­ä¿®å¤æ•´å¥—æµç¨‹æ‰€éœ€çš„æŠ€æœ¯å¦‚ä¸‹ï¼š Runtimeï¼š å¯ä»¥åœ¨æœ¬ç«™æœç´¢Runtimeå…³é”®å­—æ‰¾åˆ°Runtimeç›¸å…³èµ„æ–™ ä¸æœåŠ¡å™¨äº¤äº’ï¼š ç°åœ¨å¤§éƒ¨åˆ†APPéƒ½å…·æœ‰äºæœåŠ¡ç«¯äº¤äº’çš„èƒ½åŠ›ï¼Œå°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ç½‘ç»œè¯·æ±‚AFNetWorkingç­‰ JSä¸OCäº¤äº’ï¼š å¤§å®¶å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« ï¼Œä¸»è¦å‚è€ƒæ–¹å¼äºŒï¼Œä½¿ç”¨JavaScriptCoreè¿›è¡Œäº¤äº’ è¿›è¡Œäº†ä¸Šè¿°æ“ä½œåæ¯æ¬¡ç”¨æˆ·å¯åŠ¨ï¼ŒAppéƒ½ä¼šè¿›è¡Œå¦‚ä¸‹æ“ä½œ è¿™æ ·ä¸€æ¥å¦‚æœå¼€å‘åœ¨é¡¹ç›®å‘å¸ƒå‡ºå»åå‘ç°æœ‰Crashé‚£ä¹ˆå¯ä»¥ç«‹å³é€šè¿‡æœåŠ¡å™¨ä¸‹å‘JSä»£ç æ¥åˆ¶å®šAPpæ¯æ¬¡æ‰§è¡Œæ–°æ–¹æ³•(æ–°æ–¹æ³•çš„å®šä¹‰ä¹Ÿæ˜¯åœ¨ä¸‹å‘çš„JSä»£ç ä¸­)ï¼Œå¯ä»¥é¿å…ä¸€äº›é—®é¢˜ã€‚ å®é™…ä½¿ç”¨ç¬¬ä¸‰æ–¹è¿™é‡Œç”¨åˆ°ä¸€ä¸ªç¬¬ä¸‰æ–¹åº“Aspectsè¿™ä¸ªåº“å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªiOSä¸­çš„Runtimeåº“ï¼Œæˆ‘ä»¬ä¸ç”¨å†™ç¹ççš„ä»£ç ï¼Œç›´æ¥è°ƒç”¨ä»–çš„æ¥å£å³å¯ï¼Œ + (id&lt;AspectToken&gt;)aspect_hookSelector:(SEL)selector withOptions:(AspectOptions)options usingBlock:(id)block error:(NSError **)error; å…¶ä¸­çš„æšä¸¾å°±æ˜¯é€‰æ‹©æˆ‘ä»¬è¦æ’å…¥æ–¹æ³•çš„ä½ç½®ï¼Œå…¶ä¸­åŒ…å« typedef NS_OPTIONS(NSUInteger, AspectOptions) &#123; AspectPositionAfter = 0, /// Called after the original implementation (default) AspectPositionInstead = 1, /// Will replace the original implementation. AspectPositionBefore = 2, /// Called before the original implementation. AspectOptionAutomaticRemoval = 1 &lt;&lt; 3 /// Will remove the hook after the first execution.&#125;; è¿™ä¸ªåº“æ®è¯´æ˜¯å¯¹ä¸Šçº¿æ²¡æœ‰å½±å“ã€‚ é…ç½®å·¥ç¨‹ç”¨å®é™…ä»£ç æ¥è¯æ˜ä¸‹ï¼Œè¿™æ˜¯æˆ‘Controllerä¸­çš„ä¸€ä¸ªä»£ç ï¼Œå¾ˆæ˜æ˜¾ä¼šäº§ç”Ÿæ•°ç»„è¶Šç•Œçš„Crashï¼Œå‡å¦‚æˆ‘ä»¬åœ¨ä¸Šçº¿åæ‰å‘ç°äº†è¿™ä¸ªé—®é¢˜ï¼Œè¿™æ—¶å€™éœ€è¦ä¿®å¤ #import "ViewController.h"@interface ViewController ()@end@implementation ViewController- (void)viewDidLoad &#123; [super viewDidLoad]; [self crashMethod:0]; // Do any additional setup after loading the view, typically from a nib.&#125;- (void)crashMethod:(NSInteger)argument&#123; if (argument == 0) &#123; NSArray * arr = @[@"1"]; [arr objectAtIndex:2]; &#125;&#125;- (void)didReceiveMemoryWarning &#123; [super didReceiveMemoryWarning]; // Dispose of any resources that can be recreated.&#125;@end å¯¼å…¥ä¸Šé¢è¯´çš„é‚£ä¸ªç¬¬ä¸‰æ–¹.hå’Œ.m ç„¶åè‡ªå·±å»ºç«‹ä¸€ä¸ªæ¡¥æ¥ç±»ï¼Œç”¨æ¥å¤„ç†JSå’ŒOçš„äº¤äº’ï¼Œå¤§æ¦‚çš„ç»“æ„å°±æ˜¯è¿™æ · å…¶ä¸­äº¤äº’ç±»ä¸­æš´éœ²å‡ºå¦‚ä¸‹æ¥å£ #import &lt;Foundation/Foundation.h&gt;#import "Aspects.h"#import &lt;objc/runtime.h&gt;#import &lt;JavaScriptCore/JavaScriptCore.h&gt;@interface Felix : NSObject/** åˆå§‹åŒ– */+ (void)fixIt;/** å¼€å§‹æ‰§è¡ŒJSä»£ç  @param javascriptString éœ€è¦æ‰§è¡Œçš„JS */+ (void)evalString:(NSString *)javascriptString;@end .mæ–‡ä»¶çš„å†…å®¹å¯ä»¥åˆ°å¤§ä½¬åšå®¢ä¸­å‚è€ƒè¿™é‡Œä¸æ”¾å‡ºï¼Œä¸ç„¶ç¯‡å¹…å¤ªé•¿ã€‚ å¼€å§‹ä½¿ç”¨å› ä¸ºæˆ‘ä»¬æœ€å¥½ç”¨èƒ½æ§åˆ¶ä»£ç é‡Œé¢çš„æ‰€æœ‰æ–¹æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦å°½æ—©çš„æ³¨å†Œäº¤äº’ç±»ï¼Œåœ¨APpdelegateä¸­å¦‚ä¸‹æ³¨å†Œ - (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions &#123; // Override point for customization after application launch. [Felix fixIt]; NSString *fixScriptString = @" \ fixInstanceMethodReplace('ViewController', 'crashMethod:', function(instance, originInvocation, originArguments)&#123; \ if (originArguments[0] == 0) &#123; \ console.log('crashï¼ï¼ï¼ï¼ï¼'); \ &#125; else &#123; \ runInvocation(originInvocation); \ &#125; \ &#125;); \ \ "; [Felix evalString:fixScriptString];// å¦‚æœæ˜¯å¤šä¸ªæ–¹æ³•å»ºè®®ç”¨å¾ªç¯æ‰§è¡Œ// NSArray * hotFixStr = @[fixScriptString];// for (int i = 0; i &lt; hotFixStr.count; i ++) &#123;// [Felix evalString:hotFixStr[i]];// &#125; return YES;&#125; å…¶ä¸­JSçš„ä»£ç å°±æ˜¯æˆ‘ä»¬æ‰€è¦ä¿®æ”¹çš„å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°å½“å‚æ•°ä¸º0çš„æ—¶å€™è¾“å‡ºcrashï¼ï¼ï¼ç„¶åä¸å†ç»§ç»­æ‰§è¡Œäº†ã€‚å®é™…é¡¹ç›®ä¸­è¿™æ®µä»£ç æ˜¯ç”±æœåŠ¡å™¨åŠ¨æ€è¿”å›çš„ï¼Œå¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹å¤šä¸ªæ–¹æ³•ï¼Œå°±éœ€è¦æœåŠ¡å™¨è¿”å›JSå­—ç¬¦ä¸²æ•°ç»„æˆ‘ä»¬è¿™è¾¹æ¥è¿›è¡Œå¾ªç¯å¤„ç†å³å¯ã€‚è¿™æ—¶å€™åœ¨è¿è¡Œä¸‹ä»£ç ä¸ä¼šå´©æºƒï¼Œä¸‹é¢ä¼šè¾“å‡ºä¸€ä¸ªcrashï¼ï¼ï¼ï¼ æ€è€ƒè¿™ä¸ªæ–¹æ³•ç›¸æ¯”è¾ƒä¹‹å‰çš„JSpatch æ˜¯éå¸¸è½»é‡çº§çš„ï¼Œè€Œä¸”ä¹Ÿåªæ˜¯å®ç°äº†ç®€å•çš„å®¹é”™åŠŸèƒ½ï¼Œå¹¶ä¸èƒ½åšä¸€äº›å¤æ‚çš„æ“ä½œï¼Œæ¯”å¦‚ç”Ÿæˆä¸€ä¸ªå¯¹è±¡ä¹‹ç±»çš„ï¼Œä¸è¿‡å¯¹äºä¸€èˆ¬çš„æ§åˆ¶å·²ç»å¯ä»¥æ»¡è¶³äº†ï¼Œæ¯•ç«Ÿåœ¨è‹¹æœçˆ¸çˆ¸è¿™ä¹ˆä¸¥å‰çš„ç®¡åˆ¶ä¸‹èƒ½æœ‰è¿™æ ·çš„æ–¹æ³•ä¹Ÿè¿˜ä¸é”™å•Šã€‚ var options = {"narrow":false,"autoplay":true,"showlrc":0,"mutex":true,"music":[{"title":"ä¸çŸ¥å½’æœŸçš„æ•…äºº","author":"æˆ¿ä¸œçš„çŒ«","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E4%B8%8D%E7%9F%A5%E5%BD%92%E6%9C%9F%E7%9A%84%E6%95%85%E4%BA%BA.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000004NFJ230yX0Nz.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=000zreoj2VtcID"}]}; options.element = document.getElementById("aplayer4"); new APlayer(options);]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>çƒ­ä¿®å¤</tag>
        <tag>JSPath</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[At The End Of 2017]]></title>
    <url>%2F2018%2F02%2F12%2FAt-The-End-Of-2017%2F</url>
    <content type="text"><![CDATA[å‰è¨€ä»Šå¤©æ˜¯2017å¹´çš„æœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œå‡†ç¡®çš„è¯´æ˜¯æˆ‘æœ€åä¸€ä¸ªå·¥ä½œæ—¥ï¼Œå…¬å¸çš„åŒäº‹éƒ½èµ°çš„å·®ä¸å¤šäº†ï¼Œå¯¥å¯¥æ— å‡ çš„åŠå…¬å®¤æ˜¾å¾—æ ¼å¤–å†·æ¸…ï¼Œå’Œå®‰é™ï¼Œä¸è¿‡è¶Šæ˜¯è¿™æ ·çš„ç¯å¢ƒè¶Šå®¹æ˜“è®©æˆ‘å›å¿†ã€æ„Ÿæ…¨ï¼Œå› æ­¤ä¾¿æœ‰äº†è¿™ç¯‡æ–‡ç« ã€‚ æˆ‘çš„ä¸€äº›æœ‹å‹åœ¨å…ƒæ—¦çš„æ—¶å€™å°±åšäº†æ€»ç»“ï¼Œè€Œæˆ‘é€‰æ‹©åœ¨äº†è¿™ä¸ªæ—¶å€™ï¼Œå› ä¸ºæˆ‘è§‰å¾—è™½ç„¶æ˜¯12æœˆ31æ—¥ï¼Œä½†æ˜¯æˆ‘çš„å·¥ä½œå¹¶æ²¡æœ‰åœæ­¢ï¼Œæ—§çš„å·¥ä½œæ²¡æœ‰åšå®Œï¼Œæ–°çš„å·¥ä½œè¿˜æ²¡æ—¶é—´è§„åˆ’ï¼Œå…ƒæ—¦ä¹Ÿåªæ˜¯ä¸ªå°é•¿å‡è€Œå·²ã€‚è™½ç„¶ç°åœ¨å¯¹äºæ˜å¹´è¦åšçš„äº‹æƒ…ä¹Ÿè¿˜æ˜¯æ²¡æœ‰è¯¦ç»†çš„å®šä½ï¼Œä½†æ˜¯å¤§è‡´çš„æ–¹å‘åº”è¯¥ç®—æ˜¯æœ‰äº†ã€‚ è¾æ—§åªæœ‰è¾æ—§æ‰èƒ½è¿æ–°ï¼Œè¯´å®è¯2017å¹´æ”¶è´§çœŸçš„ä¸å°ï¼Œä»Šå¹´ä¹Ÿæ˜¯æˆ‘åœ¨ç¾å›¾æˆé•¿æœ€å¿«çš„ä¸€å¹´ã€‚2016å¹´6æœˆ12æ—¥å‡Œæ™¨ä»åŒ—äº¬åŒ†åŒ†èµ¶æ¥æ·±åœ³ï¼Œä¸€å¤©çš„æ—¶é—´ç´§ç´§å¼ å¼ ï¼ŒåŠäº†æˆ·å£ï¼ŒåŠäº†ç¤¾ä¿è½¬ç§»ä¹‹ç±»çš„æ‰‹ç»­ï¼Œä¸‹åˆåˆæ¥åˆ°å…¬å¸æ¥¼ä¸‹è¸©ç‚¹å„¿ï¼Œé˜²æ­¢ç¬¬äºŒå¤©å…¥èŒçš„æ—¶å€™æ‰¾ä¸åˆ°åœ°æ–¹ã€‚13å·æ­£å¼æˆä¸ºMeituçš„ä¸€å‘˜ï¼Œåˆšå¼€å§‹éƒ½æ˜¯é™Œç”Ÿçš„ï¼Œä¹Ÿå¯ä»¥è¯´æ˜¯æ‡µé€¼çš„ï¼Œæ¥è§¦çš„ä¸œè¥¿å¤šäº†å°±ä¼šå‘ç°è‡ªå·±æ¬ ç¼ºçš„ä¸œè¥¿ä¹Ÿå¤šäº†ï¼Œä»€ä¹ˆéƒ½æƒ³è¦å­¦ï¼Œä»å…¥èŒåˆ°17å¹´å…¶å®éƒ½æ˜¯åœ¨é€‚åº”æœŸï¼Œæ²¡æœ‰ä»€ä¹ˆå®è´¨æ€§çš„è¿›æ­¥ï¼Œä¸è¿‡çœŸçš„æ˜¯æ¶¨äº†è§è¯†ï¼ŒçŸ¥é“äº†å¾ˆå¤šä¸œè¥¿ã€‚ è®°å¾—æ¥æ·±åœ³ä¹‹å‰ä¸€ä¸ªå‰è¾ˆè·Ÿæˆ‘è¯´è¿‡ï¼šâ€œå½“ä½ å»åˆ°ä¸€ä¸ªæ–°çš„åŸå¸‚ä¸€ä¸ªæ–°çš„å…¬å¸å¤§å¤šæ•°äººéƒ½éœ€è¦åŠå¹´å·¦å³çš„é€‚åº”æœŸï¼Œé€‚åº”æœŸå†…ä¼šè§‰å¾—å’Œå…¬å¸æ ¼æ ¼ä¸å…¥ï¼Œå„ç§ä¸çˆ½ï¼Œç­‰è¿™ä¸€é˜¶æ®µè¿‡å»äº†é‚£å°±ä¼šçªé£çŒ›è¿›ã€‚â€ä¸€å¼€å§‹æˆ‘è¿˜ä¸ç›¸ä¿¡ï¼Œä½†æ˜¯ç°åœ¨çœŸçš„çŸ¥é“äº†ã€‚åŠå¹´çš„é€‚åº”æœŸè¿‡å»äº†ï¼Œ2017å¹´é€æ¸æ­¥å…¥æ­£è½¨ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘åœ¨ä¸€å¼€å§‹è¯´2017å¹´æ˜¯æˆ‘ä¸ªäººæˆé•¿æœ€å¿«çš„ä¸€å¹´ï¼Œä¸å…‰æ˜¯æŠ€æœ¯ï¼Œè¿˜åŒ…æ‹¬å…¶ä»–ç²¾ç¥å±‚é¢çš„ä¸€äº›ä¸œè¥¿ã€‚ å­¦ä¹ ç›¸å…³SDKæ¯•ç«Ÿæ˜¯åšå¼€å‘çš„ï¼Œè¿˜æ˜¯å…ˆä»æŠ€æœ¯è¯´èµ·ï¼Œè¿™ä¸€å¹´å®Œæˆäº†iOSç«¯çš„DNSè§£æè€—æ—¶ä¼˜åŒ–SDKï¼Œä¹Ÿå¯ä»¥å«åšHttpDnsã€‚å…¶å®è¿™ä¸ªä¸œè¥¿åŸç†å¾ˆç®€å•(è¿™é‡Œå°±ä¸åœ¨èµ˜è¿°ï¼Œæ¯•ç«Ÿä¸æ˜¯æŠ€æœ¯æ–‡ç« ï¼Œæƒ³äº†è§£æ›´å¤šçš„å¯ä»¥åœ¨æˆ‘çš„å°ç«™æœç´¢ httpdns å­—æ®µ)ã€‚ä½†æ˜¯åšäº†å¾ˆä¹…ï¼Œåˆšå¼€å§‹åšçš„æ—¶å€™ï¼Œæˆ‘æƒ³åº”è¯¥æ˜¯ä¸šå†…çš„å‰å‡ åå§ï¼Œæˆ‘åªçœ‹åˆ°è¿‡è…¾è®¯ï¼Œé˜¿é‡Œæœ‰è¿‡ç›¸å…³çš„æ–‡æ¡£ï¼Œè€Œé˜¿é‡Œçš„ä¹Ÿåªæ˜¯å®ç°äº†ç®€å•çš„å‡ ä¸ªåŠŸèƒ½è€Œå·²ï¼Œè…¾è®¯çš„ä¸å¼€æºï¼Œä¸è¿‡åº”è¯¥ä¹Ÿä¸ä¼šæœ‰å¤šæ·±å…¥ã€‚é™¤æ­¤ä¹‹å¤–æ²¡æœ‰ä»»ä½•æœ‰ç”¨çš„æ–‡æ¡£ï¼Œè‡ªå·±ä¸€ç‚¹ç‚¹æ‘¸ç´¢ï¼Œä¸€ç‚¹ç‚¹è¸©å‘ï¼Œé¡¹ç›®æ¥äº†å¥½ä¹…éƒ½æ˜¯æœ‰é—®é¢˜ï¼Œä¹Ÿä¸ç¨³å®šï¼Œé‚£æ®µæ—¶é—´çœŸçš„å¾ˆéš¾ï¼Œå¾ˆç—›è‹¦ã€‚å¥½åœ¨æœ€åæ…¢æ…¢éƒ½å…‹æœäº†ï¼Œå½“æˆ‘æŠŠæœ€ç»ˆçš„æ–‡æ¡£æ”¾åˆ°ç½‘ä¸Šï¼Œç¡®å®èµ¢æ¥äº†å¾ˆå¤šçš„é˜…è¯»é‡ï¼Œè¿˜è¢«æ¨ä¸Šè¿‡å¤´æ¡ï¼Œæˆ‘æƒ³è¿™å°±æ˜¯å¯¹æˆ‘ä»˜å‡ºåŠªåŠ›çš„å›æŠ¥å§ï¼Œç€å®å¾ˆæ¬£æ…°ã€‚å”¯ä¸€çš„é—æ†¾å°±æ˜¯ç”±äºæ¶‰åŠåˆ°ä¸€äº›ä¸šåŠ¡çš„ä»£ç ï¼Œæ— æ³•åšåˆ°å¼€æºã€‚ä¸è¿‡è¿™å°†æ˜¯æˆ‘2018å¹´çš„ç›®æ ‡ã€‚ Appå…¶å®å®Œæ•´çš„Appæ²¡æœ‰åšï¼Œä½†æ˜¯ä¹Ÿä¸»è¦ç»´æŠ¤äº†ä¸€ä¸ªAppï¼Œåˆšæ¥åˆ°ä»£ç çœ‹äº†ä¸‹æœ€æ—©çš„ä»£ç æ˜¯2012å¹´ï¼Œä¸€äº›ç¬¬ä¸‰æ–¹åº“ä¹Ÿæ¯”è¾ƒè€ã€‚è€æ—§çš„ä»£ç ï¼Œæ— æ³•å‘æŒ¥æ–°è®¾å¤‡çš„æ€§èƒ½ï¼Œäºæ˜¯å¼€å§‹é‡æ„ã€ä¼˜åŒ–ï¼Œå‡ å¹´å‰å†™ä»£ç çš„äººå¤§éƒ¨åˆ†ç¦»èŒäº†ï¼Œåªèƒ½è‡ªå·±çœ‹ï¼Œçœ‹ä¸æ‡‚äº†å°±ç”¨è‡ªå·±çš„æ–¹å¼é‡å†™ã€‚æ¯æ¬¡Appä¸Šæ¶åç›¯ç€å´©æºƒçš„åå°çœ‹ï¼Œæ˜¯å¦äº§ç”Ÿäº†æ–°çš„é—®é¢˜ã€æ—§çš„é—®é¢˜æ˜¯å¦ä¿®å¤ï¼Œç„¶åçœ‹App Storeç”¨æˆ·çš„è¯„è®ºï¼Œç”¨æˆ·æœ€å…³å¿ƒä»€ä¹ˆï¼Œç”¨æˆ·ä¼šäº§ç”Ÿå“ªäº›é—®é¢˜ï¼Œéƒ½ä¸€ä¸€è®°å½•ï¼Œä¿®æ”¹ï¼Œå…¶å®æ¯å½“è¿™ä¸ªæ—¶å€™æ„Ÿè§‰è¿˜æ˜¯æŒºå¹¸ç¦çš„ï¼Œè€Œä¸”æ­£å¥½èµ¶ä¸ŠiPhone Xå‘å¸ƒï¼Œæ–°çš„å±å¹•é€‚é…æ—©å°±åšå¥½äº†ï¼Œå°±ç­‰ç€çœŸæœºå‡ºæ¥å»çœ‹çœ‹ï¼Œåº”è¯¥ä¹Ÿæ˜¯å…¬å¸ç¬¬ä¸€ä¸ªå®Œæˆé€‚é…çš„Appï¼Œè™½ç„¶å½“æ—¶æœ‰äº›å°é—®é¢˜è¿˜æ²¡æœ‰å‘ç°ã€‚åæ¥çœ‹ç€äº§å“è¶Šæ¥è¶Šç¨³å®šå¿ƒé‡Œä¹Ÿæ˜¯å¾ˆçˆ½çš„ã€‚ å…¶ä»–ç¿»è¯‘è¿‡å‡ ç¯‡æ–‡ç« ã€å°½é‡ä¿è¯æ¯å‘¨åœ¨å…¬å¸åšä¸€æ¬¡æŠ€æœ¯åˆ†äº«(æ„Ÿè°¢æˆ‘çš„leaderè®©æˆ‘å…»æˆè¿™ä¸ªä¹ æƒ¯)ã€å»ºç«‹äº†ä¸ªäººåšå®¢å¼€å§‹è®°å½•è‡ªå·±çš„ç”Ÿæ´»ã€åœ¨ä¸€äº›æŠ€æœ¯è®ºå›ä¸Šæœ‰äº†å±äºè‡ªå·±çš„ç²‰ä¸ï¼Œä¸è¿‡æˆ‘ä¸æ˜¯å¤§ä½¬ï¼Œåªæ˜¯å’Œå¤§å®¶æ²Ÿé€šã€è®¨è®ºç½¢äº†ã€‚ ç”Ÿæ´»ç›¸å…³æƒ…æ„Ÿ2017å¹´é¦–å…ˆæ˜¯æ¢äº†ä¸€ä¸ªå·¥ä½œçš„åŸå¸‚ï¼Œå…¶å®æ˜¯ä¸ºäº†é€ƒç¦»åŒ—äº¬çš„é›¾éœ¾ï¼Œä¹Ÿæ˜¯ä¸ºè‡ªå·±æ›´å¥½çš„å‘å±•ï¼Œä¸å¾—ä¸æ‰¿è®¤å—æ–¹çš„ç¯å¢ƒç¡®å®è¦æ¯”åŒ—æ–¹å¼ºä¸€äº›ï¼Œæ”¿åºœæœºå…³çš„åŠäº‹æ•ˆç‡ä¹Ÿæ›´é«˜ä¸€äº›ã€‚ä¸‰æœˆä»½å¦¹å­ä¸ºäº†æˆ‘ä¹Ÿæ¥åˆ°äº†æ·±åœ³,çœŸçš„å¾ˆæ„ŸåŠ¨ï¼Œæ¨ªè·¨äº†æ•´ä¸ªä¸­å›½æ¥æ‰¾æˆ‘ï¼Œå¥¹è™½ç„¶æ²¡ä»€ä¹ˆæ€¨è¨€ï¼Œä½†æ˜¯æˆ‘çŸ¥é“å¯¹äºä¸€ä¸ªå¥³å­©å­æ¥è¯´è¿™æ„å‘³ç€ä»€ä¹ˆï¼Œæœ‰æ—¶å€™å¥¹å¼€ç©ç¬‘æ€»æ˜¯è¯´æˆ‘æ²¡æœ‰æ„Ÿæƒ…ï¼Œå…¶å®æˆ‘åªæ˜¯ä¸å–„è¡¨è¾¾è€Œå·²ï¼Œä½œä¸ºä¸€ä¸ªå†›äººå®¶åº­å‡ºèº«çš„å­©å­ï¼Œæˆ‘å®Œç¾çš„å—åˆ°äº†å®¶åº­çš„å½±å“ï¼Œè¯´ä¸€ä¸äºŒï¼Œå¯¹å¥¹ä»æ¥ä¸æƒ¯ï¼Œä»æ¥ä¸å“„ï¼Œä¸èƒ½å®¹å¿å¥¹çŸ«æƒ…ï¼Œä¸èƒ½å®¹å¿å¥¹æŒ‘é£Ÿï¼Œæœ‰æ—¶å€™ä¸¥å‰çš„çœŸçš„åƒæˆ‘çš„çˆ¶äº²å¯¹æˆ‘ä¸€æ ·ï¼Œä½†æ˜¯åŒæ ·æˆ‘ä¹Ÿä¼šå¯¹å¥¹ç»å¯¹çš„å¿ è¯šï¼Œå› ä¸ºè¿˜æ˜¯å¾ˆçˆ±å¥¹ï¼Œä¸ç®¡ä»¥åå¦‚ä½•ï¼Œå¥¹å·²ç»æ˜¯æˆ‘ç”Ÿå‘½ä¸­é™¤äº†æ¯äº²ä¹‹å¤–æœ€é‡è¦çš„äººã€‚ æ—…æ¸¸å¯èƒ½æ˜¯å› ä¸ºæ²¿æµ·åŸå¸‚å¾ˆæ–¹ä¾¿çš„åŸå› ï¼Œè¿™ä¸€å¹´æˆ‘ä»¬å»äº†ä¸å°‘åŸå¸‚ï¼Œèµ°è¿‡ä¸å°‘åœ°æ–¹ï¼Œ å…¶å®è¿˜æœ‰å¾ˆå¤šåœ°æ–¹ï¼Œåªæ˜¯å¤§éƒ¨åˆ†ç…§ç‰‡æ²¡æœ‰ä¼ åˆ°googleç›¸å†Œé‡Œï¼Œgoogleçš„ç›¸å†Œæˆ‘çš„åˆè¡·æ˜¯ç”¨æ¥ä¿å­˜livephotoçš„ã€‚é‚£å¤©çœ‹åˆ°å¦¹å­ç”¨ä¸€ä¸ªæœ¬å­è®°ç€æˆ‘ä»¬ä¸€èµ·å»è¿‡çš„åœ°æ–¹ï¼Œæˆ‘æ‰å‘ç°æˆ‘ä»¬èµ°è¿‡ä¸å°‘åœ°æ–¹ã€‚æˆ‘å½“æ—¶æƒ³æˆ‘å¯ä»¥åšä¸€ä¸ªå°AppæŠŠè¿™äº›åœ°æ–¹è®°å½•ä¸‹æ¥ï¼Œä½†æ˜¯é­åˆ°æ‹’ç»ï¼Œå¥¹è¯´å‡ºå»æ—…æ¸¸å°±æ˜¯ä¸ºäº†æ”¾ä¸‹å·¥ä½œï¼Œå»å¯»æ‰¾å¤§è‡ªç„¶ä¸­æœ€åŸå§‹ï¼Œæœ€çº¯å‡€çš„ä¸œè¥¿ï¼Œå¥¹ä¸æƒ³å› ä¸ºè¿™ä¸ªå¢åŠ æˆ‘çš„å·¥ä½œé‡ï¼Œè€Œä¸”ç”¨æœ€åŸå§‹çš„çº¸å’Œç¬”æ›´ç¬¦åˆæ—…è¡Œçš„æ„ä¹‰ã€‚ é¦™æ¸¯ æ¾³é—¨ ä¸Šæµ· è¥¿å¡˜ Kota Kinabalu Semporna è¿˜æœ‰å¾ˆå¤šåœ°æ–¹æ‹äº†å¾ˆå¤šç…§ç‰‡ï¼Œç°åœ¨çœ‹ä¸‹çœŸçš„æ˜¯å¾ˆç¾å¥½çš„å›å¿†ï¼Œåæ¥æˆ‘å’Œå¦¹å­ä¸€ç›´è®¤ä¸ºï¼Œä»¥åå³ä½¿å†å¿™ä¹Ÿä¸€å®šè¦å¤šå‡ºå»èµ°ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘è¿‡å¹´æ²¡æœ‰ä½¿ç”¨å¹´å‡ï¼Œå› ä¸ºå¹´å‡åŸºæœ¬ä¼šæ”’åˆ°å‡ºå›½ã€‚ä»¥åæˆ‘çš„åšå®¢å¯èƒ½ä¼šå¼€å‡ºç›¸å†Œæ¨¡å—ï¼Œè®°å½•ä¸‹æ›´å¤šçš„ç¾å¥½ã€‚ å…¶ä»–2017å¹´ä¹Ÿæœ‰ç»å¸¸å¥èº«å§ï¼Œå› ä¸ºå—æ–¹ç©ºæ°”æ½®æ¹¿æ¹¿æ°”é‡ï¼Œå¦‚æœä¸è®©è‡ªå·±ä¿æŒå¤§æ±‰æ·‹æ¼“çš„è¯å¾ˆå®¹æ˜“ç”Ÿç—…ã€‚åšæŒè¿‡å‡ ä¸ªæœˆï¼Œä½†æ˜¯åæ¥å› ä¸ºå·¥ä½œå¿™ï¼ŒåŠ ç­ç­‰å€Ÿå£è¿˜æ˜¯æ²¡åšæŒä¸‹æ¥ï¼Œæ²¡æœ‰çˆ¶äº²çš„ç›‘ç£æœç„¶é è‡ªå·±ä¸è¡Œã€‚è¯´å¥½çš„å…«å—è…¹è‚Œå·²ç»è¦ä¹ä¹å½’ä¸€äº†ã€‚ä¸è¿‡ä¹ŸçœŸçš„æ˜ç™½èº«åœ¨å¼‚ä¹¡ä»€ä¹ˆæ—¶å€™æœ€å­¤ç‹¬ï¼Œæœ€æ— åŠ©ï¼Œé‚£å°±æ˜¯ç”Ÿç—…çš„æ—¶å€™ã€‚ æˆ‘çš„2017 å·®ä¸å¤šå°±è¿™äº›ä¸œè¥¿ï¼Œå¯èƒ½è·Ÿå¤§ä½¬ä»¬æ¯”èµ·æ¥çœŸçš„æ˜¯å°æ‰“å°é—¹ï¼Œä½†æ˜¯è¿‡å¾—å……å®ï¼Œå¿ƒé‡Œè¸å®åªæœ‰è‡ªå·±æ‡‚ã€‚ è¿æ–°2018å¹´åœ¨çŸ­çŸ­çš„ä¼‘æ¯ä¹‹åå°±ä¼šåˆ°æ¥ï¼Œè™½è¯´æ²¡æœ‰åšå¥½ä¸‡å…¨çš„å‡†å¤‡ï¼Œä½†æ˜¯è‡³å°‘ä¸ä¼šæ‰‹è¶³æ— æªã€‚ å­¦ä¹ ç›¸å…³ è¿˜æ˜¯å­¦ä¹ ä¸ºä¸»ï¼Œé¦–å…ˆè¦åšçš„å°±æ˜¯æŠŠè‡ªå·±çš„appleçš„å¼€å‘è€…è´¦å·ç»­è´¹ï¼Œè‡ªå·±å¯ä»¥åšä¸€äº›ç»ƒä¹ ã€Appä¹‹ç±»çš„ä¸œè¥¿ï¼ŒåŒæ—¶æŠŠå„ç§è¯ä¹¦ã€æ‰“åŒ…ï¼ŒæŒç»­é›†æˆè¿™å—æ•´æ˜ç™½ã€‚æ¯•ç«Ÿç°åœ¨ç”¨å…¬å¸çš„è¯ä¹¦ä¸æ•¢ä¹±å¼„ã€‚ è‡ªå·±ä»é›¶åˆ°ä¸€åšä¸€ä¸ªç›´æ’­çš„Appä¸ç®¡æ˜¯ç»¿è‰²ç›´æ’­è¿˜æ˜¯æˆäººç›´æ’­ï¼Œä¸€å®šè¦åšå‡ºæ¥ä¿è¯å®Œç¾è¿è¡Œã€‚ é›…æ€è¯æ±‡å…¨æŒæ¡ã€‚ å£®å¤§è‡ªå·±çš„åšå®¢ã€‚ ç”Ÿæ´»ç›¸å…³ å»ä¸€åˆ°ä¸¤ä¸ªå›½å®¶ã€‚ äº”å…¬é‡ŒåšæŒä¸‹æ¥ã€‚ æˆéƒ½ï¼Œé‡åº†ï¼Œäº‘å—â€¦. å…¶ä»–ä¹‹æ‰€ä»¥æ²¡åœ¨è¿æ–°ä¸­å†™å¤ªå¤šä¸œè¥¿å¹¶ä¸æ˜¯å› ä¸ºæ²¡è®¡åˆ’ï¼Œè€Œæ˜¯æœ‰äº›ä¸œè¥¿ä¸æƒ³åœ¨è¿™é‡Œè¯´å‡ºæ¥ï¼Œç”¨è€ç½—çš„è¯è¯´å°±æ˜¯ä¸‡ä¸€å®ç°ä¸äº†ï¼Œä¸¢äººã€‚ æˆ‘è®°å¾—çœ‹è¿‡ä¸€æœ¬ä¹¦è¯´â€œä¼Ÿå¤§çš„äººä¸æ˜¯åŠªåŠ›å­¦ä¹ æ–°çŸ¥è¯†çš„äººï¼Œè€Œæ˜¯å–„äºæ€»ç»“çš„äººã€‚â€æˆ‘ä¹Ÿä¸æ±‚å˜æˆä¼Ÿå¤§çš„äººï¼Œåªæ˜¯å¸Œæœ›è‡ªå·±çš„æ¯ä¸€å¹´éƒ½æœ‰æ‰€æ”¶è´§ï¼Œå¸Œæœ›è‡ªå·±åšå¥½è¿æ¥æ–°ä¸€å¹´çš„æ‰“ç®—ï¼Œå¸Œæœ›è¿‡å¾—è¸å®ç‚¹ã€‚ æœ€ååœ¨è¿™é‡Œç»™å¤§å®¶æ‹œä¸ªæ—©å¹´ï¼šç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼Œå¿ƒæƒ³äº‹æˆã€‚æ–°çš„ä¸€å¹´æˆ‘ä¼šä¸å¤§å®¶åˆ†äº«æ›´å¤šçš„ä¸œè¥¿ æ‰ç–å­¦æµ…ï¼Œæ–‡ç¬”æ‹™åŠ£ï¼Œäº2018.2.13ä»“ä¿ƒæ‰§ç¬”â€¦. var options = {"narrow":false,"autoplay":true,"showlrc":0,"mutex":true,"music":[{"title":"ì—í•„ë¡œê·¸ (Epilogue)","author":"ì´ë™ì¤€","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E1%84%8B%E1%85%A6%E1%84%91%E1%85%B5%E1%86%AF%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000000RmZHf3qhLUL.jpg?max_age=2592000","lrc":"https://æ­Œè¯.lrc"}]}; options.element = document.getElementById("aplayer3"); new APlayer(options);]]></content>
      <categories>
        <category>é—²è°ˆ</category>
      </categories>
      <tags>
        <tag>æ€»ç»“</tag>
        <tag>å›å‘³2017å±•æœ›2018</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºåšå®¢è¯„è®ºæ’ä»¶çš„è®¨è®º]]></title>
    <url>%2F2018%2F02%2F11%2F%E5%85%B3%E4%BA%8E%E5%8D%9A%E5%AE%A2%E8%AF%84%E8%AE%BA%E6%8F%92%E4%BB%B6%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å‚è€ƒèµ„æ–™ä¹ æƒ¯æŠŠå‚è€ƒèµ„æ–™å†™åœ¨æ–‡ç« çš„å‰é¢ï¼Œæ¯•ç«Ÿæ˜¯è¸©åœ¨äººå®¶çš„è‚©è†€ä¸Šï¼Œå…ˆæœ‰ä»–æ‰æœ‰æˆ‘è¿™æ–‡ç« ï¼Œå‰åé¡ºåºä¸èƒ½ä¹±ã€‚ä»–çš„è¿™ç¯‡æ–‡ç« æ€»ç»“çš„å¾ˆå…¨ï¼Œä½†æ˜¯å¯¹äºæ¯ä¸€ä¸ªè¯„è®ºè¿˜æ¬ ç¼ºç»†è‡´çš„æè¿°ï¼Œè¿™ç¯‡æ–‡ç« ä¸‹æˆ‘ä¼šåšäº›è¡¥å……ï¼Œ ä¹‹å‰ç”¨çš„livereå…³äºåšå®¢çš„è¯„è®ºæ’ä»¶,åœ¨æœ€å¼€å§‹çš„æ­å»ºåšå®¢ä¹‹å‰å°±æœ‰è¿‡è€ƒè™‘å’Œçº ç»“ï¼Œå›½å†…çš„è¯„è®ºç•Œé¢æµ®å¤¸æµç¨‹ç¹çï¼Œä¸”æœåŠ¡ä¸ç¨³å®šï¼Œè¯´å€’å°±å€’ï¼Œæ¯”å¦‚å¤šè¯´ï¼›å›½å¤–çš„åˆæ—¶åˆ»é¢ä¸´ç€è¢«å¢™çš„é£é™©ï¼Œè‡ªå·±æ­å»ºæœåŠ¡å™¨è™½è¯´ä¸éš¾ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰ç²¾åŠ›å»æè¿™äº›ã€‚åæ¥ä½¿ç”¨äº†livereï¼ŒéŸ©å›½çš„äº§å“ï¼Œä¸€å¼€å§‹è¢«ä»–ç®€æ´çš„ç•Œé¢æ–¹ä¾¿çš„åå°å¸å¼•ï¼Œè€Œä¸”è¿˜æ”¯æŒå„ç§ç§»åŠ¨APPç™»é™†ï¼Œå¾®ä¿¡ã€QQä¹‹ç±»çš„ã€‚ä¸è¿‡åæ¥ä½¿ç”¨è¿‡ç¨‹ä¸­ç¼ºç‚¹æ˜¾ç°å‡ºæ¥äº†ã€‚ ç¼ºç‚¹1ï¼šæ‰‹æœºç«¯é€‚é…ä¸å¥½ï¼Œæ‰‹æœºç«¯æ— æ³•è¿›è¡Œå¾®ä¿¡ç™»é™†ã€‚2ï¼šè¯„è®ºæ— æ³•å¯¼å‡ºï¼Œä¸è¿‡å¦‚æœå“ªå¤©ä»–ä¹Ÿè¦æŒ‚äº†è¯´ä¸å®šä¹Ÿä¼šæ”¯æŒå¯¼å‡ºï¼Œæ¯•ç«Ÿå®ç°ä¸éš¾ã€‚3ï¼šç»å¸¸å‘è¯„è®ºæ—¶å€™å½“å‰é¡µé¢å¡æ­»ï¼Œå…¶å®å·²ç»å‘é€æˆåŠŸäº†ï¼Œä½†æ˜¯ç•Œé¢ä¸€ç›´å¡åœ¨loadingã€‚4ï¼šåŠ è½½æ¯”è¾ƒæ…¢ä¸€äº›ã€‚ å…¶ä»–çš„è¯„è®ºæ’ä»¶ç»¼ä¸Šæ‰€è¿°æˆ‘å†³å®šæ¢æ‰å®ƒï¼Œè¿™ç§ä¸œè¥¿è¦è¶æ—©ï¼Œä¸ç„¶ç­‰è¯„è®ºå¤šäº†è¿˜éœ€è¦æœ±è½¬ç§»æ“ä½œã€‚ä¸‹é¢è¯´ä¸‹å…¶ä»–è¯„è®ºæ’ä»¶ï¼Œå› ä¸ºä¹‹å‰æ”¾äº†å¤§ä½¬çš„æ–‡ç« ï¼Œä»–æ€»ç»“çš„ä¹Ÿå¾ˆå…¨é¢ï¼Œæˆ‘è¿™è¾¹å°±æŒ‘å‡ ä¸ªå¤§å®¶è€³ç†Ÿèƒ½è¯¦çš„æ¥è¯´ï¼Œè€Œä¸”åªè¯´ç¼ºç‚¹ã€‚ disqusä»–å”¯ä¸€ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯è¢«å¢™äº†ï¼Œä»–è¦æ±‚æ¯ä¸€ä¸ªçœ‹ä½ åšå®¢çš„è¯»è€…éƒ½è¦ç§‘å­¦ä¸Šç½‘æ‰å¯ä»¥ï¼Œå¯¹äºæˆ‘çš„åšå®¢æ¥è¯´ï¼Œä¸ä»…ä»…æ˜¯å†™ä¸€ä¸‹æŠ€æœ¯æ–‡æ¡£ï¼Œæœ‰æ—¶å€™ä¼šæ›´æ–°ä¸‹ç…§ç‰‡ã€æ¸¸è®°ä¹‹ç±»çš„ï¼Œæ‰€ä»¥ä¸æƒ³å¯¹è¯»è€…æœ‰å¤ªé«˜çš„è¦æ±‚ã€‚ æœç‹ç•…è¨€æœç‹æ——ä¸‹çš„è¯„è®ºç³»ç»Ÿï¼Œæ¯”è¾ƒé è°±ï¼Œæœ‰æœç‹åšåç›¾ä¹Ÿä¸ä¼šè½»æ˜“è¯´æ²¡å°±æ²¡ï¼Œä½†æ˜¯å¯¹äºæˆ‘æ¥è¯´ä»–æœ‰ç€å¤ªå¼ºçƒˆçš„ä¸­å›½å…ƒç´ ï¼ŒåŸŸåã€ç½‘ç«™éœ€è¦å¤‡æ¡ˆï¼Œè€Œä¸”ä»–çš„ç•Œé¢æ˜¯åœ¨æ˜¯å¤¸å¼ ï¼Œåˆæ˜¯ç›–ç« ï¼Œåˆæ˜¯æµ®çª—çš„ï¼Œæœ‰ç§â€å¤§æ‰å¥½ï¼Œæˆ‘ç³»æ¸£æ¸£è¾‰â€çš„æ„Ÿè§‰ã€‚ è¿‡å¹´äº†ï¼Œæ”¾ä¸Šäº†çº¢ç¯äº†ï¼Œçº¢é­ç‚®ï¼Œè€Œä¸”æ°´å°è¿˜å»ä¸æ‰ã€‚æœ€æœ€å…³é”®æ˜¯ä½ å‘è¯„è®ºè¦ç™»å½•ï¼Œå¦‚æœæ˜¯ç”¨å¾®ä¿¡ç™»é™†è¿˜å¿…é¡»è¦å…ˆå…³æ³¨ä»–å…¬ä¼—å·. å…³æ³¨æˆåŠŸåè¿˜éœ€è¦ä½ ç»‘å®šæ‰‹æœºå·ï¼Œè™½ç„¶ä¸æ˜¯å¼ºåˆ¶è®©ä½ ç»‘å®šï¼Œä½†æ˜¯å¦‚æœä½ ä¸æƒ³ç»‘é‚£ä¹ˆå¥½ï¼Œä½ æ¯ç‚¹å‡»ä¸€ä¸‹å°±ä¼šå¼¹å‡ºç»‘å®šæ‰‹æœºå·çš„çª—å£ã€‚å¯¹äºæˆ‘ä¸€ä¸ªä¸»æ‰“æŠ€æœ¯çš„åšå®¢æ¥è¯´ç¡®å®ä¸å¤ªé€‚åˆï¼Œå¦‚æœå¤§å®¶æƒ³å†™ä¸€å†™å¨±ä¹å¾®åšè¯´ä¸å®šé€‚åˆä½ ã€‚ GitmentåŸºäºgithubçš„issueå®ç°çš„ï¼Œå”¯ä¸€ä¸€ç‚¹ä¸å¥½çš„å°±æ˜¯ä½¿ç”¨Gitmentè¯„è®ºä¸€å®šè¦ç”¨githubè´¦å·ç™»é™†ï¼Œè¿™ç‚¹å¯¹äºè¯»è€…æ¥è¯´è¦æ±‚æœ‰ç‚¹é«˜å§ã€‚ Valineæ¯”è¾ƒä¼˜ç§€çš„ä¸€æ¬¾è½»é‡çº§è¯„è®ºæ’ä»¶ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æˆ‘æœ€åçº ç»“å¾ˆä¹…çš„ï¼ŒValineä¾èµ–äºLeancloudçš„åç«¯æœåŠ¡ï¼Œæˆ‘ä»¬éœ€è¦å»leanclouldæ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œé‡Œé¢åˆ†ä¸ºå…è´¹ç‰ˆå’Œå•†ä¸šç‰ˆè¿˜æœ‰ä¼ä¸šç‰ˆã€‚åä¸¤ä¸ªä»·æ ¼å¯¹äºæˆ‘æ¥è¯´æœ‰ç‚¹é«˜ï¼Œå¦‚æœæœ‰é’±çš„å¤§ä½¬å¯ä»¥æ— è§†ã€‚ å…è´¹ç‰ˆæœ‰ä¸€å®šé™åˆ¶é¦–å…ˆAPIè¯·æ±‚æ¯å¤©30000ï¼Œä½ å¯ä»¥æš‚æ—¶ç†è§£ä¸ºæ¯å¤©30000æ¡è¯„è®ºå§(å®é™…ä¸åˆ°è¿™ä¸ªæ•°ï¼Œä½ è¿˜è¦åˆ·æ–°ä¹‹ç±»çš„)ï¼Œè¿™ä¸ªå…¶å®å¯¹äºæˆ‘æ¥è¯´å·²ç»å¤Ÿäº†ï¼Œå¦‚æœä½ æ˜¯æµè§ˆé‡éå¸¸å¤§çš„å¾®åš é‚£å¯èƒ½æœ‰ç‚¹æ‚¬ï¼›10GBçš„å‚¨å­˜ç©ºé—´æ˜¯æˆ‘æœ€æ‹…å¿ƒçš„ï¼Œæ°¸ä¹…10Gæ€»æœ‰ä¸€å¤©å°±ä¼šæ»¡ï¼Œåˆ°æ—¶å€™åªèƒ½å‡çº§ä»˜è´¹ç‰ˆï¼Œæˆ–è€…æ¢ä¸€ä¸ªè¯„è®ºå¹³å°ï¼Œä¸è¿‡è¿˜å¥½ï¼Œå› ä¸ºä»–æ˜¯æ”¯æŒmarkdownçš„ï¼Œæ‰€ä»¥å›¾ç‰‡GIfçš„ä¹‹ç±»çš„éƒ½æ˜¯é€šè¿‡é“¾æ¥å½¢å¼ï¼Œ10Gåº”è¯¥å¤Ÿç”¨ä¸€é˜µäº†ã€‚ä¸è¿‡ä¹Ÿæ­£æ˜¯å› ä¸ºè¿™ä¸ªmarkdownç¼–è¾‘ä¹Ÿéœ€è¦ä¸€å®šçš„è¯­æ³•åŸºç¡€ï¼Œä¸ä¼šmarkdownçš„ä¼ å›¾ç‰‡è¿˜æ˜¯éº»çƒ¦äº‹ï¼Œå¤šä¸ºè¯»è€…è€ƒè™‘å˜›ã€‚è¿˜æœ‰ä¸€ä¸ªæœ€è‡´å‘½çš„å°±æ˜¯ä»–æ²¡æœ‰ç®¡ç†å‘˜çš„æ¦‚å¿µï¼Œå³ä½¿ä½ æ˜¯æœ¬æ–‡çš„ä½œè€…ï¼Œé‚£ä½ åœ¨ä¸‹é¢è¯„è®ºæˆ–è€…å’Œç½‘å‹äº’åŠ¨çš„æ—¶å€™ä¹Ÿæ˜¯æ²¡æœ‰ä»»ä½•æ˜¾ç¤ºçš„ï¼Œå°±åƒæ™®é€šè¯„è®ºä¸€æ ·ï¼Œè¿™ä¸ªå°±æœ‰ç‚¹ä¸æ–¹ä¾¿äº†ã€‚ Hypercommentsè¿™ä¸ªä¹Ÿæ˜¯æˆ‘æœ€åé€‰æ‹©çš„è¯„è®ºæ’ä»¶ï¼ŒåŒæ ·ä¹Ÿæä¾›ä»˜è´¹å’Œå…è´¹çš„æœåŠ¡ å…è´¹ç‰ˆå®Œå…¨æ»¡è¶³æˆ‘çš„åšå®¢ä½¿ç”¨ï¼Œæ²¡æœ‰å‘ç°ä»¥ä¸Šä¸€äº›ç¬¬ä¸‰æ–¹çš„ç¼ºç‚¹ï¼ŒåŒæ—¶ç•Œé¢ä¹Ÿä¸é”™ï¼Œå”¯ä¸€ä¸è¶³çš„å°±æ˜¯æ–°è¯„è®ºçš„é‚®ä»¶æé†’ä¸çŸ¥é“æ€ä¹ˆè°ƒå‡ºæ¥ï¼Œæˆ‘åœ¨åå°é…ç½®äº†ä½†æ˜¯å¹¶æ²¡æœ‰æé†’ã€‚ç»¼ä¸Šæ‰€è¿°æ•´ä½“è¿˜æ˜¯æ¯”è¾ƒç¨³å®šçš„ã€‚ æœ€åå¤§æ¦‚å°±è¿™ä¹ˆå¤šï¼Œé¡ºä¾¿ç¥å¤§å®¶æ–°å¹´å¿«ä¹ï¼Œé˜–å®¶å¹¸ç¦ï¼ var options = {"narrow":false,"autoplay":true,"showlrc":3,"mutex":true,"music":[{"title":"Love Story","author":"ë¦° (LYn)","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E1%84%85%E1%85%B5%E1%86%AB-Love%20Story.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M0000048KLcQ4LDbZz.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=0028RAj0187nEg"}]}; options.element = document.getElementById("aplayer2"); new APlayer(options);]]></content>
      <categories>
        <category>é€šç”¨å¼€å‘</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>ä¸ªäººåšå®¢</tag>
        <tag>ç½‘ç«™</tag>
        <tag>è¯„è®ºæ’ä»¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºiPhone Xä¸‹Homeé”®çš„éšè—å’Œå»¶è¿Ÿå“åº”]]></title>
    <url>%2F2018%2F02%2F08%2F%E5%85%B3%E4%BA%8EiPhone-X%E4%B8%8BHome%E9%94%AE%E7%9A%84%E9%9A%90%E8%97%8F%E5%92%8C%E5%BB%B6%E8%BF%9F%E5%93%8D%E5%BA%94%2F</url>
    <content type="text"><![CDATA[iOS 11é€šç”¨ç›¸å…³Edge ProtectiPhone X åˆšå‡ºæ¥çš„æ—¶å€™è‹¹æœç¬¬ä¸€æ—¶é—´æ›´æ–°äº†æ–°è®¾å¤‡çš„äº¤äº’æ–‡æ¡£ï¼Œå…¶ä¸­é’ˆå¯¹äº†å¤§å®¶æœ€å…³å¿ƒçš„â€œç³»ç»Ÿæ‰‹åŠ¿å’ŒAppè‡ªå¸¦æ‰‹åŠ¿å†²çªâ€çš„é—®é¢˜ä¹Ÿç»™å‡ºäº†ç›¸åº”çš„è§£å†³åŠæ³•: è™½ç„¶è‹¹æœç”¨é»‘ä½“å­—å†™ç€å¼ºçƒˆä¸å»ºè®®å¼€å‘è€…å¹²æ¶‰ç³»ç»Ÿçš„æ‰‹åŠ¿ï¼Œä½†æ˜¯ä¸ºäº†å¢å¼ºç”¨æˆ·ä½“éªŒè¿˜æ˜¯å¼€å‡ºäº†æ¥å£ï¼Œè‹¹æœç®¡è¿™ä¸ªå«åš â€œedge protectâ€ å› ä¸ºè¿›å…¥Appåç³»ç»Ÿæ‰‹åŠ¿éƒ½æ˜¯ä»è¾¹ç¼˜è§¦å‘ï¼Œå¼•èµ·å†²çªçš„åœ°æ–¹ä¹Ÿä¼šæ˜¯åœ¨è¾¹ç¼˜ä¸­ã€‚ æ ¹æ®å®˜æ–¹æ–‡æ¡£æè¿°ï¼Œåœ¨å†²çªåŒºåŸŸç¬¬ä¸€æ¬¡æ‰§è¡Œæ‰‹åŠ¿çš„æ—¶å€™ä¼šä¼˜å…ˆè§¦å‘Appçš„å†…éƒ¨æ‰‹åŠ¿ï¼Œå½“çŸ­æ—¶é—´å†…å†æ¬¡è¿›è¡ŒåŒæ ·çš„æ“ä½œåˆ™ä¼šè§¦å‘ç³»ç»Ÿæ‰‹åŠ¿ã€‚ä¹Ÿå°±æ˜¯å°†ç³»ç»Ÿæ‰‹åŠ¿å»¶è¿Ÿåˆ°ä¸‹ä¸€æ¬¡æ‰§è¡Œã€‚ API Discussionæ ¹æ®å®˜æ–¹æ–‡æ¡£æ‰¾åˆ°å¯¹åº”çš„API // Override to return a child view controller or nil. If non-nil, that view controller's screen edges deferring system gestures will be used. If nil, self is used. Whenever the return value changes, -setNeedsScreenEdgesDeferringSystemGesturesUpdate should be called.- (nullable UIViewController *)childViewControllerForScreenEdgesDeferringSystemGestures API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(watchos, tvos);// Controls the application's preferred screen edges deferring system gestures when this view controller is shown. Default is UIRectEdgeNone.- (UIRectEdge)preferredScreenEdgesDeferringSystemGestures API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(watchos, tvos);// This should be called whenever the return values for the view controller's screen edges deferring system gestures have changed.- (void)setNeedsUpdateOfScreenEdgesDeferringSystemGestures API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(watchos, tvos); childViewControllerForScreenEdgesDeferringSystemGesturesè¯¥æ–¹æ³•æ˜¯ç”¨æ¥æ§åˆ¶å­è¯•å›¾æ§åˆ¶å™¨æ˜¯å¦å…è®¸å¼€å‘è€…æ§åˆ¶edge protectçš„å¼€å¯æˆ–æ˜¯å…³é—­ã€‚å¦‚æœå®ç°äº†è¿™ä¸ªæ–¹æ³•å¹¶ä¸”è¿”å›å€¼ä¸ä¸ºç©ºé‚£ä¹ˆå­VCçš„edge protectè®¾ç½®å°±ä¼šéµå¾ªçˆ¶VCçš„è®¾ç½®ï¼Œè·Ÿéšçˆ¶VCæ˜¯å¦å»¶è¿Ÿæ‰§è¡Œç³»ç»Ÿæ‰‹åŠ¿ã€‚ preferredScreenEdgesDeferringSystemGesturesè¯¥æ–¹æ³•æ˜¯è®¾ç½®edge protectçš„æ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯ä¸€ä¸ªè¾¹ç•Œçš„æšä¸¾ typedef NS_OPTIONS(NSUInteger, UIRectEdge) &#123; UIRectEdgeNone = 0, UIRectEdgeTop = 1 &lt;&lt; 0, UIRectEdgeLeft = 1 &lt;&lt; 1, UIRectEdgeBottom = 1 &lt;&lt; 2, UIRectEdgeRight = 1 &lt;&lt; 3, UIRectEdgeAll = UIRectEdgeTop | UIRectEdgeLeft | UIRectEdgeBottom | UIRectEdgeRight&#125; NS_ENUM_AVAILABLE_IOS(7_0); å› ä¸ºä¸è®ºæˆ‘ä»¬ä»shangã€å·¦ã€ä¸‹ã€å³è¾¹éƒ½å¯è§¦å‘ç³»ç»Ÿæ‰‹åŠ¿ï¼Œæ‰€ä»¥æ–¹æ³•ä¿æŠ¤äº†å››ä¸ªè¾¹æ¡†ï¼Œå°†è¾¹ç•Œè§¦å‘çš„æ‰‹åŠ¿å»¶è¿Ÿæ‰§è¡Œï¼Œè¿™ä¸ªæ–¹æ³•ä»iOS11å¼€å§‹ä½¿ç”¨ï¼Œä¸è¿‡æšä¸¾ä¸­è™½ç„¶æœ‰å·¦å³çš„è¾¹ç•Œä¿æŠ¤ï¼Œä½†æ˜¯ç³»ç»Ÿæ‰‹åŠ¿ä¸­è¿˜ä¸æ¸…æ¥šå·¦å³æ»‘åŠ¨ä¼šè§¦å‘ä»€ä¹ˆæ•ˆæœï¼Œå®éªŒå‘ç°å¯¹äºVCçš„å·¦è¾¹ç•Œå³æ»‘åŠ¨popæ‰‹åŠ¿æ˜¯æ— æ•ˆçš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªpopæ‰‹åŠ¿ä¸€ç›´æœ‰ç€æœ€é«˜çš„ä¼˜å…ˆçº§ã€‚ä¸è¿‡ä¸Šä¸‹å°±å¾ˆå¥½ç†è§£ï¼Œåº•éƒ¨ä¸Šæ‹‰å‡ºæ§åˆ¶ä¸­å¿ƒï¼Œé¡¶éƒ¨ä¸‹æ‹‰æ˜¯é€šçŸ¥ä¸­å¿ƒã€‚ æ— é™åˆ¶ å½“ä¸åšä»»ä½•é™åˆ¶æ—¶å€™åœ¨é¡¶éƒ¨å’Œåº•éƒ¨å¾ˆå®¹æ˜“è§¦å‘åˆ°ç³»ç»Ÿçš„æ‰‹åŠ¿ï¼Œä»–ä»¬ä¼šä¼˜å…ˆäºTab.eViewçš„scrollæ‰‹åŠ¿æ‰§è¡Œï¼Œè™½è¯´å±å¹•å¤§éƒ¨åˆ†çš„ç•Œé¢è¿˜æ˜¯æ‰§è¡ŒTableViewæ‰‹åŠ¿çš„ï¼Œä½†æ˜¯å½“ç”¨æˆ·è¯¯è§¦åˆ°è¾¹ç•Œçš„æ—¶å€™è¿˜æ˜¯ä¼šç¨ç¨å½±å“ä½“éªŒï¼Œå°¤å…¶æ˜¯åœ¨å…¨å±æ¨¡å¼ä¸‹ã€ç›¸æœºã€è§†é¢‘ã€æ¸¸æˆç­‰ Edge Protent åœ¨å¯¹åº”çš„ViewControllä¸­æ·»åŠ å¦‚ä¸‹ä»£ç ï¼Œæˆ‘ä»¬è¿™è¾¹å¼€å¯çš„æ˜¯æ‰€æœ‰è¾¹ç•Œé™åˆ¶å…¶ä¸­åŒ…æ‹¬äº†ä¸Šã€ä¸‹è¾¹ç•Œã€‚åœ¨ä¸‹æ‹‰æˆ–è€…ä¸Šæ‹‰çš„è¯ä¼šå…ˆè§¦å‘Appå†…éƒ¨æ‰‹åŠ¿ï¼ŒåŒæ—¶å‡ºç°ä¸€ä¸ªå°ç®­å¤´ç„¶ååœ¨ç®­å¤´æ¶ˆå¤±ä¹‹å‰å†æ¬¡æ»‘åŠ¨å°±ä¼šè§¦å‘ç³»ç»Ÿæ‰‹åŠ¿ã€‚ -(UIRectEdge)preferredScreenEdgesDeferringSystemGestures&#123; return UIRectEdgeAll;&#125; setNeedsUpdateOfScreenEdgesDeferringSystemGesturesè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨åº”ç”¨å†…éƒ¨åŠ¨æ€æ§åˆ¶edge protectï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä¸Šä¸ªæ–¹æ³•ä¸­è¿”å›ä¸€ä¸ªBOOLå˜é‡ï¼Œç„¶åæ ¹æ®éœ€è¦æ”¹å˜è¯¥å˜é‡çš„å€¼ï¼Œç„¶åè°ƒç”¨è¯¥æ–¹æ³•è¿›è¡Œåˆ·æ–°ã€‚ iPhone Xä½¿ç”¨ç›¸å…³iPhone Xåœ¨ç³»ç»Ÿæ‰‹åŠ¿ä¸Šé¢äº¤äº’å’Œå…¶ä»–è®¾å¤‡è¿˜æ˜¯æœ‰ä¸€å®šåŒºåˆ«çš„ï¼Œå› ä¸ºåŠ å…¥äº†Home Indicatorçš„åŸå› ï¼Œå¼•å…¥äº†æ–°çš„æ‰‹åŠ¿ï¼ŒåŒæ—¶å¯¹ä»¥å¾€çš„æ‰‹åŠ¿ä¹Ÿåšäº†ç›¸åº”çš„è°ƒæ•´ã€‚ iPhone X Edge Protectåœ¨iPhone X ä¸­é€šçŸ¥ä¸­å¿ƒå’Œæ§åˆ¶ä¸­å¿ƒå…¨éƒ¨éƒ½ç§»åŠ¨åˆ°äº†ç”±é¡¶éƒ¨åˆ˜æµ·å¤„ä¸‹æ‹‰å’Œå³ä¸Šè§’ä¸‹æ‹‰æ¥è§¦å‘ã€‚åŸæœ¬åº•éƒ¨çš„æ‰€æœ‰æ‰‹åŠ¿éƒ½è¢«Home Indicatorå ç”¨ã€‚å…¶å®Edge Protectåœ¨è¿™é‡Œä¾ç„¶é€‚ç”¨ï¼Œåªæ˜¯å¯¹äºHome Indicatorçš„æ‰‹åŠ¿æœ‰ä¸€ä¸ªå°æ’æ›²ã€‚æ­£å¸¸æ¥è¯´ä»–åœ¨åº•éƒ¨ï¼Œå°±åº”è¯¥å—åˆ°UIRectEdgeBottom æˆ–è€…æ˜¯ UIRectEdgeAllæ§åˆ¶ï¼Œä½†æ˜¯ä¸€å¼€å§‹è‹¹æœå¹¶æ²¡æœ‰è¿™ä¹ˆåšï¼Œä¸è®ºæ€ä¹ˆå†™ä»£ç ï¼Œä»–éƒ½æœ‰ç€æœ€é«˜çš„ä¼˜å…ˆçº§ï¼Œåœ¨iPhone Xåˆšå‘å¸ƒæˆ‘å°±è¯•å›¾å»å¤„ç†äº¤äº’é—®é¢˜ï¼Œå› ä¸ºæµ·æŠ¥å·¥å‚å¹¶æ²¡æœ‰ä¼ ç»Ÿçš„UITabBarControllerï¼Œä¸”é‡Œé¢æ‰€æœ‰çš„tableViewéƒ½æ˜¯ç›´é€šåˆ°åº•ï¼Œä½†æ˜¯å§‹ç»ˆéƒ½æ— æ³•å»¶è¿Ÿæ‰§è¡Œä¸Home Indicatorç›¸å…³çš„ä»»ä½•æ‰‹åŠ¿ã€‚ åæ¥çœ‹äº†å…¶ä»–æ¸¸æˆï¼Œè§†é¢‘ç±»Appåœ¨iPhone Xä¸Šçš„è¡¨ç°ä¹Ÿéƒ½æ˜¯å¦‚æ­¤ã€‚è…¾è®¯çš„ç‹è€…è£è€€ï¼Œç½‘æ˜“çš„åƒé¸¡éƒ½æ˜¯ä¸€æ ·ã€‚è…¾è®¯å®˜æ–¹ç»™å‡ºçš„è§£é‡Šæ˜¯æš‚æ—¶å¼€èµ·å¼•å¯¼å¼è®¿é—®ï¼Œä¹Ÿä»ç„¶ä¸æ–¹ä¾¿ã€‚åæ¥åœ¨ä»Šå¹´1æœˆ25æ—¥è‹¹æœæ¨é€äº†iOS 11.2.5çš„ç‰ˆæœ¬æ›´æ–°ï¼Œç„¶åç‹è€…è£è€€ä¹Ÿè·Ÿç€è¿›è¡Œäº†ä¸€æ³¢æ›´æ–°ï¼Œåœ¨è¿›å…¥æ¸¸æˆæ—¶å€™å°±ä¼šå‘ç°ï¼Œåº•éƒ¨çš„Home Indicatorå½“ä½ ä¸€æ®µæ—¶é—´ä¸å»è§¦ç¢°å®ƒçš„æ—¶å€™ç”±é»‘è‰²æˆ–è€…ç™½è‰²(æ ¹æ®å½“å‰çš„å±å¹•æ˜¾ç¤ºçš„å†…å®¹æ¥å†³å®š)å˜æˆéå¸¸é€æ˜çš„ç°è‰²ï¼Œå½“ä½ ç¬¬ä¸€æ¬¡è¿›è¡Œæ“ä½œä¼šé»˜è®¤æ‰§è¡ŒAppå†…æ‰‹åŠ¿ï¼ŒåŒæ—¶æ¿€æ´»Home Indicatorï¼ŒçŸ­æ—¶é—´å†…è¿›è¡Œç¬¬äºŒæ¬¡æ“ä½œå°±å¯ä»¥è¿”å›æ¡Œé¢ ä¸€å¼€ä»¥ä¸ºæ˜¯æœ‰æ–°çš„APIå‡ºç°ï¼Œä¸è¿‡çœ‹äº†äº¤äº’æ–‡æ¡£å¹¶æ²¡æœ‰æ–°çš„ä¸œè¥¿ï¼Œè€Œä¸”å°ç‰ˆæœ¬çš„ç³»ç»Ÿæ›´æ–°åº”è¯¥ä¹Ÿä¸ä¼šå‡ºç°æ–°çš„ä¸œè¥¿ã€‚æ‰€ä»¥æ‰¾åˆ°äº†ä¹‹å‰çš„edge protect ä»£ç è¿è¡Œåç¡®å®å¯ä»¥è¾¾åˆ°æ•ˆæœã€‚å¯¹äºè§†é¢‘ï¼Œæ¸¸æˆç­‰Appï¼Œç¡®å®å¯ä»¥èµ·åˆ°å¾ˆå¥½çš„é˜²è¯¯è§¦çš„æ•ˆæœã€‚é—æ†¾çš„æ˜¯å¹¶æ²¡æœ‰å¤ªå¤šçš„äººä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚ç›®å‰ä¸»æµçš„å¤§å‹æ¸¸æˆï¼ŒåŒ…æ‹¬Gameloftå‡ºå“çš„æ¸¸æˆéƒ½æ²¡åšç›¸åº”çš„å¤„ç†ã€‚ iPhone X Home Indicator Hiddenå¦‚æœè¯´ä¸Šé¢çš„Edge Protecté€‚åˆåœ¨æ¸¸æˆä¸­ä½¿ç”¨ï¼Œé‚£ä¹ˆHome Indicator Hiddenåˆ™æ›´é€‚åˆåœ¨éæ¸¸æˆç¯å¢ƒä¸‹å¢å¼ºAppçš„æ²‰æµ¸æ„Ÿï¼Œå°¤å…¶æ˜¯å…¨å±è§†å±æ’­æ”¾ã€å½•åˆ¶çš„æ—¶å€™ã€‚åŒæ ·ä¸‰ä¸ªAPIï¼Œå’ŒEdge protectçš„ç”¨æ³•å®Œå…¨ä¸€æ ·ã€‚ // Override to return a child view controller or nil. If non-nil, that view controller's home indicator auto-hiding will be used. If nil, self is used. Whenever the return value changes, -setNeedsHomeIndicatorAutoHiddenUpdate should be called.- (nullable UIViewController *)childViewControllerForHomeIndicatorAutoHidden API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(watchos, tvos);// Controls the application's preferred home indicator auto-hiding when this view controller is shown.- (BOOL)prefersHomeIndicatorAutoHidden API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(watchos, tvos);// This should be called whenever the return values for the view controller's home indicator auto-hiding have changed.- (void)setNeedsUpdateOfHomeIndicatorAutoHidden API_AVAILABLE(ios(11.0)) API_UNAVAILABLE(watchos, tvos); ä¸Šé¢å†™çš„æ˜¯è‡ªåŠ¨éšè—ï¼Œä¹Ÿå°±æ˜¯è¯´ç³»ç»Ÿä¼šæ ¹æ®å½“æ—¶çš„ä½¿ç”¨æƒ…å†µæ¥è¿›è¡Œæ˜¾ç¤ºæˆ–è€…éšè—ï¼Œè€Œä¸æ˜¯æ°¸ä¹…çš„éšè—æ‰ï¼Œå®é™…æµ‹è¯•å‘å½“ç•Œé¢ä¸¤ç§’å†…æ²¡æœ‰è¿›è¡Œä»»ä½•äº¤äº’æ“ä½œçš„æ—¶å€™Home Indicatorä¼šé€æ¸éšå»ï¼Œç›´è¾¾å±å¹•ä¸Šå‡ºç°äº†ç‚¹å‡»çš„æ“ä½œï¼Œæ³¨æ„æ˜¯ç‚¹å‡»ï¼ŒTableViewçš„æ»‘åŠ¨å¹¶ä¸èƒ½è§¦å‘æ˜¾ç¤ºï¼Œä¸è¿‡åªæ˜¯æ˜¯éšè—ï¼Œä½†æ˜¯æ‰‹åŠ¿ä¾ç„¶å¯ä»¥ä½¿ç”¨ã€‚ å¦‚æœæ˜¯feedæµç•Œé¢æ­é…é…·ä¸€ç‚¹çš„UIå°±ä¼šæé«˜æ²‰æµ¸æ„Ÿï¼Œæ¯”å¦‚è¿™æ ·ï¼š æœ‰çš„äººå¯èƒ½ä¼šé—®å¦‚æœè¯´ç‚¹å‡»çš„æ‰‹åŠ¿ä¼šè§¦å‘å®ƒå†æ¬¡æ˜¾ç¤ºé‚£æˆ‘è·å–windowä¸Šçš„äº¤äº’æ¯æ¬¡åœ¨å®ƒå³å°†æ˜¾ç¤ºçš„æ—¶å€™é€šè¿‡setNeedsUpdateOfHomeIndicatorAutoHiddenåœ¨è®©ä»–éšè—ä¸å°±å¥½äº†å—ï¼Ÿè¿™æ ·ä¸€æ¥æ—¢ä¸å½±å“ç³»ç»Ÿæ‰‹åŠ¿ä¹Ÿä¸ä¼šè®©å®ƒåœ¨æ˜¾ç¤ºå‡ºæ¥ï¼Œå…¶å®æˆ‘è‡ªå·±è¯•è¿‡ä¸è¡Œçš„ï¼Œæ¯•ç«Ÿè‹¹æœä¸ä¼šè®©ä½ è¿™æ ·æ”¹ã€‚ å‘ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼šprefersHomeIndicatorAutoHiddenå’ŒpreferredScreenEdgesDeferringSystemGesturesä¸å¯ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚æœä¸€èµ·ä½¿ç”¨çš„è¯åè€…æ˜¯ä¸ç”Ÿæ•ˆçš„ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>å±å¹•é€‚é…</tag>
        <tag>iOS 11</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯èƒ½æ˜¯æœ€å…¨çš„ä½¿ç”¨HEXOæ­å»ºä¸ªäººåšå®¢æ•™ç¨‹]]></title>
    <url>%2F2018%2F01%2F25%2F%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E5%85%A8%E7%9A%84%E4%BD%BF%E7%94%A8HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ä½œä¸ºä¸€ä¸ªå¼€å‘è€…ä¸èƒ½æ²¡æœ‰åšå®¢ï¼Œæœ€è¿‘èŠ±äº†å‡ å¤©çš„æ—¶é—´æ­å»ºäº†è¿™ä¸ªåšå®¢ï¼Œå¤„ç†äº†å¾ˆå¤šç»†èŠ‚ï¼Œåœ¨è¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä¼šæŠŠæˆ‘ä»å¼€å§‹åˆ°ç°åœ¨ä»¥åŠåç»­çš„ä¼˜åŒ–æ•´ç†å‡ºæ¥ï¼Œå¸®åŠ©æ›´å¤šçš„äººæ­å»ºã€ç»´æŠ¤ã€æ›´æ–°ã€è‡ªå·±çš„åšå®¢ã€‚ ä¸€å¼€å§‹æˆ‘æ‰€æœ‰çš„åšå®¢éƒ½å†™åœ¨æ–°æµªå¾®åšï¼Œå› ä¸ºå¾®åšä¸Šæ›´å®¹æ˜“æ¨å¹¿è‡ªå·±çš„æ–‡ç« ï¼Œå¾®åšç”¨æˆ·é‡å¤§ï¼Œä½†æ˜¯åæ¥å¾®åšçš„å¼Šç«¯æ…¢æ…¢çš„æ˜¾ç¤ºå‡ºæ¥äº†ï¼Œæ¯•ç«Ÿä¸æ˜¯å¼€å‘è€…çš„å¤©åœ°ï¼Œæˆ‘çš„åšå®¢ä¸­ç»å¸¸ä¼šæ’å…¥å¤§é‡çš„ä»£ç ï¼Œè€Œå¾®åšä¸æ”¯æŒmarkdownç¼–è¾‘ï¼Œæ™®é€šçš„ç¼–è¾‘å™¨å¯¹ä»£ç å—çš„å…¼å®¹æ€§éå¸¸å·®ï¼Œåˆ«è¯´é«˜äº®äº†ï¼Œæœ‰æ—¶å€™æ’ç‰ˆéƒ½ä¼šé”™ä¹±ï¼Œæœ€åå¤–è§‚å¾ˆä¸å¥½çœ‹ï¼Œå¦‚ä¸‹å›¾ï¼š è€Œä¸”å¾®åšçš„è´¦å·ç³»ç»Ÿä¹Ÿå­˜åœ¨ä¸€å®šçš„å¼Šç«¯ï¼Œæ‰€ä»¥åæ¥è½¬å‘ç®€ä¹¦ã€æ˜é‡‘ç­‰æŠ€æœ¯å¹³å°ï¼Œä¸å¾—ä¸æ‰¿è®¤ç›¸å¯¹äºå¾®åšæ¥è¯´è¿™äº›å¹³å°å¯¹å¼€å‘è€…å°±è¦å‹å¥½å¤šäº†ï¼Œä¸è¿‡åæ¥åˆå‘ç°ä¸€ä¸ªé—®é¢˜ã€‚å› ä¸ºæˆ‘åœ¨å†™æ–‡ç« çš„æ—¶å€™ä½¿ç”¨çš„æ˜¯æœ¬åœ°çš„markdownç¼–è¾‘å™¨ï¼Œè€Œè¿™äº›å¹³å°å¯¹markdownè¯­æ³•çš„ä¸€äº›å°ç»†èŠ‚å¹¶ä¸ä¸¥è°¨æˆ–è€…è¯´ç»Ÿä¸€å¦‚ä¸‹å›¾ï¼š ä¸¤ä¸ªå¹³å°çš„ç¼–è¾‘å™¨æ— æ³•åšåˆ°ç»Ÿä¸€ï¼Œä»¥è‡³äºæ¯æ¬¡å†™å®Œæ–‡ç« éƒ½éœ€è¦é’ˆå¯¹ä¸¤ä¸ªå¹³å°åšä¸åŒçš„ä¿®æ”¹ã€‚ ç»¼ä¸Šæ‰€è¿°ï¼Œæœ€ç®€å•çš„ä¹Ÿæœ€ä¸€åŠ³æ°¸é€¸çš„æ–¹æ³•å°±æ˜¯æ­å»ºè‡ªå·±çš„åšå®¢å¹³å°ï¼Œè€ŒHEXOå¾ˆå¥½çš„å¸®æˆ‘ä»¬è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®å¯¹äºä¸€ä¸ªå¼€å‘è€…æ¥è¯´å¹¶ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼Œæ•´ä¸ªæµç¨‹å¯¹äºå¤§éƒ¨åˆ†æœ‰ä»£ç åŸºç¡€çš„å¼€å‘è€…æ¥è¯´ä¸€ä¸Šåˆæ—¶é—´å°±å¯ä»¥æå®šï¼Œä¸è¿‡æœ€éš¾çš„ä¹Ÿæ˜¯æœ€å¤´ç—›çš„å°±æ˜¯å¯¹ç»†èŠ‚çš„è°ƒæ•´ï¼Œå¯¹UIçš„ä¿®æ”¹ã€ä¼˜åŒ–ç­‰ï¼Œä¸è¿‡æœ¬æ–‡ä¼šå¯¹æ­¤é€ä¸€è®²è§£ã€‚ ç¯å¢ƒé…ç½® Node.js cURL: $ curl https://raw.github.com/creationix/nvm/master/install.sh | sh Wget: $ wget -qO- https://raw.github.com/creationix/nvm/master/install.sh | sh å®‰è£…å®Œæˆåï¼Œé‡å¯ç»ˆç«¯å¹¶æ‰§è¡Œä¸‹åˆ—å‘½ä»¤å³å¯å®‰è£… Node.jsã€‚ $ nvm install stable Git ä¸€èˆ¬çš„å¼€å‘è€…ä¸ä¼šæ²¡æœ‰è¿™ä¸ªå§ï¼Œæˆ‘æ˜¯å®‰è£…Xcodeå°±ä¼šæœ‰è¿™ä¸ªäº†ï¼Œ ä½¿ç”¨ Homebrew, MacPorts ï¼šbrew install git;æˆ–ä¸‹è½½ å®‰è£…ç¨‹åº å®‰è£… bitbucketè´¦å· ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨HEXO+GitHub pageçš„å½¢å¼æ­å»ºè‡ªå·±çš„åšå®¢ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜å°±æ˜¯GitHubæ˜¯å¼€æºçš„ï¼Œä»»ä½•äººéƒ½èƒ½åœ¨ä¸Šé¢çœ‹åˆ°ä½ çš„æºä»£ç ï¼Œè™½ç„¶è¿™å¹¶æ²¡æœ‰ä»€ä¹ˆå¤ªå¤§çš„å½±å“ï¼Œä¸è¿‡å¯¹äºæˆ‘æ¥è¯´æ„Ÿè§‰æ€ªæ€ªçš„ï¼Œæ‰€ä»¥æˆ‘å°±ç”¨äº†bitbucket pageæ¥å¤„ç†æˆ‘çš„åšå®¢ï¼Œæ‰€æœ‰çš„ä¸œè¥¿éƒ½ä¸€æ ·åªä¸è¿‡è¿™ä¸ªæ˜¯ä¸ªç§æœ‰åº“ç½¢äº†ï¼ˆå…è´¹äº”ä¸ªäººï¼‰ å¼€å§‹å»ºç«™ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºä»“åº“è¿›å…¥github/bitbucketï¼ˆåç»­éƒ½ä»¥githubä¸ºä¾‹ï¼‰æ–°å»ºrepoï¼Œè¿™é‡Œè¦æ³¨æ„repoçš„åå­—ä¸€å®šè¦æ»¡è¶³your Account Name/github.ioã€‚å¦‚æœæ˜¯bitbucketé‚£å°±æ˜¯your Account Name/bitbucket.ioï¼Œå› ä¸ºåªæœ‰è¿™æ ·çš„ä»“åº“åç§°æœ€åæ‰èƒ½ä»¥é™æ€é¡µé¢å±•ç¤ºã€‚å¦‚å›¾ï¼šXXXçš„å†…å®¹ä¸€å®šè¦ä¸çº¢è‰²çš„æ¡†é‡Œçš„æ–‡æœ¬ä¸€è‡´ã€‚ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºæœ¬åœ°æ–‡ä»¶å¤¹åˆ›å»ºæ–‡ä»¶å¤¹ä¹‹åCDåˆ°ä½ åˆ›å»ºçš„æ–‡ä»¶å¤¹ä¸­æ‰§è¡Œhexoçš„åˆå§‹åŒ–ç›¸å…³å‘½ä»¤ $ hexo init$ npm install æ‰§è¡Œå®Œæ¯•ä¹‹åä½ çš„æ–‡ä»¶å¤¹é‡Œå°±æœ‰å†…å®¹äº†ï¼Œæ ‡å‡†çš„ç›®å½•ç»“æ„æ˜¯è¿™æ ·ï¼ˆåªåˆ—å‡ºå‡ ä¸ªå¿…è¦çš„æ–‡ä»¶å¤¹åŠå…¶å­ç›®å½•ï¼‰ â”œâ”€â”€ _config.ymlâ”œâ”€â”€ package.jsonâ”œâ”€â”€ scaffoldsâ”œâ”€â”€ source| â”œâ”€â”€ _drafts| â””â”€â”€ _postsâ””â”€â”€ themes _config.ymlï¼šå…¶ä¸­æˆ‘ä»¬ä»¥åçš„å¤§éƒ¨åˆ†æ“ä½œéƒ½ä¼šåœ¨_config.ymlä¸­è¿›è¡Œï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯æˆ‘ä»¬çš„ç«™ç‚¹çš„é…ç½®æ–‡ä»¶ã€‚ scaffoldsï¼šæ¨¡æ¿æ–‡ä»¶ï¼Œè§„å®šäº†æˆ‘ä»¬åˆ›å»ºä¸€ç¯‡æ–‡ç« çš„æ—¶å€™æœ€å¼€å§‹çš„æ ·å­ï¼Œ sourceï¼šå¯ä»¥æš‚æ—¶çš„ç†è§£æˆæˆ‘ä»¬æ–‡ç« çš„å­˜æ”¾å¤„ themesï¼šä¸»é¢˜æ–‡ä»¶ ç¬¬ä¸‰æ­¥ï¼šéƒ¨ç½²åˆ°Gitä¿®æ”¹æˆ‘ä»¬çš„çš„ç«™ç‚¹é…ç½®æ–‡ä»¶_config.ymlä¸­å¦‚ä¸‹å­—æ®µ å…¶ä¸­ï¼š typeå€¼å¯¹åº”çš„æ˜¯ä½ æ‰€éƒ¨ç½²çš„çš„æœåŠ¡å™¨ç±»å‹ï¼Œæˆ‘ä»¬è¿™é‡Œå¡«å†™gitå°±å¯ä»¥ã€‚ repoæ˜¯ä½ çš„ä»“åº“åœ°å€ï¼Œä¹Ÿå°±æ˜¯ä»“åº“å…‹éš†çš„åœ°å€ï¼Œæ¨èç”¨httpsçš„é“¾æ¥ã€‚ branchä¸å†™é»˜è®¤æ˜¯masterï¼Œé€šå¸¸æˆ‘ä»¬å†™æˆmasterå°±å¯ä»¥ã€‚ ä»¥ä¸Šé…ç½®å®Œæˆåä¿å­˜ ç„¶åå›åˆ°ç»ˆç«¯æ‰§è¡Œnpm install hexo-deployer-git --saveå®‰è£…ä¸€ä¸ªæ’ä»¶ï¼Œè¿™æ ·æ‰èƒ½å°†ä½ å†™å¥½çš„æ–‡ç« éƒ¨ç½²åˆ°githubæœåŠ¡å™¨ä¸Šå¹¶è®©åˆ«äººæµè§ˆåˆ°ã€‚å®‰è£…å®Œæˆååœ¨ç»ˆç«¯ä¸­ä¾æ¬¡æ‰§è¡Œå¦‚ä¸‹ä»£ç (ä¸ºäº†ç®€å•åç»­ç»Ÿç§°ä¸ºä¸‰æ­¥) hexo clean æ¸…ç†ç¼“å­˜ hexo generate è¿›è¡Œæ¸²æŸ“ ç®€å†™ hexo g hexo server éƒ¨ç½²åˆ°æœ¬åœ°(è°ƒè¯•ä½¿ç”¨) ç®€å†™ hexo sã€‚ç„¶åæµè§ˆå™¨è¾“å…¥ http://localhost:4000 å°±å¯ä»¥çœ‹åˆ°ä½ åšå®¢çš„æ•ˆæœå•¦ï¼Œä¸è¿‡è¿™æ˜¯æœ¬åœ°è°ƒè¯•ç”¨ï¼Œå…¶ä»–äººæ˜¯çœ‹ä¸åˆ°çš„ã€‚(è°ƒè¯•å®Œæ¯•åè®°å¾— control + C å…³é—­æœ¬åœ°ç«¯å£ï¼Œä¸ç„¶ä¸‹æ¬¡å°±è¿›ä¸å»å•¦) è°ƒè¯•å®Œæ¯•åä½¿ç”¨ hexo deploy ç®€å†™ä¸º hexo dæ¥éƒ¨ç½²åˆ°gitæœåŠ¡å™¨ã€‚ æ‰§è¡Œå®Œä»¥ä¸Šæ“ä½œåæ‰“å¼€æµè§ˆå™¨åœ°å€äº†è¾“å…¥http://ä½ githubåå­—.github.ioå°±å¯ä»¥çœ‹çœ‹åˆ°æ•ˆæœå•¦ï¼Œè¿™å›æ˜¯æ‰€æœ‰äººéƒ½èƒ½çœ‹åˆ°çš„ï¼Œç”¨æ‰‹æœºä¹Ÿå¯ä»¥ã€‚è‡³æ­¤ç¬¬ä¸‰æ­¥å·²ç»å®Œæˆ,æœ€ç»ˆçš„ç»“æœå¦‚ä¸‹å›¾ï¼š ç¬¬å››æ­¥ï¼šå†™æ–‡ç« ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ hexo new post â€œæ–‡ç« åå­—â€ å°±å¯æ–°å»ºæ–‡ç« å•¦ï¼Œå»ºç«‹å¥½çš„æ–‡ç« åœ¨ source/_posts ä¸­ï¼Œä½ å¯ä»¥ç”¨markdownè¯­æ³•ç¼–è¾‘å†…å®¹å°±å¯ä»¥ã€‚ç¼–è¾‘å®Œæˆåæ‰§è¡Œç¬¬ä¸‰æ­¥ä¸­ç»ˆç«¯çš„æ“ä½œå°±å¯ä»¥å•¦ï¼Œåˆ·æ–°ä¸‹æµè§ˆå™¨å°±å¯çœ‹åˆ°ä½ çš„æ–°æ–‡ç« å•¦ã€‚å¦‚ä¸‹å›¾: ä¸ªæ€§åŒ–ä¸€ï¼šä¸»é¢˜è·å–ä¸»é¢˜æ˜¯æˆ‘ä¹ˆä¸ªæ€§åŒ–çš„åŸºç¡€å’Œå‰æï¼Œæˆ‘ä»¬æƒ³åšä»»ä½•ä¸ªæ€§åŒ–ä¸Šçš„ä¿®æ”¹åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨æˆ‘ä»¬ä¸»é¢˜ä¸Šçš„ä¿®æ”¹ï¼Œå…ˆæ‰¾åˆ°ä¸€ä¸ªè‡ªå·±æ»¡æ„çš„ä¸»é¢˜æ˜¯é¦–è¦ä»»åŠ¡ã€‚å…³äºä¸»é¢˜ç½‘ä¸Šæœ‰å¾ˆå¤šå¾ˆå¤šï¼ŒHEXOå®˜æ–¹çš„ä¸»é¢˜ç›®å½•ä¹Ÿæ”¶å½•äº†å¥½å¤šæ¥ç€ä¸–ç•Œå„åœ°å¼€å‘è€…çš„ä¸»é¢˜ã€‚æˆ–è€…å¼€å‘è€…ä¹Ÿå¯ä»¥ç›´æ¥å»ç½‘ä¸Šæœç´¢HEXO themeå…³é”®å­—æ¥è·å–ä¸»é¢˜ã€‚ å®‰è£…ä¸»é¢˜ä¸€èˆ¬éƒ½æ˜¯repoï¼Œåªè¦è®²èµ·cloneåˆ°åšå®¢ç›®å½•themes/XXXXä¸‹å°±å¯äº†ï¼ŒXXXXå¯¹åº”çš„å°±æ˜¯ä½ ç»™ä¸»é¢˜èµ·çš„åå­—ï¼Œåƒè¿™æ ·ï¼šgit clone https://github.com/huyingjie/hexo-theme-A-RSnippet.git themes/a-rsnippet è¿™æ ·å°±å¯ä»¥ä¿è¯æ¯æ¬¡ä¸»é¢˜çš„ä½œè€…æœ‰æ›´æ–°äº†æˆ‘ä»¬å°±å¯ä»¥ pullè·å–æ›´æ–°ã€‚ä¸è¿‡è¿™æ ·æœ‰ä¸ªé—®é¢˜åé¢æˆ‘ä¼šåœ¨HEXOå¤šç»ˆç«¯åŒæ­¥ä¸€æ è®²åˆ°ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬é€‰æ‹©å¦ä¸€ç§æ–¹å¼å»å®‰è£…ï¼Œå°±æ˜¯ç›´æ¥æŠŠä¸»é¢˜çš„repoä¸‹è½½ä¸‹æ¥ç„¶åè§£å‹æ”¾åˆ°themesä¸­ã€‚å…¶å®å¯¹äºå·²ç»ç¨³å®šçš„ä¸»é¢˜ä½œè€…ä¸€èˆ¬ä¸ä¼šé¢‘ç¹æ›´æ–°ï¼Œä¸ç¨³å®šçš„ä¸»é¢˜æˆ‘ä»¬ä¹Ÿä¸ä¼šç”¨ï¼Œæ‰€ä»¥ç”¨åè€…å®‰è£…ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚ ç„¶åæˆ‘ä»¬å›åˆ°åˆšæ‰çš„ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­_config.ymlä¿®æ”¹å¦‚ä¸‹å­—æ®µï¼Œå¯¹åº”çš„åå­—å°±æ˜¯ä½ åˆšæ‰é‚£ä¸ªä¸»é¢˜æ–‡ä»¶å¤¹çš„åå­—ï¼šæˆ‘è¿™è¾¹æ˜¯nextï¼Œ ç„¶åä¿å­˜ï¼Œå†å»ç»ˆç«¯æ‰§è¡Œé‚£ä¸‰æ­¥ï¼Œæ¥ç€åˆ·æ–°ç½‘é¡µå°±å¯ä»¥çœ‹åˆ°æ–°çš„ç•Œé¢å•¦ã€‚ä¸‹é¢æ˜¯æˆ‘æ¢äº†NEXTä¸»é¢˜åˆ·æ–°åçš„æ•ˆæœã€‚å› ä¸ºè¯¥æ³¨æ„å·²ç»éå¸¸å®Œå–„ï¼Œæ‰€æœ‰åç»­ç”¨è¯¥ä¸»é¢˜åšä¾‹å­æ¥è®² äºŒï¼šä¸»é¢˜èœå•æ·»åŠ æŒ‰é’®ä¸»é¢˜èœå•ä¹Ÿå¯ä»¥è¯´æ˜¯ä¸»é¢˜æŒ‰é’®ã€‚ä¹Ÿå°±æ˜¯ä¸Šé¢é¡¶éƒ¨çš„ä¸¤ä¸ªï¼Œnextä¸»é¢˜é»˜è®¤çš„ä¸¤ä¸ªæ˜¯Homeã€Archiveï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šåŠ ä¸Štag about categoryç­‰ã€‚è¿™äº›éƒ½æ˜¯éœ€è¦åœ¨ä¸»é¢˜ä¸Šè¿›è¡Œä¿®æ”¹ï¼Œæˆ‘ä»¬éœ€è¦ä¿®æ”¹ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ï¼Œé¦–å…ˆåœ¨ä¸»é¢˜çš„æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ°_config.ymlæ–‡ä»¶ï¼Œæ²¡é”™å’Œä¹‹å‰çš„ç«™ç‚¹é…ç½®æ–‡ä»¶åŒåï¼Œåªä¸è¿‡ä»–ä»¬çš„è·¯å¾„ä¸åŒï¼Œå¤§å®¶åƒä¸‡ä¸è¦å¼„æ··ï¼Œç«™ç‚¹é…ç½®æ–‡ä»¶æ˜¯é…ç½®ç«™ç‚¹é€šç”¨çš„ä¸œè¥¿ï¼Œè€Œä¸»é¢˜é…ç½®æ–‡ä»¶æ˜¯é…ç½®ä¸€äº›ä¸»é¢˜çš„å…ƒç´ ã€‚åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶æ‰¾åˆ°menuå­—æ®µ å¯ä»¥çœ‹åˆ°ä¸»é¢˜ä½œè€…æ³¨é‡Šæ‰äº†ä¸€éƒ¨åˆ†æŒ‰é’®åªä¿ç•™äº†ä¸¤ä¸ªæœ€åŸºæœ¬çš„ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„å‰é¢çš„Keyå¹¶ä¸æ˜¯ä»£è¡¨çš„æ˜¯æŒ‰é’®åå­—ï¼Œå› ä¸ºè¯¥ä¸»é¢˜æ˜¯æ”¯æŒå¤šè¯­è¨€ï¼Œæ‰€ä»¥è¿™ä¸ªkeyåªæ˜¯ä¸ªæ ‡è¯†ï¼Œå…·ä½“çš„æŒ‰é’®åå­—è¦å»è¯¥è·¯å¾„ä¸‹æŸ¥æ‰¾ å…¶ä¸­æ¯ä¸€ä¸ªæ–‡ä»¶å¯¹åº”äº†ä¸åŒçš„è¯­è¨€ï¼Œæˆ‘ä»¬ä»¥æ±‰è¯­ä¸ºä¾‹ï¼Œè¿›å…¥zh-Hans.ymlä¸­ä¿®æ”¹è¿™äº›å­—æ®µ å…¶ä¸­keyå°±æ˜¯ä¹‹å‰æˆ‘ä»¬åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­çš„keyï¼Œè€Œåé¢çš„valueåˆ™æ˜¯ç®€ä½“ä¸­æ–‡çŠ¶æ€ä¸‹æŒ‰é’®çš„åå­—ã€‚ä¿®æ”¹å®Œæˆåæˆ‘ä»¬ä¿å­˜æ‰§è¡Œé‚£ä¸‰æ­¥å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬æ–°æ·»åŠ çš„æŒ‰é’®äº†ã€‚ æ·»åŠ é¡µé¢æ·»åŠ æŒ‰é’®åæˆ‘ä»¬éœ€è¦ç‚¹å‡»æŒ‰é’®æ˜¾ç¤ºç»Ÿä¸€çš„é¡µé¢ã€‚è¿™æ—¶å€™æˆ‘ä»¬éœ€è¦æ·»åŠ é¡µé¢ã€‚ä»¥tagé¡µé¢ä¸ºä¾‹ï¼Œhexoä¸­æ·»åŠ é¡µé¢çš„å‘½ä»¤æ˜¯hexo new page XXXXX åé¢XXXåˆ™æ˜¯è¦æ·»åŠ é¡µé¢çš„åç§°ï¼Œæˆ‘ä»¬è¿™é‡Œå†™tagsã€‚ä¸ºäº†æµ‹è¯•æ–°å»ºçš„tagé¡µé¢æˆ‘ä»¬å¯¹ä¹‹å‰çš„é¡µé¢æ·»åŠ ä¸ªtagã€‚å» source/_postä¸­æ‰¾ä¸€ç¯‡æ–‡ç« æˆ‘ä»¬åœ¨å¼€å¤´æ·»åŠ å¦‚ä¸‹å­—æ®µ,å¤šæ ‡ç­¾ä»¥æ­¤ç±»æ¨ ç„¶åç¼–è¾‘æˆ‘ä»¬åˆšæ‰ç”Ÿæˆçš„tagé¡µé¢(source/tags/index.md)æŒ‡å®šå…¶typeä¸ºtags ç„¶åä¿å­˜æ‰§è¡Œé‚£ä¸‰æ­¥å°±ä¼šæœ‰å¦‚ä¸‹æ•ˆæœ ç‚¹å‡»å¯¹åº”çš„tagå³å¯è·³è½¬åˆ°æ”¹tagæ‰€å¯¹åº”çš„æ–‡ç« ã€‚å…¶ä»–é¡µé¢åŒç†ã€‚ ä¸‰ï¼šæ·»åŠ é˜…è¯»æ›´å¤šbuttonæˆ‘ä»¬åœ¨é¦–é¡µçš„æ—¶å€™å…¶å®å°±æ˜¯æˆ‘ä»¬çš„æ–‡ç« åˆ—è¡¨ï¼Œä½†æ˜¯è¿™æ—¶å€™æœ‰ä¸ªé—®é¢˜ï¼Œå¦‚æœæˆ‘ä»¬æŸä¸€ç¯‡æˆ–è€…æŸå‡ ç¯‡æ–‡ç« å¾ˆé•¿ï¼Œé‚£é¦–é¡µæ˜¯ä¸æ˜¯æ›´é•¿å‘¢ï¼Ÿå…¶å®åœ¨é¦–é¡µæˆ‘ä»¬å¯ä»¥åªæ˜¾ç¤ºæ–‡ç« éƒ¨åˆ†å†…å®¹ï¼Œé€šè¿‡ç‚¹å‡»é˜…è¯»æ›´å¤šæŒ‰é’®æ¥è¿›å…¥æ–‡ç« è¯¦æƒ…ã€‚è¿™ä¸ªæ—¶å€™å°±éœ€è¦æˆªæ–­æ–‡ç« ã€‚æˆ‘ä»¬åœ¨æ–‡ç« çš„åˆé€‚åœ°æ–¹é‡‡ç”¨&lt;!--more--&gt;æ¥æˆªæ–­,ç”¨é»˜è®¤æ–‡ç« æ¥çœ‹ ç„¶åæ‰§è¡Œé‚£ä¸‰æ­¥å°±ä¼šå¦‚ä¸‹æ•ˆæœ ç‚¹å‡»é˜…è¯»æ›´å¤šã€‚ å››ï¼šæ›´æ”¹ä¸»é¢˜èƒŒæ™¯é¦–å…ˆæ‰¾åˆ°å¦‚ä¸‹è·¯å¾„ themes\next\source\css_custom\custom.styl ä¼šå‘ç°é‡Œé¢æ˜¯ç©ºçš„ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯Nextä¸»é¢˜ä¸ºæˆ‘ä»¬é¢„ç•™çš„åšä¸€äº›è‡ªå®šçš„cssæ ·å¼çš„åœ°æ–¹ï¼Œæˆ‘ä»¬æ·»åŠ å¦‚ä¸‹ä»£ç ã€‚ //èƒŒæ™¯å›¾ç‰‡ç›¸å…³@media screen and (min-width:1200px) &#123; body &#123; background-image:url(/images/bg.jpg); background-repeat: no-repeat; background-attachment:fixed; background-position:50% 50%; background-size: cover &#125; #footer a &#123; color:#eee; &#125;&#125; è¿™é‡Œå¤§å®¶åº”è¯¥å°±å¯ä»¥çœ‹å‡ºæ‹¬å·é‡Œé¢çš„å›¾ç‰‡è·¯å¾„å°±æ˜¯æˆ‘ä»¬çš„èƒŒæ™¯å›¾ç‰‡ï¼Œæˆ‘ä»¬åªéœ€æŠŠå›¾ç‰‡æ”¾å…¥ themes\next\source\images ä¸­å³å¯ï¼Œè®°ä½å›¾ç‰‡åå­—è¦å†™å¯¹ï¼Œè¦æœ‰åç¼€ã€‚åŒç†æ‹¬å·é‡Œé¢æˆ‘ä»¬å¯ä»¥ç›´æ¥æ”¾ä¸€ä¸ªå›¾ç‰‡çš„é“¾æ¥æ¯”å¦‚ https://tpc.googlesyndication.com/simgad/6893153702744595670 åšå®Œè¿™äº›æ“ä½œä¿å­˜ï¼Œç„¶åæ‰§è¡Œé‚£ä¸‰æ­¥å³å¯çœ‹åˆ°æ•ˆæœï¼Œä¸è¿‡å¯èƒ½æµè§ˆå™¨æœ‰ç¼“å­˜ï¼Œå¯ä»¥æ¸…ç†ä¸‹ç¼“å­˜å†åˆ·æ–°çœ‹çœ‹ã€‚ äº”ï¼šä¿®æ”¹åšå®¢èƒŒæ™¯é€æ˜åº¦æ—¢ç„¶å†ä¸Šä¸€æ­¥ä¸­ä¿®æ”¹äº†èƒŒæ™¯å›¾ç‰‡ï¼Œå¦‚æœè¢«NExtæœ¬èº«çš„ç™½è‰²æŒ¡ä½ç¡®å®ä¸å¥½çœ‹ï¼Œæˆ‘ä»¬å¯ä»¥å°è¯•æŠŠæœ¬èº«çš„ç™½è‰²èƒŒæ™¯å˜æˆé€æ˜çš„ï¼Œè¿™æ ·ä¼šç¾è§‚å¾ˆå¤šï¼ŒåŒæ ·è¿˜æ˜¯ä¿®æ”¹åˆšæ‰çš„æ–‡ä»¶ themes\next\source\css_custom\custom.styl åœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¸Šæˆ‘ä»¬å¯ä»¥æ·»åŠ å¦‚ä¸‹ä»£ç  //æ”¹å˜èƒŒæ™¯è‰²å’Œé€æ˜åº¦.main-inner &#123; background: #fff; opacity: 0.9;&#125; å…¶ä¸­ç¬¬ä¸€ä¸ªå±æ€§ä¸ºé¢œè‰²å€¼ï¼Œç¬¬äºŒä¸ªå±æ€§å°±æ˜¯æˆ‘ä»¬çš„é€æ˜åº¦å•¦ã€‚é€‚å½“ä¿®æ”¹ï¼Œä¸ç„¶ä¼šé€‚å¾—å…¶åè¿å­—éƒ½çœ‹ä¸æ¸…å•¦ã€‚åšå®Œä¸Šä¸¤æ­¥å°±æ˜¯æˆ‘çš„è¿™ä¸ªåšå®¢çš„æ•ˆæœã€‚ å…­ï¼šä¿®æ”¹ä½œè€…å¤´åƒä¸ºåœ†å½¢ï¼Œ æˆ‘ä»¬é»˜è®¤æ˜¯æ–¹å½¢çš„å¤´åƒï¼Œæƒ³ä¿®æ”¹ä¸ºåœ†å½¢çš„è¯åŒæ ·æ˜¯ä¸Šä¸¤æ­¥çš„é‚£ä¸ªè·¯å¾„ä¸‹æ·»åŠ å¦‚ä¸‹ä»£ç  .site-author-image &#123; border-radius: 100%; padding: 2px; border: 2px dashed #fff; animation: cycle 2s 0.5s forwards; transition: border-radius 2s;&#125; ä¿å­˜ -&gt; ä¸‰æ­¥ å³å¯çœ‹åˆ°æ•ˆæœ ä¸ƒï¼šæ·»åŠ èƒŒæ™¯åŠ¨ç”» èƒŒæ™¯åŠ¨ç”»ä½¿ç”¨Jsæ¥å¤„ç†ï¼Œä¼šJSçš„åŒå­¦å¯ä»¥è‡ªå·±å†™å–œæ¬¢çš„åŠ¨ç”»ï¼Œæˆ‘è¿™è¾¹å°±ç”¨äº†ç½‘ä¸Šæ¯”è¾ƒé€šç”¨çš„åŠ¨ç”»ã€‚æ‰¾åˆ°ä»¥ä¸‹è·¯å¾„ themes\next\layout\_layout.swig åœ¨æ–‡ç«  &lt;/body&gt;çš„ä¸Šé¢æ·»åŠ å¦‚ä¸‹ä»£ç  &lt;script type="text/javascript"color="255,255,255" opacity='1' zIndex="-2" count="100" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"&gt;&lt;/script&gt;&#123;% endif %&#125; ç„¶å ä¿å­˜ -&gt; ä¸‰æ­¥å³å¯çœ‹åˆ°æ•ˆæœ å…¶ä¸­srcä¸ºJSçš„è·¯å¾„ï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªå®šä¹‰æ•ˆæœã€‚ å…«ï¼šæ·»åŠ è¯„è®ºé¡µé¢ HEXOçš„è¯„è®ºé¡µé¢å®˜æ–¹æ¨èäº†disqusï¼Œæ— å¥ˆå·²ç»è¢«å¢™ï¼Œå³ä½¿å¼€å‘æ—¶å€™è‡ªå·±æœ‰å…‹æœçš„æ–¹æ³•ä½†æ˜¯ä¹Ÿä¸èƒ½ä¿è¯æ‰€æœ‰çœ‹ä½ åšå®¢çš„äººéƒ½æœ‰å…‹æœçš„æ–¹æ³•ã€‚æ‰€æœ‰æˆ‘ä»¬æ‰“ç®—é‡‡ç”¨å…¶ä»–çš„çš„ä¸€äº›ç¬¬ä¸‰æ–¹æ¥å®ç°ï¼Œé¦–å…ˆå…ˆå¯¹å¸‚é¢ä¸Šçš„å‡ ä¸ªäº§å“åšä¸‹å¯¹æ¯”ï¼š æ¯”è¾ƒï¼š disqus æ¯”è¾ƒå¤§ç‰Œçš„è¯„è®ºç³»ç»Ÿï¼ŒæœåŠ¡ç¨³å®šï¼Œå”¯ä¸€çš„ç¼ºç‚¹æ˜¯å›½å†…æ— æ³•ä½¿ç”¨ã€‚æš‚ä¸è€ƒè™‘ å¤šè¯´å›½å†…æ¯”è¾ƒå‡ºåçš„è¯„è®ºç³»ç»Ÿï¼Œå·²ç»å…³é—­æœåŠ¡æš‚ä¸è€ƒè™‘ã€‚ gitmentä¸€æ¬¾åŸºäºgithub issueçš„è¯„è®ºç³»ç»Ÿï¼Œé£æ ¼å¾ˆåƒgithubï¼Œåªæ˜¯ç›®å‰è¿˜ä¸æ˜¯å¤ªç¨³å®šï¼Œä¸”ç•Œé¢æ— æ³•è‡ªå®šï¼Œå¯èƒ½ä¼šäºåšå®¢æœ‰äº›ä¸åè°ƒã€‚è€Œä¸”è¯„è®ºéœ€è¦githubè´¦å· livereä¸­æ–‡åå­—å«æ¥å¿…åŠ›ï¼Œæ˜¯ä¸€æ¬¾éŸ©å›½çš„è¯„è®ºç³»ç»Ÿï¼Œåœ¨ä¸å¸¦æœ‰ä»»ä½•æ°‘æ—æƒ…æ„Ÿçš„å‰æä¸‹æ¥çœ‹ç¡®å®æ£’å­çš„ä¸œè¥¿è¿˜æ˜¯ä¸é”™çš„ï¼Œä¹Ÿæ˜¯æˆ‘ç›®å‰åœ¨ä½¿ç”¨çš„ä¸€æ¬¾ï¼Œæˆ‘ä¸»è¦ç”¨å®ƒçš„åŸå› æœ‰å‡ ç‚¹ æ”¯æŒå¾ˆå¤šç§æ ¼å¼çš„è¯„è®ºå¯¼å…¥ï¼Œä½ å¯ä»¥å¾ˆæ–¹ä¾¿çš„å§ä¹‹å‰åœ¨å…¶ä»–å¹³å°ä¸Šçš„è¯„è®ºæ•°æ®å¯¼å…¥è¿›æ¥ï¼Œæ”¯æŒå¤šç§jsonæ ¼å¼ã€‚ ç®€ä»‹çš„UIæä¾›å¤šç§ä¸»é¢˜ã€‚ å›½å¤–çš„ä¸œè¥¿ä¸å—å›½å†…çš„é™åˆ¶ã€‚ é›†æˆï¼šå…ˆå»livereçš„å®˜ç½‘æ³¨å†Œmï¼Œå…·ä½“è¿‡ç¨‹æˆ‘å°±ä¸è®²äº†ï¼Œä¸€æ­¥ä¸€æ­¥å®‰å¥¹çš„æ¥å°±è¡Œï¼Œä¹‹åä»–ä¼šç»™ä½ ä¸€ä¸ªå®‰è£…ä»£ç ï¼Œåƒè¿™æ ·ï¼š é‡Œé¢ä¸»è¦çš„ä¿¡æ¯å°±æ˜¯data-uidã€‚NEXTä¸»é¢˜æœ¬èº«æ˜¯å·²ç»é›†æˆäº†livereè¯„è®ºçš„ï¼Œåªä¸è¿‡è¢«æ³¨é‡Šæ‰äº†ã€‚æ‰¾åˆ°ä¸»é¢˜é…ç½®æ–‡ä»¶ _config.yml æ‰¾åˆ°å¦‚ä¸‹ä»£ç  æ‰“å¼€æ³¨é‡Šå¡«å…¥ä½ åœ¨livereä¸­æ³¨å†Œåå®ƒç»™ä½ çš„UIDå³å¯ã€‚ç„¶å ä¿å­˜ -&gt; ä¸‰æ­¥å³å¯ã€‚ ä¹ï¼šå¤šç»ˆç«¯æ“ä½œèƒŒæ™¯å¤§å®¶éƒ½çŸ¥é“HEXOæ˜¯é™æ€åšå®¢ï¼Œæ‰€æœ‰çš„é¡µé¢éƒ½æ˜¯é™æ€çš„é€šè¿‡æœ¬åœ°æ–‡ä»¶æ¸²æŸ“ç„¶åå†éƒ¨ç½²ä¸Šå»ï¼Œè¿™å°±å¸¦æ¥ä¸€ä¸ªå¤šç»ˆç«¯éƒ¨ç½²çš„é—®é¢˜ï¼Œæ¯”å¦‚å…¬å¸ç”µè„‘é…ç½®å¥½äº†ï¼Œæƒ³å›å®¶åœ¨è¿›è¡Œå†™ä½œï¼Œå‘ç°å®¶é‡Œä»€ä¹ˆéƒ½æ²¡æœ‰è¿˜éœ€è¦é‡æ–°é…ç½®ç¯å¢ƒï¼Œä¸è¿‡è¿™å€’æ˜¯æ¬¡è¦ï¼Œå…³é”®æ˜¯å¦‚æœä¸èƒ½ä¿è¯ä¸¤ä¸ªç»ˆç«¯çš„å†…å®¹å®Œå…¨ä¸€æ ·å°±ä¼šé€ æˆæœåŠ¡å™¨ä¸Šçš„æ•°æ®ä¼šè¢«æœ€åä¸€æ¬¡éƒ¨ç½²è¦†ç›–ï¼Œå¯¼è‡´å‰å‡ æ¬¡çš„éƒ½è¢«è¦†ç›–æ‰ã€‚ è§£å†³å…¶å®å¤§å®¶åº”è¯¥ä¹Ÿçœ‹å‡ºHEXOæ•´ä½“çš„ä¸€å¥—æµç¨‹ä¸‹æ¥å°±æ˜¯gitçš„å·¥ä½œæµç¨‹ï¼Œä¸ç®¡ä½ ç”¨githubè¿˜æ˜¯bitbucketéƒ½æ˜¯éµå¾ªgitflowçš„ï¼Œè€Œgitflowå°±æ˜¯ä¸€ç§å¤šç»ˆç«¯å¤šäººååŒå·¥ä½œçš„è§£å†³æ–¹æ¡ˆã€‚æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨å®ƒæ¥è§£å†³å¤šç»ˆç«¯åŒæ­¥çš„é—®é¢˜ã€‚ æµç¨‹æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸‹hexoçš„æ•´ä½“æµç¨‹ã€‚æˆ‘ä»¬æ­£å¸¸çš„ä¸ºæ–‡ä»¶å¤¹ç»“æ„å¦‚å›¾ï¼š ç¬¬ä¸€æ­¥ï¼šhexo g sourceæ–‡ä»¶å¤¹ä¸‹å­˜æ”¾ç€æˆ‘ä»¬çš„æ–‡ç« ï¼Œtagã€å½’æ¡£ä¹‹ç±»çš„ä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„åšå®¢çš„å†…å®¹ã€‚å½“æˆ‘ä»¬åœ¨ç»ˆç«¯æ‰§è¡Œ hexo g çš„æ—¶å€™ä¼šè¢«sourceä¸­çš„æ–‡ä»¶æŒ‰ç…§æŸç§è§„åˆ™æ–¹å¼æ¸²æŸ“æˆé™æ€çš„é¡µé¢æ–‡ä»¶æ”¾åˆ°publicä¸­ï¼š ç¬¬äºŒæ­¥ï¼šhexo d ç„¶åæˆ‘ä»¬æ‰§è¡Œ hexo d è¿™ä¸€æ­¥æš‚æ—¶æˆ‘ä»¬å¯ä»¥è®¤ä¸ºå°±æ˜¯å¯¹publicä¸­çš„æ–‡ä»¶è¿›è¡Œpushåˆ°æˆ‘ä»¬çš„gitä»“åº“çš„è¿‡ç¨‹ã€‚æ‰€ä»¥åœ¨æˆ‘ä»¬çš„ä»“åº“ä¸­ XXXXXX.bitbucket.io å¤§å®¶çœ‹åˆ°çš„æ–‡ä»¶åªæœ‰publicä¸­çš„æ–‡ä»¶ã€‚ é™„åŠ ï¼šhexo clean å…¶å®è¿™ä¸€æ­¥æ˜¯å’Œgitflowæ²¡æœ‰å…³ç³»çš„ï¼Œä½†æ˜¯æ—¢ç„¶è®²åˆ°æµç¨‹æˆ‘è¿™è¾¹ä¹Ÿåœ¨è¯´ä¸‹ï¼Œä¹‹å‰è¯´è¿‡è¿™æ­¥æ˜¯ç”¨æ¥æ¸…ç†ç¼“å­˜çš„ï¼Œå…¶å®ä»–çš„ä½œç”¨æ˜¯è¿è¡Œåœ¨ç¬¬ä¸€æ­¥ä¹‹å‰ï¼Œå°†æ•´ä¸ªpublicæ–‡ä»¶åˆ é™¤ï¼Œç„¶åæˆ‘ä»¬å†æ‰§è¡Œ hexo g é‡æ–°æ¸²æŸ“è¿›publicï¼Œä¹‹åå† hexo d è¿›è¡Œéƒ¨ç½²ï¼Œè¿™æ ·å°±é¿å…ä¹‹å‰çš„å†…å®¹å¯¹æˆ‘ä»¬é€ æˆå½±å“ã€‚ å…·ä½“æ“ä½œ é€šè¿‡ä¸Šä¸€æ­¥æµç¨‹æˆ‘ä»¬çŸ¥é“å¦‚æœgitæœåŠ¡å™¨ä¸Šåªæœ‰publicæ˜¯ä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬éœ€è¦æœ‰æˆ‘ä»¬æ•´ä¸ªåšå®¢æ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶æ‰èƒ½è¿›è¡Œå¤šç»ˆç«¯æ“ä½œã€‚æ‰€æœ‰è¿™è¾¹æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š æ–°å»ºå¦ä¸€ä¸ªä»“åº“æˆ‘ä»¬æš‚æ—¶å‘½åä¸ºMyProjectï¼ŒæŠŠæˆ‘ä»¬æ‰€æœ‰çš„æ–‡ä»¶ä¼ åˆ°è¿™ä¸ªGitä»“åº“ä¸Šï¼Œå½“æˆ‘ä»¬æ¢å¦ä¸€å°ç”µè„‘æ—¶å€™æˆ‘ä»¬ç›´æ¥æ‹‰è¿™ä¸ªæ–°ä»“åº“çš„ä»£ç ç„¶åè¿›è¡Œå†™ä½œ -&gt; ä¸‰æ­¥èµ°æœ€ååœ¨å°†æ‰€æœ‰æ–‡ä»¶æ¨åˆ°MyProjectä»¥åæ‰€æœ‰çš„gitæ“ä½œéƒ½åœ¨è¿™ä¸ªä»“åº“ä¸­è¿›è¡Œã€‚ gitç»™æˆ‘ä»¬æä¾›äº†å¤šåˆ†æ”¯æ“ä½œï¼Œæˆ‘ä»¬å¯ä»¥åšxxxx.github.ioè¿™ä¸ªä»“åº“ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ†æ”¯æš‚æ—¶å‘½åä¸ºhexoåˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯çš„ä½œç”¨å’Œä¸Šä¸€ä¸ªæ–¹æ³•é‡ŒMyProjectçš„ä½œç”¨ä»¥åŠé‡Œé¢çš„æ–‡ä»¶ä¸€æ¨¡ä¸€æ ·ï¼Œåªä¸è¿‡æˆ‘ä»¬è¿™ä¸ªæ–¹æ³•å°±çœçš„æˆ‘ä»¬å†åˆ›å»ºä¸€ä¸ªä»“åº“äº†ã€‚ä»¥åæ‰€æœ‰çš„gitæ“ä½œéƒ½å»è¿™ä¸ªåˆ†æ”¯è¿›è¡Œï¼Œæœ¬åœ°çš„æ–‡ä»¶ä¸€ç›´ä¿æŒåœ¨è¿™ä¸ªåˆ†æ”¯å°±è¡Œï¼Œä¸è¿‡æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„å°±æ˜¯ï¼Œå³ä½¿æ‰€æœ‰çš„æ“ä½œéƒ½åœ¨hexoåˆ†æ”¯ä¸‹è¿›è¡Œä¹Ÿå¿…é¡»ä¿è¯masteråˆ†æ”¯ä¸ºä¸»åˆ†æ”¯(default branch)ï¼Œä¸ç„¶ä½ å°±æ‰“ä¸å¼€ä½ çš„åšå®¢äº†ã€‚ ä»¥ä¸Šä¸¤ç§éƒ½æ˜¯å±äºåŸºæœ¬çš„gitæ“ä½œï¼Œæœ¬æ–‡ä¸å†èµ˜è¿°ã€‚ä¸è¿‡æœ‰ä¸€ç‚¹è¿™é‡Œè¦å¼ºè°ƒä¸‹ï¼Œè¿˜è®°ä¸€å¼€å§‹æˆ‘è·Ÿå¤§å®¶è¯´çš„ä¸»é¢˜çš„æ˜¯æ¨èå¤§å®¶ç›´æ¥å»ä¸»é¢˜æ‰€åœ¨çš„repoä¸‹è½½zipç„¶åè§£å‹æ‹–è¿›åšå®¢ç›®å½•é‡Œé¢å—ï¼Ÿå¦‚æœä½ ä¸æ˜¯æ‹–æ‹½è¿›æ¥çš„è€Œæ˜¯cloneä¸‹æ¥çš„è¯åœ¨è¿™ä¸€æ­¥ä½ ä¼šæ¶‰åŠåˆ°gitçš„ add submoduleæ“ä½œã€‚å…¶å®æ“ä½œä¸éš¾ï¼Œå…·ä½“çš„å‘½ä»¤ç½‘ä¸Šä¹Ÿæ˜¯å¤§æŠŠã€‚ä¸è¿‡å¦‚æœä½ åƒæˆ‘ä¸€æ ·ä½¿ç”¨bitbucketçš„è¯å¯èƒ½å‘ç°æ— æ³•è¿›è¡Œsubmoduleæ“ä½œï¼Œä¸çŸ¥é“è¿™ä¸ªæ˜¯bitbucketçš„BUGè¿˜æ˜¯ä»€ä¹ˆå…¶ä»–åŸå› ï¼ŒåŒæ ·çš„å‘½ä»¤ä½¿ç”¨githubæ‰˜ç®¡åšå®¢çš„æ—¶å€™æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè€Œbitbucketå°±ä¸è¡Œï¼Œå½“ä½ ä½¿ç”¨å¦ä¸€å°ç”µè„‘çš„è¿›è¡Œæ‹‰å»çš„æ—¶å€™æ‰§è¡Œ git submodule init æ“ä½œçš„æ—¶å€™ä»–ä¼šæç¤ºæ‰¾ä¸åˆ°ã€‚è‡³ä»Šæœªè§£å†³ï¼Œå¦‚æœå“ªä½å¤§ç¥æœ‰ä»€ä¹ˆæ–¹æ³•åŠæ—¶è”ç³»æˆ‘ã€‚ åï¼šç»‘å®šä¸ªäººåŸŸåæ³¨æ„ï¼šbitbucket ä»2015å¹´å¼€å§‹å…³é—­äº†ä¸ªäººåšå®¢è‡ªå®šä¹‰åŸŸåçš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœä½ æ˜¯æŒ‰ç…§ä¸Šé¢æ“ä½œæŠŠä¸ªäººåšå®¢éƒ¨ç½²åœ¨bitbucketä¸­çš„è¯å°±æ— æ³•ä½¿ç”¨è‡ªå·±çš„åŸŸåï¼Œå…³äºè¿™ä¸€ç‚¹bitbucketæ–‡æ¡£å·²ç»æœ‰æ˜æ˜¾çš„è¯´æ˜ å‡†å¤‡å·¥ä½œåœ¨githubä¸Šåˆ›å»ºä»“åº“ï¼Œä»“åº“çš„åå­—ä¸º username.github.ioã€‚ç„¶åä¿®æ”¹ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­éƒ¨ç½²åœ°å€ï¼ˆrepoå¯¹åº”çš„å­—æ®µï¼‰ï¼Œå°†åŸæœ¬çš„bitbucketçš„ä»“åº“åœ°å€æ”¹ä¸ºgithubçš„åœ°å€ ä¹‹åè¿›è¡Œä¿å­˜ç„¶åä¸‰æ­¥èµ°ï¼Œéƒ¨ç½²æˆåŠŸåä½ çš„åšå®¢å°±ä»bitbucketä¸Šè¿ç§»åˆ°githubä¸­äº†ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä½ æ•´ä½“çš„åšå®¢ä»“åº“è¿˜æ˜¯åœ¨bitbucketä¸­çš„ç§æœ‰åº“ä¸­ï¼Œä½†æ˜¯publicæ–‡ä»¶å¤¹ä¸­çš„å…¬å¼€æ–‡ä»¶å·²ç»è¢«ä½ éƒ¨ç½²åˆ°githubçš„ä»“åº“ä¸­ã€‚è¯¥ä¿å¯†çš„ä¿¡æ¯ä»ç„¶ä¿å¯†ï¼ŒåŒæ—¶ä¹Ÿä¸å½±å“ä½ ç»‘å®šè‡ªå·±çš„åŸŸåï¼Œä¸€ä¸¾ä¸¤å¾—ã€‚æ­£å¸¸æƒ…å†µä¸‹æŒ‰ç…§ä¸Šé¢æ­¥éª¤å®Œæˆåçš„åšå®¢åœ°å€æ˜¯ xxx.github.ioï¼Œä¸‹é¢å°±å¼€å§‹ç»‘å®šè‡ªå·±çš„åŸŸåã€‚ åŸŸåè´­ä¹°è¿™ä¸ªæ¸ é“æœ‰å¾ˆå¤šï¼Œæˆ‘å°±ä¸å†ä¸€ä¸€èµ˜è¿°ï¼Œæˆ‘è¿™è¾¹ä»¥é˜¿é‡Œäº‘çš„ä¸‡ç½‘åŸŸåè´­ä¹°ä¸ºä¾‹,æ‰¾åˆ°åˆé€‚è‡ªå·±çš„åŸŸå åŸŸåè§£æè´­ä¹°åŸŸåå¹¶ä¸”æŒ‰ç…§ä»–çš„æ­¥éª¤å®åè®¤è¯ä¹‹åï¼Œéœ€è¦æŠŠåŸŸåè§£æåˆ°æˆ‘ä»¬çš„åšå®¢ä¸­ï¼Œåœ¨é˜¿é‡Œäº‘çš„æ§åˆ¶å°æ‰¾åˆ°åŸŸåå³ä¾§å¯¹åº”çš„è§£ææŒ‰é’®ã€‚ç‚¹å‡»ç„¶åæ·»åŠ è§£æ ç„¶åæŒ‰ç…§å¦‚ä¸‹å¡«å†™æ·»åŠ è§£æï¼Œè®°å¾—æŠŠè®°å½•å€¼æ›¿æ¢æˆä½ è‡ªå·±çš„åšå®¢åœ°å€ ä¹‹åè®°å¾—å¯ç”¨è¯¥è®°å½•ï¼Œä¸è¿‡å¦‚æœä½ åƒæˆ‘ä¸€æ ·æ˜¯é˜¿é‡Œäº‘è´­ä¹°å¹¶ä¸”é…ç½®çš„è¯æ˜¯ä¸éœ€è¦å¯ç”¨çš„ï¼Œé»˜è®¤å¸®ä½ å¯ç”¨ã€‚ ä»“åº“é…ç½®ç„¶åå›åˆ°ä½ çš„githubä»“åº“ï¼Œè¿›å…¥ä½ çš„ä»“åº“è®¾ç½®é¡µé¢ï¼Œæ‰¾åˆ°å¦‚ä¸‹å­—æ®µï¼Œåœ¨çº¢æ¡†å¤„æ·»åŠ ä½ çš„åŸŸåï¼Œç„¶åä¿å­˜å³å¯ åšå®¢é…ç½®å›åˆ°ä½ çš„åšå®¢ç›®å½•ï¼Œåœ¨sourceç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ªä¸å¸¦ä»»ä½•åç¼€çš„æ–‡ä»¶ï¼Œå‘½åä¸º CNAMEï¼Œé‡Œé¢å¡«å†™ä½ çš„åŸŸåï¼Œæˆ‘æ˜¯è¿™æ ·ï¼Œåªæ·»åŠ ä½ çš„åŸŸåä¸è¦æ·»åŠ å…¶ä»–ä¸œè¥¿ã€‚ç„¶åä¿å­˜ æ‰§è¡Œä¸‰æ­¥ä¹‹åå°±å¯ä»¥é€šè¿‡ä½ çš„åŸŸåè®¿é—®ä½ çš„åšå®¢å•¦ï¼Œå¦‚æœä¸èƒ½è®¿é—®å¯èƒ½æ˜¯å› ä¸ºè¿è¥å•†DNSç¼“å­˜é—®é¢˜ã€‚ç­‰å‡ åˆ†é’Ÿå°±å¯ä»¥äº†ã€‚ åä¸€ï¼šå®ç°httpsåè®®æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤å®Œæˆåå¯ä»¥é€šè¿‡åŸŸåè®¿é—®ï¼Œä½†æ˜¯æœ‰ä¸ªé—®é¢˜å°±æ˜¯å¦‚æœä½ ç”¨è°·æ­Œæµè§ˆå™¨æˆ–è€…Safariï¼Œä»–å°±ä¼šæç¤ºä½ ç½‘ç«™ä¸è¢«ä¿¡ä»»ï¼Œåªæœ‰ä½ ç‚¹å‡»ä»è¦ç»§ç»­æ‰ä¼šå±•ç¤ºä½ çš„åšå®¢ï¼Œå¹¶ä¸”åœ°å€æ é‡Œé¢è¿˜æ˜¯æœ‰ä¸ªçº¢è‰²çš„Ã—ï¼Œè™½è¯´ä¸å½±å“ä½¿ç”¨å’Œé˜…è¯»ï¼Œä½†æ˜¯è¿˜æ˜¯æ„Ÿè§‰åˆ«æ‰­ï¼Œè¿™æ¬¡æˆ‘ä»¬æ¥è®²å¦‚ä½•å°†è‡ªå·±çš„åšå®¢åè®®æ”¹ä¸ºHttpsã€‚è¿™é‡Œæœ‰å‡ ç§æ–¹æ³•ï¼š è´­ä¹°è¯ä¹¦ ä½¿ç”¨å…è´¹CAè¯ä¹¦ã€‚è…¾è®¯äº‘é˜¿é‡Œäº‘éƒ½æœ‰æä¾›ã€‚ä¸è¿‡æœ‰æ—¶é—´é™åˆ¶ ä½¿ç”¨CDNè¿›è¡Œåå‘ä»£ç† å¦‚æœä½¿ç”¨ä¸Šä¸¤æ­¥çš„è¯åŸºæœ¬ä¸Šè¯ä¹¦çš„æœåŠ¡å•†éƒ½ä¼šå‘Šè¯‰ä½ å¦‚ä½•é…ç½®ï¼Œä»–ä»¬çš„æ–‡æ¡£è®²çš„ä¸€å®šæ¯”æˆ‘çš„è¯¦ç»†ï¼Œä¸è¿‡ä¸»è¦åŸå› æ˜¯æˆ‘ä»¬ä½¿ç”¨çš„github Pageæ˜¯ä¸æ”¯æŒä¸Šä¼ è¯ä¹¦çš„ï¼Œæ‰€ä»¥è¿™é‡Œä¸»è¦è¯´ä¸‹ç¬¬ä¸‰æ­¥ï¼Œé€šè¿‡CDNé…ç½®åå‘ä»£ç†ï¼Œè¿™é‡Œå°±éœ€è¦ç”¨åˆ°ä¸€ä¸ªå›½å¤–çš„CDNæœåŠ¡æä¾›å•†Cloudflare: åŸç†Cloudflare æä¾›DNSè§£ææœåŠ¡ï¼Œè€Œä¸”é€Ÿåº¦å¾ˆå¿«ï¼Œåœ¨é˜¿é‡Œäº‘åŠä¸ªå°æ—¶æ‰èƒ½ç”Ÿæ•ˆçš„è§£æåœ¨å®ƒè¿™é‡Œç¬é—´å°±ç”Ÿæ•ˆï¼Œå®ƒæä¾›äº†å…è´¹çš„httpsæœåŠ¡(ä½†ä¸æ˜¯åº”ç”¨SSLè¯ä¹¦)ã€‚å®ç°æ¨¡å¼å°±æ˜¯ï¼Œç”¨æˆ·åˆ°CDNæœåŠ¡å™¨çš„è¿æ¥ä¸ºhttpsï¼Œè€ŒCDNæœåŠ¡å™¨åˆ°GithubPageæœåŠ¡å™¨çš„è¿æ¥ä¸ºhttpï¼Œå°±æ˜¯åœ¨CDNæœåŠ¡å™¨é‚£é‡ŒåŠ ä¸Šåå‘ä»£ç†ã€‚ ç”¨æˆ·çœ‹åˆ°çš„å°é”å…¶å®æ˜¯ç”¨æˆ·è¿æ¥åˆ°Cloudflareçš„è¯ä¹¦ï¼Œè€Œç”±Cloudflareåˆ°githubæ˜¯æ²¡æœ‰httpsçš„ï¼Œä¸è¿‡å¯¹äºæˆ‘ä»¬é™æ€åšå®¢å·²ç»å¤Ÿäº†ã€‚ é…ç½®ç¬¬ä¸€æ­¥ï¼šè¿˜æ˜¯å…ˆå»å®˜ç½‘æ³¨å†Œï¼Œç„¶åæ·»åŠ ä½ çš„åŸŸåï¼Œæ³¨æ„æ·»åŠ çš„æ˜¯ä½ è´­ä¹°çš„åŸŸåã€‚ ç¬¬äºŒæ­¥ï¼šè¿›å…¥DNSè§£æç•Œé¢å¡«å…¥å¦‚ä¸‹è§£æï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨clouldflareåšDNSè§£ææ‰€ä»¥ä¸€ä¼šæˆ‘ä»¬éœ€è¦æŠŠæˆ‘ä»¬è´­ä¹°åŸŸåçš„é‚£ä¸ªåœ°æ–¹çš„è§£æåˆ æ‰ã€‚ å…¶ä¸­å‰ä¸¤ä¸ªæ˜¯ä½¿ä½ çš„åŸŸåæŒ‡å‘githubçš„æœåŠ¡å™¨åœ°å€ï¼Œgithubæ–‡æ¡£ä¸­ç»™çš„å°±æ˜¯è¿™ä¸ªä¸¤ä¸ªåœ°å€ï¼Œæœ€åé‚£ä¸ªCNAMEè®°å½•æŒ‡å‘çš„æ˜¯ä½ çš„githubä»“åº“åŸŸåusername.github.ioã€‚ä¸€å®šè¦ä¸¥æ ¼æŒ‰ç…§è¿™ä¸ªæ¥é…ç½®ã€‚ ç¬¬ä¸‰æ­¥ï¼šè®°å½•ä¸‹cloudflareç»™ä½ çš„DNSè§£ææœåŠ¡å™¨ï¼Œå°±åœ¨ä¸Šä¸€æ­¥é‚£ä¸ªé¡µé¢ä¸‹è¾¹ï¼Œç”¨è¿™ä¸ªè®°å½•å»æŠŠä½ åŸŸåè´­ä¹°å¤„ï¼ˆæˆ‘çš„æ˜¯é˜¿é‡Œäº‘ï¼‰çš„DNSè§£ææœåŠ¡å™¨æ›¿æ¢æ‰ï¼ŒåŒæ—¶åˆ æ‰é˜¿é‡Œäº‘é‡Œé¢çš„DNSè§£æè®°å½•ï¼Œå› ä¸ºæˆ‘ä»¬ä»¥åå°±é clouleflareæ¥è§£æDNSå•¦ã€‚ ç¬¬å››æ­¥ï¼šå›åˆ°clouldflare ä¸Šé¢é€‰æ‹©cryptoé€‰é¡¹ç„¶åä¸‹é¢é€‰æ‹©fullæˆ–è€…æ˜¯Flexible é€‰é¡¹ä¸­å‡ ä¸ªçš„åŒºåˆ«å¦‚ä¸‹å›¾ æœ€åé‚£ä¸ªæ˜¯éœ€è¦è¯ä¹¦æ”¯æŒçš„ã€‚ç„¶åæ»šåŠ¨åˆ°ä¸‹é¢æ‰“å¼€always use HTTPSå¼€å…³ ç¬¬äº”æ­¥ï¼šä»¥ä¸Šæ­¥éª¤é…ç½®å¥½ä¹‹ååŸºæœ¬å°±å®Œæˆäº†ï¼Œä½†æ˜¯å¦‚æœç›´æ¥æœ‰äººåœ¨åœ°å€æ é‡Œé¢è¾“å…¥http://XXXXX è¿›å…¥ä½ çš„åšå®¢çš„è¯ä½ è¿™è¾¹è¿˜æ˜¯ä¼šå‡ºç°éHttpsçš„æ•ˆæœï¼Œæ‰€ä»¥æˆ‘ä»¬è¿™é‡Œè¦åšä¸€ä¸ªå¼ºåˆ¶è·³è½¬ã€‚ è¿™æ ·å°±ä¸‡æ— ä¸€å¤±äº†ã€‚ å‘ç‚¹ï¼šæˆ‘ä¹‹å‰æŒ‰ç…§ä»¥ä¸Šæ­¥éª¤æ“ä½œå®Œæˆåå‘ç°é¦–é¡µè™½ç„¶æ˜¯httpsäº†ä¹Ÿä¸æ˜¾ç¤ºçº¢å‰äº†ï¼Œä½†æ˜¯ä¹Ÿæ²¡æœ‰æ˜¾ç¤ºç»¿è‰²çš„å°é”ï¼Œè€Œæ˜¯ä¸€ä¸ªå¹å·ï¼Œä½†æ˜¯æœ‰äº›åšæ–‡é¡µé¢å¯ä»¥æ­£å¸¸æ˜¾ç¤ºhttpsç»¿é”ã€‚åæ¥å‘ç°æ˜¯å› ä¸ºå½“å‰é¡µé¢ä¸­æœ‰éhttpsçš„é“¾æ¥å¯¼è‡´ï¼Œæ¯”å¦‚å›¾ç‰‡å›¾åºŠä¸æ˜¯httpsçš„ï¼Œæˆ–è€…è¯„è®ºæ’ä»¶ä¸æ”¯æŒhttpsï¼Œä¸è¿‡æˆ‘åšå®¢ä¸­ä½¿ç”¨çš„æ¥å¿…åŠ›è¯„è®ºæ˜¯æ”¯æŒhttpsï¼Œåªæ˜¯æˆ‘å½“æ—¶çš„å›¾åºŠæ— éƒ½æ˜¯httpæ‰€ä»¥åªèƒ½æ˜¯æ˜¾ç¤ºå¹å·äº†ï¼Œåæ¥æŠŠæ‰€æœ‰å›¾ç‰‡å›¾åºŠæ¢æˆhttpsçš„å°±å¥½å•¦ã€‚ åäºŒï¼šä¸ºåšå®¢æ·»åŠ éŸ³ä¹HEXOåšå®¢æ·»åŠ çš„éŸ³ä¹çš„åœ°æ–¹æœ‰ä¸¤ä¸ªã€‚ä¸€ä¸ªä¸ªé¦–é¡µä¾§è¾¹æ ï¼Œå¦ä¸€ä¸ªæ˜¯æ¯ä¸ªé¡µé¢é‡Œé¢ã€‚ä½†æ˜¯ä¸ªäººè§‰å¾—æ·»åŠ ä¾§è¾¹æ é‡Œé¢å¹¶ä¸å¥½ï¼Œå› ä¸ºæ·»åŠ ä¾§è¾¹æ çš„è¯ç”¨æˆ·åªæœ‰åœ¨æµè§ˆä½ é¦–é¡µçš„æ—¶å€™æ‰èƒ½å¬åˆ°éŸ³ä¹ï¼Œè€Œä¸”æœŸé—´ä¸èƒ½ç‚¹å‡»ä»»ä½•ç«™å†…é“¾æ¥ï¼Œå¦åˆ™éŸ³ä¹å°±ä¼šä¸­æ–­ï¼Œè¯•æƒ³ä¸‹ï¼Œä¸€èˆ¬é¦–é¡µéƒ½æ˜¯æ–‡ç« åˆ—è¡¨ï¼Œç‚¹å‡»æ–‡ç« é‡Œé¢ä¹‹åæ‰æ˜¯æ­£æ–‡ï¼Œæ‰€ä»¥ç”¨æˆ·åœ¨é¦–é¡µåœç•™çš„æ—¶é—´å¾ˆçŸ­ï¼ŒåŸºæœ¬ä¸Šæ‰¾åˆ°è‡ªå·±æƒ³çœ‹çš„æ–‡ç« å°±ä¼šé©¬ä¸Šç‚¹è¿›å»çœ‹ï¼Œæ‰€ä»¥è¿™é‡Œæ”¾éŸ³ä¹æ²¡æœ‰å¤ªå¤§æ„ä¹‰ï¼›è€Œé¡µé¢å†…æ’å…¥éŸ³ä¹ä¼šæ›´å¥½ç‚¹ï¼Œè¯»è€…å¯ä»¥ä¸€è¾¹æµè§ˆæ–‡ç« ä¸€è¾¹å¬éŸ³ä¹ï¼Œè¿™ä¹Ÿæ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ä¸è¿‡è§£å†³å‰è€…é—®é¢˜çš„åŠæ³•ä¹Ÿä¸æ˜¯æ²¡æœ‰ï¼Œæ¯”å¦‚ç‚¹å‡»é“¾æ¥çš„è¯ç›´æ¥å¼€å¦ä¸€ä¸ªæµè§ˆå™¨æ ‡ç­¾æ¥æ‰“å¼€æ–°é¡µé¢ä¹Ÿå¯ä»¥åšåˆ°ä¸ä¸­æ–­éŸ³ä¹ï¼Œä½†æ˜¯æ€»è§‰å¾—æœ‰ç‚¹å°é¢˜å¤§åšäº†ã€‚æ€»ä¸èƒ½è¯»è€…çœ‹ä¸ªä½ çš„åšå®¢è€Œå ç”¨äº†ä¸€å †æ ‡ç­¾ã€‚ ç½‘æ˜“äº‘éŸ³ä¹å¤–é“¾è¿™ä¸ªæ˜¯æœ€ç®€å•çš„æ–¹æ³•ï¼Œé€šè¿‡ç½‘æ˜“äº‘éŸ³ä¹å®˜ç½‘ç”Ÿæˆæ’­æ”¾å™¨å¤–é“¾ã€‚ å¯ä»¥è‡ªå·±é…ç½®ä¸€äº›å±æ€§ï¼Œç„¶åè‡ªåŠ¨ç”Ÿæˆé…ç½®ä»£ç ï¼Œæ”¾åˆ°ä½ çš„åšå®¢é‡Œé¢å°±è¡Œå•¦ï¼Œç²˜è´´åˆ°ä½ æ–‡ç« ä¸­æƒ³è¦çš„åœ°æ–¹ ä¼˜ç‚¹ç¼ºç‚¹æˆªå›¾ä¸Šä¹Ÿæœ‰ï¼Œä¸è¿‡ç½‘ä¸Šä¹Ÿè¯´è¿™æ ·çš„æ–¹å¼ä¼šå½±å“SEOï¼Œå…·ä½“ä»€ä¹ˆåŸç†ä¹Ÿä¸å¤ªæ¸…æ¥šã€‚æ€»ä¹‹ç®€å•ä¾¿æ·ï¼Œä¸è¿‡ç½‘æ˜“çš„logoå»ä¸æ‰ã€‚ aplayeræ·»åŠ éŸ³ä¹è¿™ä¸ªç®—æ˜¯HEXOæœ€å¸¸ç”¨ä¹Ÿæ˜¯æœ€å‡ºååçš„æ’­æ”¾å™¨äº†ï¼Œè¿˜æœ‰Dpleyeræ˜¯ç”¨æ¥è§†å±æ’­æ”¾çš„ï¼Œæš‚æ—¶æˆ‘ä»¬ä¸è¯´ã€‚é¦–å…ˆéœ€è¦å®‰è£…aplayerä¾èµ–ï¼Œç»ˆç«¯ä¸­åˆ‡æ¢åˆ°ä½ çš„åšå®¢æ ¹ç›®å½•æ‰§è¡Œ npm install aplayer --save å®‰è£…æˆåŠŸåå°±å¯ä»¥äº†ã€‚å‚æ•°å°±ä¸ç»™å¤§å®¶ä¸€ä¸€è®²è§£äº†ï¼Œå®˜æ–¹æ–‡æ¡£éƒ½æœ‰ï¼Œæˆ‘è¿™é‡Œåªæä¾›ä¸€ä¸ªä¾‹å­ã€‚ é¡µé¢ä¸­æ·»åŠ éŸ³ä¹&#123;% aplayerlist %&#125;&#123; "autoplay": true, "showlrc": 0, "mutex": true, "music": [ &#123; "title": "ì—í•„ë¡œê·¸ (Epilogue)", "author": "ì´ë™ì¤€", "url": "https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E1%84%8B%E1%85%A6%E1%84%91%E1%85%B5%E1%86%AF%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3.mp3", "pic": "https://y.gtimg.cn/music/photo_new/T002R300x300M000000RmZHf3qhLUL.jpg?max_age=2592000", "lrc": "https://æ­Œè¯.lrc" &#125; ]&#125;&#123;% endaplayerlist %&#125; ä»¥ä¸Šä»£ç æ’åˆ°æ–‡ç« ä¸­ä»»æ„ä¸€ä¸ªä½ æƒ³çš„åœ°æ–¹å°±å¯ä»¥ picå°±æ˜¯æ­Œæ›²æ˜¾ç¤ºå›¾ç‰‡çš„é“¾æ¥ã€‚å¤§å®¶å¯ä»¥çœ‹åˆ°musicæ˜¯ä¸ªæ•°ç»„ï¼Œæ‰€ä»¥æƒ³æ·»åŠ åˆ—è¡¨çš„è¯å°±åœ¨æ•°ç»„ä¸­å†æ·»åŠ ä¸ªæ­Œæ›²å­—å…¸å°±å¥½äº†ã€‚å»ºè®®æ­Œè¯lrcè¦ç”¨URLå½¢å¼ï¼Œä¸ç„¶txtæ ¼å¼å¯èƒ½è¦ç¼–è¾‘æ­»ã€‚ã€‚å¥½å¤šäººé—®æ­Œæ›²çš„MP3å¤–é“¾ä»å“ªé‡Œæ¥ã€‚è¿™ä¸ªå…¶å®å¾ˆç®€å•ï¼Œé¦–å…ˆæŠŠæ­Œæ›²ä¸‹è½½ä¸‹æ¥ç„¶åä¸Šä¼ åˆ°ä¸ƒç‰›äº‘å°±å¯ä»¥åœ¨ä¸ƒç‰›äº‘ç”Ÿæˆå¤–é“¾å•¦ï¼Œä¸ƒç‰›äº‘æœ‰å…è´¹çš„å­˜å‚¨ç©ºé—´ï¼Œåªå­˜æ­Œæ›²çš„è¯è¶³å¤Ÿå•¦ã€‚æ­Œè¯URL ä¾§è¾¹æ ä¸­æ·»åŠ éŸ³ä¹å…¶å®ä¹‹å‰è®²è¿‡ï¼Œä¸å»ºè®®åœ¨ä¾§è¾¹æ ä¸­æ·»åŠ ï¼Œä½†æ˜¯è¿™é‡Œè¿˜æ˜¯ç®€å•ä»‹ç»ä¸‹ã€‚é¦–å…ˆè¦åšçš„æ˜¯åœ¨node_modules ç›®å½•ä¸‹æ‰¾åˆ° APlayer.min.js æ–‡ä»¶ï¼Œå°†å…¶å¤åˆ¶åˆ° theme/next/source/js/src/ ç›®å½•ä¸‹ã€‚ç„¶åæ‰“å¼€ theme/next/layout/_custom/ æ–‡ä»¶å¤¹ä¸‹çš„ sidebar.swig æ–‡ä»¶ï¼Œå‘å…¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼š &lt;div id="player1" class="aplayer"&gt;&lt;/div&gt;&lt;script src="/js/src/APlayer.min.js"&gt;&lt;/script&gt;&lt;script type="text/javascript"&gt;var ap = new APlayer(&#123; element: document.getElementById('player1'), // Optional, player element narrow: false, // Optional, narrow style autoplay: false, // Optional, autoplay song(s), not supported by mobile browsers showlrc: 0, // Optional, show lrc, can be 0, 1, 2, see: ###With lrc mutex: true, // Optional, pause other players when this player playing theme: '#e6d0b2', // Optional, theme color, default: #b7daff mode: 'random', // Optional, play mode, can be `random` `single` `circulation`(loop) `order`(no loop), default: `circulation` preload: 'metadata', // Optional, the way to load music, can be 'none' 'metadata' 'auto', default: 'auto' listmaxheight: '513px', // Optional, max height of play list music: [ &#123; // Required, music info, see: ###With playlist title: 'Sometimes When We Touch', // Required, music title author: 'Oliveia', // Required, music author url: 'https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/SometimesWhenWeTouch.mp3', // Required, music url pic: 'https://y.gtimg.cn/music/photo_new/T002R300x300M000003LIDEL0NQInJ.jpg?max_age=2592000', // Optional, music picture lrc: 'https://æ­Œè¯.lrc' // Optional, lrc, see: ###With lrc &#125;, &#123; "title": "å¤§é±¼", "author": "å‘¨æ·±", "url": "https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/bigfish.mp3", "pic": "https://y.gtimg.cn/music/photo_new/T002R300x300M000004Y7V4s3ug4cC.jpg?max_age=2592000", "lrc": "https://æ­Œè¯.lrc" &#125; ]&#125;);&lt;/script&gt; åªæ˜¯æ¢æˆäº†JSçš„è¯­æ³•ï¼Œå…¶å®åŸç†ï¼Œå‚æ•°éƒ½ä¸€æ ·ã€‚ç„¶åæ‰§è¡Œä¸‰æ­¥èµ°å°±å¯ä»¥çœ‹åˆ°å•¦ï¼Œæ³¨æ„æœ‰æµè§ˆå™¨ç¼“å­˜ï¼Œæ‰€ä»¥å¤šåˆ·æ–°å‡ æ¬¡å°±ä¼šæœ‰äº†ã€‚ æ­Œè¯ã€éŸ³ä¹å¤–é“¾ç›¸å…³æ­Œæ›²è¯´è¿‡å¤§å®¶å¯ä»¥ç”¨ä¸ƒç‰›çš„å…è´¹å­˜å‚¨åŠŸèƒ½ï¼Œä½†æ˜¯ä¼šå‘ç°ä¸€ä¸ªé—®é¢˜ä¸ƒç‰›çš„æ­Œæ›²å¤–é“¾ä¸æ”¯æŒhttpsï¼Œè¿™ä¼šå¯¼è‡´é…ç½®æœ‰sslè¯ä¹¦çš„äººæ‰ç»¿é”ï¼Œå…¶å®å¦‚æœæœ‰è¿™ä¸ªéœ€æ±‚çš„å¤§å®¶å¯ä»¥æ”¾å¼ƒä¸ƒç‰›ï¼Œæ”¹ç”¨è…¾è®¯äº‘ï¼Œè¿™æ ·å°±OKå•¦ï¼Œä¸€æ ·çš„æ“ä½œã€‚ å¥½å¤šäººé—®æ­Œè¯çš„URLå¥½éš¾æ‰¾å•Šï¼Œå»å“ªé‡Œæ‰¾å‘¢ï¼Œå¤§å®¶å¯ä»¥çœ‹ä¸‹è¿™ä¸ª MeetingJSè¿™ä¸ªå…¶å®æ˜¯åŸºäºAplayerçš„ä¸€ä¸ªå°å°è£…ï¼Œç›®çš„æ˜¯ç®€åŒ–Aplayerçš„æ¥å…¥æˆæœ¬ï¼Œä½†æ˜¯å› ä¸ºä¹‹å‰æˆ‘ä»‹ç»äº†æ¥å…¥æ­¥éª¤æ‰€ä»¥è¿™é‡Œæˆ‘ä»¬åªç”¨å®ƒçš„æ­Œè¯APIå°±å¯ä»¥ã€‚ttps://demo.meting.api.meto.moe/action/metingapi?server=tencent&amp;type=lrc&amp;id=004OQ5Mt0EmEzv å…¶ä¸­è¦æ”¹çš„åªæœ‰ä¸¤ä¸ªå‚æ•°seaveræ˜¯éŸ³ä¹å¹³å°åŒ…å«ç™¾åº¦ã€ç½‘æ˜“ã€QQéŸ³ä¹ç­‰å¹³å° idå­—æ®µå¯¹åº”çš„æ˜¯æ­Œæ›²çš„ID è¿™ä¸ªä½ åªè¦æ‰“å¼€ä¸ªæ­Œæ›²ç½‘é¡µé“¾æ¥é‡Œé¢åº”è¯¥éƒ½åŒ…å«idã€‚æ–‡ç« ç»“å°¾çš„æ’­æ”¾å°±æ˜¯è¿™ä¹ˆåŠ å…¥çš„ æœ€åæ•´ç¯‡æ–‡ç« åªæœ‰å¼€å§‹ä¸€å°éƒ¨åˆ†åœ¨è®²è§£å¦‚ä½•æ­å»ºåšå®¢ï¼Œåç»­çš„åŸºæœ¬éƒ½æ˜¯äº¤ç»™å¤§å®¶å¦‚ä½•ä¼˜åŒ–ï¼Œè°ƒæ•´ä¸€äº›ç»†èŠ‚é—®é¢˜å¦‚UIã€ç”¨æˆ·ä½“éªŒä¹‹ç±»çš„ï¼Œå½“ç„¶æˆ‘ä»¬èƒ½åšçš„è¿œè¿œä¸æ­¢è¿™äº›ï¼Œå¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜æ¬¢è¿ä¸æˆ‘æ¢è®¨ã€‚ä¸‹é¢çš„ç•™è¨€æˆ‘éƒ½ä¼šçœ‹çš„ã€‚æ­¤å¤–å½“æœ¬äººå¯¹HEXOæœ‰æ–°çš„çœ‹æ³•æˆ–è€…ç©æ³•çš„è¯è¯¥æ–‡ç« ä¼šä¸æ–­çš„æ›´æ–°ï¼Œå¸Œæœ›å¤§å®¶å…³æ³¨æˆ‘çš„å°ç«™ï¼Œæ„Ÿè°¢ã€‚ var options = {"narrow":false,"autoplay":true,"showlrc":3,"mutex":true,"music":[{"title":"å‡‰åŸ","author":"ä»»ç„¶","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/liangcheng.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M0000008nl2Y1HlxUm.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=002SKEeh1VzObP"},{"title":"Love Story","author":"ë¦° (LYn)","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/%E1%84%85%E1%85%B5%E1%86%AB-Love%20Story.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M0000048KLcQ4LDbZz.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=0028RAj0187nEg"},{"title":"å¤§é±¼","author":"å‘¨æ·±","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/bigfish.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000004Y7V4s3ug4cC.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=004OQ5Mt0EmEzv"}]}; options.element = document.getElementById("aplayer1"); new APlayer(options);]]></content>
      <categories>
        <category>é€šç”¨å¼€å‘</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>ä¸ªäººåšå®¢</tag>
        <tag>ç½‘ç«™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¯èƒ½æ˜¯æœ€å…¨çš„iOSç«¯HttpDnsé›†æˆæ–¹æ¡ˆ]]></title>
    <url>%2F2018%2F01%2F24%2F%E5%8F%AF%E8%83%BD%E6%98%AF%E6%9C%80%E5%85%A8%E7%9A%84iOS%E7%AB%AFHttpDns%E9%9B%86%E6%88%90%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[ç§‘æ™®ç‰‡1ã€DNSåŠ«æŒçš„å±å®³ ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°è¿™æ ·ä¸€ä¸ªç°è±¡ï¼Œåœ¨æ‰“å¼€ä¸€äº›ç½‘é¡µçš„æ—¶å€™ä¼šå¼¹å‡ºä¸€äº›ä¸æ‰€æµè§ˆç½‘é¡µä¸ç›¸å…³çš„å†…å®¹æ¯”å¦‚è¿™æ ·å¥‡(se)æ€ª(qing)çš„ä¸œè¥¿ æˆ–è€…è¿™æ · ï¼Œ å…¶å®é€ æˆè¿™æ ·çš„åŸå› å°±æ˜¯DNSåŠ«æŒï¼Œåœ¨æˆ‘ä»¬æ­£å¸¸æµè§ˆçš„ç½‘é¡µé“¾æ¥é‡Œé¢è¢«æ¶æ„æ’å…¥ä¸€äº›å¥‡æ€ªçš„ä¸œè¥¿ã€‚ä¸æ­¢æ˜¯è¿™äº›ï¼ŒDNSåŠ«æŒè¿˜ä¼šå¯¹æˆ‘ä»¬çš„ä¸ªäººä¿¡æ¯å®‰å…¨é€ æˆå¾ˆå¤§çš„ä¼¤å®³ï¼Œé’“é±¼ç½‘ç«™ä¹‹ç±»çš„ï¼Œä¹Ÿè®¸æˆ‘ä»¬æ‰€è®¿é—®çš„ç½‘ç«™æ ¹æœ¬ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ç½‘ç«™ï¼Œæˆ–è€…æ ¹æœ¬æ‰“ä¸å¼€ç½‘é¡µï¼Œæœ‰æ—¶è¿˜ä¼šæ¶ˆè€—æˆ‘ä»¬è¿‡å¤šçš„æµé‡ã€‚ 2ã€ä»€ä¹ˆæ˜¯DNSè§£æ ç°åœ¨å‡å¦‚æˆ‘ä»¬è®¿é—®ä¸€ä¸ªç½‘ç«™www.baidu.comä»æŒ‰ä¸‹å›è½¦åˆ°ç™¾åº¦é¡µé¢æ˜¾ç¤ºåˆ°æˆ‘ä»¬çš„ç”µè„‘ä¸Šä¼šç»å†å¦‚ä¸‹å‡ ä¸ªæ­¥éª¤ 1ï¼šè®¡ç®—æœºä¼šå‘æˆ‘ä»¬çš„è¿è¥å•†(ç§»åŠ¨ã€ç”µä¿¡ã€è”é€šç­‰)å‘å‡ºæ‰“å¼€www.baidu.comçš„è¯·æ±‚ã€‚ 2ï¼šè¿è¥å•†æ”¶åˆ°è¯·æ±‚åä¼šåˆ°è‡ªå·±çš„DNSæœåŠ¡å™¨ä¸­æ‰¾www.baidu.comè¿™ä¸ªåŸŸåæ‰€å¯¹åº”çš„æœåŠ¡å™¨çš„IPåœ°å€(ä¹Ÿå°±æ˜¯ç™¾åº¦çš„æœåŠ¡å™¨çš„IPåœ°å€)ï¼Œè¿™é‡Œæ¯”å¦‚æ˜¯180.149.132.47ã€‚ 3ï¼šè¿è¥å•†ç”¨ç¬¬äºŒæ­¥å¾—åˆ°çš„IPåœ°å€å»æ‰¾åˆ°ç™¾åº¦çš„æœåŠ¡å™¨è¯·æ±‚å¾—åˆ°æ•°æ®åè¿”å›ç»™æˆ‘ä»¬ã€‚ å…¶ä¸­ç¬¬äºŒæ­¥å°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„DNSè§£æè¿‡ç¨‹ï¼ŒåŸŸåå’ŒIPåœ°å€çš„å…³ç³»å…¶å®å°±æ˜¯æˆ‘ä»¬çš„èº«ä»½è¯å·å’Œå§“åçš„å…³ç³»ï¼Œéƒ½æ˜¯æ¥æ ‡è®°ä¸€ä¸ªäººæˆ–è€…æ˜¯ä¸€ä¸ªç½‘ç«™çš„ï¼Œåªæ˜¯IPåœ°å€\èº«ä»½è¯å·åªæ˜¯ä¸€ä¸²æ²¡æœ‰æ„ä¹‰çš„æ•°å­—ï¼Œè¾¨è¯†åº¦ä½ï¼Œåˆä¸å¥½è®°ï¼Œæ‰€ä»¥å°±ä¼šåœ¨IPä¸ŠåŠ ä¸Šä¸€ä¸ªåŸŸåä»¥ä¾¿åŒºåˆ†ï¼Œæˆ–æ˜¯åšçš„æ›´åŠ ä¸ªæ€§åŒ–ï¼Œä½†æ˜¯å¦‚æœçœŸçš„è¦æ¥å‡†ç¡®çš„åŒºåˆ†è¿˜æ˜¯è¦é èº«ä»½è¯å·ç æˆ–è€…æ˜¯IPçš„ï¼Œæ‰€ä»¥DNSè§£æå°±åº”è¿è€Œç”Ÿäº†ã€‚ 3ï¼šä»€ä¹ˆæ˜¯DNSåŠ«æŒDNSåŠ«æŒï¼Œæ˜¯æŒ‡åœ¨DNSè§£æè¿‡ç¨‹ä¸­æ‹¦æˆªåŸŸåè§£æçš„è¯·æ±‚ï¼Œç„¶ååšä¸€äº›è‡ªå·±çš„å¤„ç†ï¼Œæ¯”å¦‚è¿”å›å‡çš„IPåœ°å€æˆ–è€…ä»€ä¹ˆéƒ½ä¸åšä½¿è¯·æ±‚å¤±å»å“åº”ï¼Œå…¶æ•ˆæœå°±æ˜¯å¯¹ç‰¹å®šçš„ç½‘ç»œä¸èƒ½ååº”æˆ–è®¿é—®çš„æ˜¯å‡ç½‘å€ã€‚æ ¹æœ¬åŸå› å°±æ˜¯ä»¥ä¸‹ä¸¤ç‚¹ï¼š 1ï¼šæ¶æ„æ”»å‡»ï¼Œæ‹¦æˆªè¿è¥å•†çš„è§£æè¿‡ç¨‹ï¼ŒæŠŠè‡ªå·±çš„éæ³•ä¸œè¥¿åµŒå…¥å…¶ä¸­ã€‚ 2ï¼šè¿è¥å•†ä¸ºäº†åˆ©ç›Šæˆ–è€…ä¸€äº›å…¶ä»–çš„å› ç´ ï¼Œå…è®¸ä¸€äº›ç¬¬ä¸‰æ–¹åœ¨è‡ªå·±çš„é“¾æ¥é‡Œæ‰“æ‰“å¹¿å‘Šä¹‹ç±»çš„ã€‚ 4ï¼šé˜²æ­¢DNSåŠ«æŒ äº†è§£äº†DNSåŠ«æŒçš„ç›¸å…³èµ„æ–™åæˆ‘ä»¬å°±çŸ¥é“äº†ï¼Œé˜²æ­¢NDSåŠ«æŒå°±è¦ä»ç¬¬äºŒæ­¥å…¥æ‰‹ï¼Œå› ä¸ºDNSè§£æè¿‡ç¨‹æ˜¯è¿è¥å•†æ¥æ“ä½œçš„ï¼Œæˆ‘ä»¬ä¸èƒ½å»å¹²æ¶‰ä»–ä»¬ï¼Œä¸ç„¶æˆ‘ä»¬ä¹Ÿå°±æˆäº†åŠ«æŒè€…äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšçš„å°±æ˜¯åœ¨æˆ‘ä»¬è¯·æ±‚ä¹‹å‰å¯¹æˆ‘ä»¬çš„è¯·æ±‚é“¾æ¥åšä¸€äº›ä¿®æ”¹ï¼Œå°†æˆ‘ä»¬åŸæœ¬çš„è¯·æ±‚é“¾æ¥www.baidu.com ä¿®æ”¹ä¸º180.149.132.47ï¼Œç„¶åè¯·æ±‚å‡ºå»ï¼Œè¿™æ ·çš„è¯å°±è¿è¥å•†åœ¨æ‹¿åˆ°æˆ‘ä»¬çš„è¯·æ±‚åå‘ç°æˆ‘ä»¬ç›´æ¥ç”¨çš„å°±æ˜¯IPåœ°å€å°±ä¼šç›´æ¥ç»™æˆ‘ä»¬æ”¾è¡Œï¼Œè€Œä¸ä¼šå»èµ°ä»–è‡ªå·±DNSè§£æäº†ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬æŠŠè¿è¥å•†è¦åšçš„äº‹æƒ…è‡ªå·±å…ˆåšå¥½äº†ã€‚ä¸èµ°ä»–çš„DNSè§£æä¹Ÿå°±ä¸ä¼šå­˜åœ¨DNSè¢«åŠ«æŒçš„é—®é¢˜ï¼Œä»æ ¹æœ¬æ˜¯è§£å†³äº†ã€‚ æŠ€æœ¯ç¯‡5ï¼šé¡¹ç›®ä¸­çš„å®é™…æ“ä½œ5.1ï¼šDNSPODç›¸å…³ æˆ‘ä»¬çŸ¥é“è¦è¦æŠŠé¡¹ç›®ä¸­è¯·æ±‚çš„æ¥å£æ›¿æ¢æˆæˆIPå…¶å®å¾ˆç®€å•ï¼ŒURLæ˜¯å­—ç¬¦ä¸²ï¼ŒåŸŸåæ›¿æ¢IPï¼Œæ— éå°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ›¿æ¢è€Œå·²ï¼Œçš„ç¡®è¿™å—å…¶å®æ²¡æœ‰ä»€ä¹ˆæŠ€æœ¯å«é‡ï¼Œè€Œä¸”ç°åœ¨åƒé˜¿é‡Œäº‘(æ²¡å¼€æº)ï¼Œä¸ƒç‰›äº‘(å¼€æº)ï¼Œç­‰ä¸€äº›æ¯”è¾ƒå¤§çš„å¹³å°åœ¨è¿™æ–¹é¢ä¹Ÿéƒ½æœ‰äº†æ¯”è¾ƒæˆç†Ÿçš„è§£å†³æ–¹æ¡ˆï¼Œä¸€ä¸ªSDKï¼Œä¼ ä¸ªæ™®é€šçš„URLè¿›å»å°±ä¼šè¿”å›ä¸€ä¸ªåŸŸåè¢«æ›¿æ¢æˆIPçš„URLå‡ºæ¥ï¼Œä¹Ÿæ¯”è¾ƒå¥½ç”¨ï¼Œè¿™é‡Œè¦è¯´ä¸€ä¸‹IPåœ°å€çš„æ¥æºï¼Œå¦‚ä½•æ‹¿åˆ°ä¸€ä¸ªåŸŸåæ‰€å¯¹åº”çš„IPå‘¢ï¼Ÿè¿™é‡Œå°±æ˜¯éœ€è¦ç”¨åˆ°å¦ä¸€ä¸ªæœåŠ¡â€”â€”HTTPDNSï¼Œå›½å†…æ¯”è¾ƒæœ‰åçš„å°±æ˜¯DNSPODï¼ŒåŒ…æ‹¬é˜¿é‡Œï¼Œä¸ƒç‰›ç­‰ä¹Ÿæ˜¯ä½¿ç”¨ä»–ä»¬çš„DNSæœåŠ¡æ¥è§£æï¼Œå°±æ˜¯è¿™ä¸ª ä»–ä¼šç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬ä½¿ç”¨HTTPè¯·æ±‚çš„æ–¹å¼å»è¯·æ±‚è¿™ä¸ªæ¥å£ï¼Œå‚æ•°å¸¦ä¸Šæˆ‘ä»¬çš„åŸŸåï¼Œä»–ä»¬å°±ä¼šæŠŠåŸŸåå¯¹åº”çš„IPåˆ—è¡¨è¿”å›å›æ¥ã€‚ç±»ä¼¼è¿™æ ·ï¼š///è¿™ä¸ªè¯·æ±‚URLçš„ç»“æ„æ˜¯å›ºå®šçš„119.29.29.29æ˜¯DNSPODå›ºå®šçš„æœåŠ¡å™¨åœ°å€ï¼Œttlå‚æ•°çš„æ„æ€æ˜¯è¿”å›ç»“æœæ˜¯å¦å¸¦ttlæ˜¯ä¸ªBOOLï¼Œdnå°±æ˜¯æˆ‘ä»¬éœ€è¦è§£æçš„åŸŸåï¼Œidå°±æ˜¯æˆ‘ä»¬åœ¨dnspodä¸Šæ³¨å†Œæ—¶å€™ä»–ç»™æˆ‘ä»¬çš„ä¸€ä¸ªKEYNSString *url = [NSString stringWithFormat:@"http://119.29.29.29/d?ttl=1&amp;dn=www.baidu.com&amp;id=KEY"];NSMutableURLRequest * request = [NSMutableURLRequest requestWithURL:[NSURL URLWithString:url] cachePolicy:NSURLRequestUseProtocolCachePolicy timeoutInterval:10];NSData * data = [NSURLConnection sendSynchronousRequest:request returningResponse:nil error:&amp;networkError]; è¿™é‡Œä½¿ç”¨åŒæ­¥è¿˜æ˜¯å¼‚æ­¥éƒ½æ˜¯å¯ä»¥çš„ï¼Œå…·ä½“æ ¹æ®ä½ ä»¬ä¸šåŠ¡éœ€æ±‚ã€‚ 5.2ï¼šé¡¹ç›®ä¸­çš„ä½¿ç”¨ å…¶å®dnspodæœ€éš¾çš„éƒ¨åˆ†æ˜¯æ¥å…¥çš„éƒ¨åˆ†ï¼Œå› ä¸ºä¸åŒçš„APPä¸åŒçš„ç½‘ç»œç¯å¢ƒä¼šå¯¼è‡´å„ç§å„æ ·çš„é—®é¢˜ï¼Œå¦‚æœä½ æ˜¯ä¸€ä¸ªæ–°çš„é¡¹ç›®é‚£ä¹ˆæ¥å…¥éš¾åº¦ä¼šå¤§å¤§é™ä½ï¼Œå› ä¸ºä½ å®Œå…¨å¯ä»¥è‡ªå·±å°è£…ä¸€å¥—ç½‘ç»œè¯·æ±‚ï¼ŒæŠŠDNSè§£æç›¸å…³çš„é€»è¾‘éƒ½å°è£…åˆ°è‡ªå·±çš„ç½‘ç»œè¯·æ±‚ä¸­ï¼Œè¿™æ ·ä½ å°±å¯ä»¥å¾—åˆ°APPæ‰€æœ‰çš„ç½‘ç»œå±‚çš„æ§åˆ¶æƒï¼Œæƒ³å¹²ä»€ä¹ˆå°±å¹²ä»€ä¹ˆï¼Œä½†æ˜¯å¦‚æœæ˜¯åœ¨ä¸€ä¸ªå·²ç»æ¯”è¾ƒå®Œå–„çš„APPä¸­åŠ å…¥DNSé˜²åŠ«æŒçš„è¯é‚£å°±æ˜¯æ¯”è¾ƒå›°éš¾ï¼Œå› ä¸ºä½ ä¸èƒ½æ‹¿åˆ°æ‰€æœ‰ç½‘ç»œè¯·æ±‚çš„æ§åˆ¶æƒè¿™ç¯‡æ–‡ç« ä¸­æˆ‘ä¸»è¦ä½¿ç”¨æ˜¯NSURLProtocol + Runtime hookæ–¹å¼æ¥å¤„ç†è¿™äº›ä¸œè¥¿çš„ï¼ŒNSURLProtocolå±äºiOSé»‘é­”æ³•çš„ä¸€ç§å¯ä»¥æ‹¦æˆªä»»ä½•ä»APPçš„ URL Loading Systemç³»ç»Ÿä¸­å‘å‡ºçš„è¯·æ±‚ï¼Œå…¶ä¸­åŒ…æ‹¬å¦‚ä¸‹ File Transfer Protocol (ftp://) Hypertext Transfer Protocol (http://) Hypertext Transfer Protocol with encryption (https://) Local file URLs (file:///) Data URLs (data://) å¦‚æœä½ çš„è¯·æ±‚ä¸åœ¨ä»¥ä¸Šåˆ—è¡¨ä¸­å°±ä¸èƒ½è¿›è¡Œæ‹¦æˆªäº†ï¼Œæ¯”å¦‚WKWebviewï¼ŒAVPlayer(æ¯”è¾ƒç‰¹æ®Šï¼Œè™½ç„¶è¯·æ±‚ä¹Ÿæ˜¯http/httpsä½†æ˜¯å°±æ˜¯ä¸èµ°è¿™å¥—ç³»ç»Ÿï¼Œè‹¹æœçˆ¸çˆ¸å°±æ˜¯è¿™æ ·~)ç­‰ï¼Œå…¶å®å¯¹äºæ­£å¸¸æ¥è¯´å…‰ç”¨å·²ç»NSURLProtocolè¶³å¤Ÿäº†ã€‚ NSURLProtocolè¿™ä¸ªç±»æˆ‘ä»¬ä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ªä»–çš„å­ç±»ç„¶ååœ¨æˆ‘ä»¬çš„å­ç±»ä¸­æ“ä½œä»–ä»¬åƒè¿™æ · // æ³¨å†Œè‡ªå®šä¹‰protocol[NSURLProtocol registerClass:[CustomURLProtocol class]]; NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];configuration.protocolClasses = @[[CustomURLProtocol class]]; åœ¨è¿™ä¸ªç±»ä¸­æˆ‘ä»¬å¯ä»¥æ‹¦æˆªåˆ°è¯·æ±‚ï¼Œç„¶åè¿›è¡Œå¤„ç†ã€‚è¿™ä¸ªç±»ä¸­æœ‰å››ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•+ (BOOL)canInitWithRequest:(NSURLRequest *)request;+ (NSURLRequest *)canonicalRequestForRequest:(NSURLRequest *)request;- (void)startLoading;//å¯¹äºæ‹¦æˆªçš„è¯·æ±‚ï¼ŒNSURLProtocolå¯¹è±¡åœ¨åœæ­¢åŠ è½½æ—¶è°ƒç”¨è¯¥æ–¹æ³•- (void)stopLoading; + (BOOL)canInitWithRequest:(NSURLRequest *)request;é€šè¿‡è¿”å›å€¼æ¥å‘Šè¯‰NSUrlProtocolå¯¹è¿›æ¥çš„è¯·æ±‚æ˜¯å¦æ‹¦æˆªï¼Œæ¯”å¦‚æˆ‘åªæ‹¦æˆªHTTPçš„ï¼Œæˆ–è€…æ˜¯æŸä¸ªåŸŸåçš„è¯·æ±‚ä¹‹ç±» + (NSURLRequest )canonicalRequestForRequest:(NSURLRequest )request;å¦‚æœä¸Šé¢çš„æ–¹æ³•è¿”å›YESé‚£ä¹ˆrequestä¼šä¼ åˆ°è¿™é‡Œï¼Œè¿™ä¸ªåœ°æ–¹é€šå¸¸ä¸åšå¤„ç† ç›´æ¥è¿”å›request - (void)startLoading;è¿™ä¸ªåœ°æ–¹å°±æ˜¯å¯¹æˆ‘ä»¬æ‹¦æˆªçš„è¯·æ±‚åšä¸€äº›å¤„ç†ï¼Œæˆ‘ä»¬æ–‡ä¸­æ‰€åšçš„IPå¯¹åŸŸåçš„æ›¿æ¢å°±åœ¨è¿™é‡Œè¿›è¡Œï¼Œå¤„ç†å®Œä¹‹åå°†è¯·æ±‚è½¬å‘å‡ºå»ï¼Œæ¯”å¦‚è¿™æ ·- (void)startLoading &#123;///å…¶ä¸­customRequestæ˜¯å¤„ç†è¿‡çš„è¯·æ±‚(åŸŸåæ›¿æ¢åçš„) NSURLSession *session = [NSURLSession sessionWithConfiguration:[[NSURLSessionConfiguration alloc] init] delegate:self delegateQueue:nil]; NSURLSessionDataTask *task = [session dataTaskWithRequest:customRequest]; [task resume];&#125; ä½ å¯ä»¥åœ¨ - startLoading ä¸­ä½¿ç”¨ä»»ä½•æ–¹æ³•æ¥å¯¹åè®®å¯¹è±¡æŒæœ‰çš„ request è¿›è¡Œè½¬å‘ï¼ŒåŒ…æ‹¬ NSURLSessionã€ NSURLConnection ç”šè‡³ä½¿ç”¨ AFNetworking ç­‰ç½‘ç»œåº“ï¼Œåªè¦ä½ èƒ½åœ¨å›è°ƒæ–¹æ³•ä¸­æŠŠæ•°æ®ä¼ å› clientï¼Œå¸®åŠ©å…¶æ­£ç¡®æ¸²æŸ“å°±å¯ä»¥ï¼Œæ¯”å¦‚è¿™æ ·ï¼š- (void)URLSession:(NSURLSession *)session dataTask:(NSURLSessionDataTask *)dataTask didReceiveResponse:(NSURLResponse *)response completionHandler:(void (^)(NSURLSessionResponseDisposition))completionHandler &#123; [[self client] URLProtocol:self didReceiveResponse:response cacheStoragePolicy:NSURLCacheStorageAllowed]; completionHandler(NSURLSessionResponseAllow);&#125;- (void)URLSession:(NSURLSession *)session dataTask:(NSURLSessionDataTask *)dataTask didReceiveData:(NSData *)data &#123; [[self client] URLProtocol:self didLoadData:data];&#125; clientåœ¨åé¢ä¼šæœ‰è®²è§£ã€‚ - (void)stopLoading;è¯·æ±‚å®Œæ¯•åè°ƒç”¨å¤§æ¦‚çš„æ‰§è¡Œæµç¨‹æ˜¯è¿™æ · åœ¨NSURLProtocolä¸­æœ‰ä¸€ä¸ªè´¯ç©¿å§‹ç»ˆçš„å˜é‡/*! @method client @abstract Returns the NSURLProtocolClient of the receiver. @result The NSURLProtocolClient of the receiver. */@property (nullable, readonly, retain) id &lt;NSURLProtocolClient&gt; client; ä½ å¯ä»¥è®¤ä¸ºæ˜¯è¿™ä¸ªæ˜¯è¯·æ±‚çš„å‘é€è€…ï¼Œæ‰“ä¸ªæ¯”æ–¹ï¼ŒAæƒ³ç»™Bå‘é€ä¸€ä¸ªæ¶ˆæ¯ï¼Œç”±äºè·ç¦»é¥è¿œäºæ˜¯Aå»äº†é‚®å±€ï¼ŒAæŠŠæ¶ˆæ¯å†…å®¹å‘Šè¯‰äº†é‚®å±€ï¼Œå¹¶ä¸”Aåœ¨é‚®å±€ç™»è®°äº†è‡ªå·±åå­—æ–¹ä¾¿Bæœ‰åé¦ˆçš„æ—¶å€™é‚®å±€æ¥é€šçŸ¥AæŸ¥æ”¶ã€‚è¿™ä¸ªä¾‹å­ä¸­é‚®å±€å°±æ˜¯NSURLProtocolï¼ŒAåœ¨é‚®å±€ç™»è®°çš„åå­—å°±æ˜¯clientã€‚æ‰€æœ‰çš„ client éƒ½å®ç°äº† NSURLProtocolClient åè®®ï¼Œåè®®çš„ä½œç”¨å°±æ˜¯åœ¨ HTTP è¯·æ±‚å‘å‡ºä»¥åŠæ¥å—å“åº”æ—¶å‘å…¶å®ƒå¯¹è±¡ä¼ è¾“æ•°æ®ï¼š@protocol NSURLProtocolClient &lt;NSObject&gt;...- (void)URLProtocol:(NSURLProtocol *)protocol didReceiveResponse:(NSURLResponse *)response cacheStoragePolicy:(NSURLCacheStoragePolicy)policy;- (void)URLProtocol:(NSURLProtocol *)protocol didLoadData:(NSData *)data;- (void)URLProtocolDidFinishLoading:(NSURLProtocol *)protocol;...@end å½“ç„¶è¿™ä¸ªåè®®ä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„æ–¹æ³•ï¼Œæ¯”å¦‚ HTTPS éªŒè¯ã€é‡å®šå‘ä»¥åŠå“åº”ç¼“å­˜ç›¸å…³çš„æ–¹æ³•ï¼Œä½ éœ€è¦åœ¨åˆé€‚çš„æ—¶å€™è°ƒç”¨è¿™äº›ä»£ç†æ–¹æ³•ï¼Œå¯¹ä¿¡æ¯è¿›è¡Œä¼ é€’ã€‚åˆ°æ­¤æ­£å¸¸æƒ…å†µä¸‹çš„DNSçš„è§£æè¿‡ç¨‹å·²ç»ç»“æŸï¼Œå¦‚æœä½ å‘ç°æŒ‰ç…§å¦‚ä¸Šæ“ä½œä¹‹åå¹¶æ²¡æœ‰è¾¾åˆ°é¢„æœŸæ•ˆæœé‚£ä¹ˆè¯·å¾€ä¸‹çœ‹ï¼Œ(é€šå¸¸æƒ…å†µä¸‹å®Œæˆä»¥ä¸Šæ“ä½œ åŸæœ‰çš„URLçš„å°±ä¼šå˜æˆhttp://123.456.789.123/XXX/XXX/XXXçš„æ ¼å¼ã€‚å¦‚æœå‘ç°è¯·æ±‚ä¸æˆåŠŸå°±å¾€ä¸‹çœ‹å§) 6ï¼šé‡åˆ°çš„å‘ç‚¹6.1ï¼šæˆ‘ä»¬çŸ¥é“è¿è¥å•†æœ¬æ¥æ˜¯æ ¹æ®åŸŸåæ¥ç¡®å®šä¸€ä¸ªURLçš„ï¼Œæˆ‘ä»¬å°†åŸŸåæ”¹ä¸ºIPä¹‹åè™½ç„¶ä¸ç”¨è¿è¥å•†å¸®æˆ‘ä»¬è§£æäº†ï¼Œä½†æ˜¯è¿è¥å•†åœ¨æ”¶åˆ°ä¸€ä¸²æ•°å­—çš„æ—¶å€™ä¹Ÿæ˜¯æ‡µé€¼çŠ¶æ€ï¼Œæˆ‘ä»¬è¿˜æ˜¯éœ€è¦å°†åŸŸåä¼ ç»™ä»–ä»¬ï¼Œä½†æ˜¯ä¸èƒ½ç”¨æ­£å¸¸çš„æ–¹å¼ä¼ ï¼Œæˆ‘ä»¬éœ€è¦æŠŠåŸæ¥çš„åŸŸååŠ åˆ°httpè¯·æ±‚çš„Headerä¸­çš„hostå­—æ®µä¸‹ï¼Œæ ¹æ®Httpåè®®çš„è§„å®šï¼Œå¦‚æœåœ¨URLä¸­æ— æ³•æ‰¾åˆ°åŸŸåçš„è¯å°±ä¼šå»Headerä¸­æ‰¾ï¼Œè¿™æ ·ä¸€æ¥æˆ‘ä»¬æ—¢æŠŠåŸŸåå‘Šè¯‰äº†è¿è¥å•†åŒæ—¶ä¹Ÿç›´æ¥åˆ¶å®šäº†IPåœ°å€ï¼Œè¿™ä¸ªæ˜¯å¿…é¡»é…ç½®çš„ï¼Œä¸ç„¶çš„è¯æ˜¯è¯·æ±‚ä¸æˆåŠŸçš„ã€‚[mutableRequest setValue:self.request.URL.host forHTTPHeaderField:@"HOST"]; åŠ ä¸ŠHeaderå†å»è¯·æ±‚å°±æ²¡é—®é¢˜äº†ï¼Œä¸è¿‡æœ‰äº›ç‰¹æ®Šçš„æƒ…å†µä¸‹ä¼šéœ€è¦å¸¦ä¸Šcookieï¼ŒåŒæ ·ä¹Ÿæ˜¯åŠ åˆ°Headerä¸­[mutableRequest setValue:YOUR Cookie forHTTPHeaderField:@"Cookie"]; 6.2ï¼šå…³äºAfNetworkingçš„é—®é¢˜ï¼Œç°åœ¨å¤§éƒ¨åˆ†ç½‘ç»œè¯·æ±‚æ˜¯åŸºäºAfnetworkingçš„ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå‘ï¼Œæˆ‘ä»¬çŸ¥é“æˆ‘ä»¬æ³¨å†ŒCustomProtocolçš„æ—¶å€™æ˜¯è¿™æ · // æ³¨å†Œè‡ªå®šä¹‰protocol[NSURLProtocol registerClass:[CustomURLProtocol class]]; NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration];configuration.protocolClasses = @[[CustomURLProtocol class]]; åœ¨ç³»ç»Ÿçš„configurationåŠ å…¥æˆ‘ä»¬çš„CustomProtocolï¼ŒprotocolClassesæ˜¯ä¸€ä¸ªæ•°ç»„é‡Œé¢å¯ä»¥æ”¾å¾ˆå¤šå„ç§ä¸åŒçš„CustomProtocolï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸‹afnetworkingçš„åˆå§‹åŒ–æ–¹æ³•ã€‚AFHTTPSessionManager * sessionManager = [AFHTTPSessionManager manager]; æˆ‘ç›¸ä¿¡å¤§å®¶é€šå¸¸éƒ½ä¼šè¿™ä¹ˆæ¥åˆ›å»ºï¼Œä½†æ˜¯è¿™é‡Œæˆ‘è¦è¯´ä¸‹managerå¹¶ä¸æ˜¯ä¸€ä¸ªå•åˆ©ï¼Œæœ€åéƒ½ä¼šè°ƒåˆ°ä¸€ä¸ªæ–¹æ³•- (instancetype)initWithSessionConfiguration:(NSURLSessionConfiguration *)configuration &#123; self = [super init]; if (!self) &#123; return nil; &#125; if (!configuration) &#123; configuration = [NSURLSessionConfiguration defaultSessionConfiguration]; &#125; self.sessionConfiguration = configuration; self.operationQueue = [[NSOperationQueue alloc] init]; self.operationQueue.maxConcurrentOperationCount = 1; self.session = [NSURLSession sessionWithConfiguration:self.sessionConfiguration delegate:self delegateQueue:self.operationQueue]; . . .&#125; å¤§å®¶æ³¨æ„ç¬¬äºŒä¸ªåˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰ä¼ å…¥configurationçš„è¯ä»–ä¼šåˆ›å»ºä¸€ä¸ªé»˜è®¤çš„ï¼Œè¿™æ ·ä»¥è‡³äºæˆ‘ä»¬ä¹‹å‰åœ¨configurationçš„protocolClassesä¸­æ³¨å†Œç±»å…¨éƒ¨è¢«è¿™ä¸ªæ–°çš„configurationæ›¿æ¢æ‰äº†ï¼Œæ‰€ä»¥æ— æ³•è§£æã€‚è¿™é‡Œæˆ‘é‡‡å–çš„åŠæ³•å°±æ˜¯runtime hookï¼Œå› ä¸ºhookç¬¬ä¸‰æ–¹çš„ä»£ç å¹¶ä¸æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„åŠæ³•ï¼Œæ‰€ä»¥æˆ‘ç›´æ¥hook NSURLSessionçš„sessionWithConfigurationæ–¹æ³•ï¼Œå› ä¸ºé€šè¿‡è§‚å¯ŸAfnetworkingçš„æºç æœ€ç»ˆéƒ½æ˜¯èµ°åˆ°è¿™é‡Œçš„ã€‚Hookä¹‹åæŠŠè‡ªå·±çš„configurationæ¢è¿›å»ï¼Œåƒè¿™æ ·+ (NSURLSession *)swizzle_sessionWithConfiguration:(NSURLSessionConfiguration *)configuration &#123; NSURLSessionConfiguration *newConfiguration = configuration; // åœ¨ç°æœ‰çš„Configurationä¸­æ’å…¥æˆ‘ä»¬è‡ªå®šä¹‰çš„protocol if (configuration) &#123; NSMutableArray *protocolArray = [NSMutableArray arrayWithArray:configuration.protocolClasses]; [protocolArray insertObject:[CustomProtocol class] atIndex:0]; newConfiguration.protocolClasses = protocolArray; &#125; else &#123; newConfiguration = [NSURLSessionConfiguration defaultSessionConfiguration]; NSMutableArray *protocolArray = [NSMutableArray arrayWithArray:configuration.protocolClasses]; [protocolArray insertObject:[CustomProtocol class] atIndex:0]; newConfiguration.protocolClasses = protocolArray; &#125; return [self swizzle_sessionWithConfiguration:newConfiguration];&#125; ç„¶åå°±å®Œç¾è§£å†³äº†ã€‚ä¸è¿‡è¦æ³¨æ„ä¸‹ç³»ç»Ÿçš„æ˜¯æœ‰ä¸¤ä¸ªæ–¹æ³•çš„/* * Customization of NSURLSession occurs during creation of a new session. * If you only need to use the convenience routines with custom * configuration options it is not necessary to specify a delegate. * If you do specify a delegate, the delegate will be retained until after * the delegate has been sent the URLSession:didBecomeInvalidWithError: message. */+ (NSURLSession *)sessionWithConfiguration:(NSURLSessionConfiguration *)configuration;+ (NSURLSession *)sessionWithConfiguration:(NSURLSessionConfiguration *)configuration delegate:(nullable id &lt;NSURLSessionDelegate&gt;)delegate delegateQueue:(nullable NSOperationQueue *)queue; è¿™ä¸¤ä¸ªæ–¹æ³•ä¸èƒ½ç¡®å®šæœ€ç»ˆä¼šèµ°é‚£ä¸ªï¼Œæ‰€ä»¥ä¸ºäº†ä¿é™©èµ·è§éƒ½hookä¸‹ï¼Œhookçš„æ–¹å¼æ˜¯ä¸€æ ·çš„6.3ï¼šAVPlayerè¯·æ±‚ï¼ŒAVPlayeræ˜¯æˆ‘ä»¬iOSç³»ç»Ÿä¸­ç³»ç»Ÿè‡ªå¸¦çš„æ’­æ”¾è§†é¢‘çš„æ¡†æ¶ï¼Œç”¨åˆ°åœ°æ–¹ä¹Ÿå¾ˆå¤šï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯æ¯”è¾ƒå‘çš„ï¼Œå› ä¸ºAVPlayerè™½ç„¶ä¹Ÿæœ‰http/https/fileâ€¦â€¦è¯·æ±‚è¿™ä¸ªæ¦‚å¿µï¼Œä½†æ˜¯AVPlayeræ‰€æœ‰çš„è¯·æ±‚éƒ½ä¸ä¼šèµ°URL Loading Systemï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰ç”±AVPlayerå‘å‡ºçš„è¯·æ±‚éƒ½ä¸èƒ½è¢«æˆ‘ä»¬çš„CustomProtocolæ‹¦æˆªï¼Œè¿™æ—¶å€™å¤§å®¶ä¹Ÿè®¸ä¼šé—®ï¼Œä¸å¯¹å‘€ï¼Œæˆ‘ä»¬æ­£å¸¸è°ƒè¯•çš„æ—¶å€™å¯ä»¥è¢«æ‹¦æˆªåˆ°çš„å•Šã€‚å…¶å®è‹¹æœå®˜æ–¹ä¸Šæ˜¯è¯´AVPlayeråœ¨çœŸæœºè°ƒè¯•å’Œæ¨¡æ‹Ÿå™¨è°ƒè¯•æ—¶å€™èµ°çš„å®Œå…¨ä¸æ˜¯ä¸€å¥—ç­–ç•¥ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨æ¨¡æ‹Ÿå™¨è¿è¡Œæ—¶å€™æ˜¯å®Œå…¨æ­£å¸¸çš„ï¼Œå¯ä»¥è¢«æ‹¦æˆªåˆ°ä¹Ÿå¯ä»¥è¢«è§£æï¼Œä½†æ˜¯åœ¨çœŸæœºä¸Šé¢å°±æ°æ°ç›¸åäº†ï¼Œå› ä¸ºæˆ‘ä»¬æœ€åè¿˜æ˜¯ä»¥çœŸæœºä¸ºå‡†ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡å–çš„åŠæ³•è¿˜æ˜¯hookï¼Œå› ä¸ºæˆ‘ä»¬éœ€è¦åœ¨åª’ä½“URLä¼ ç»™AVPlayerå‰å°±è¦å°†ç›¸å…³ä¸œè¥¿é…ç½®å¥½ï¼ŒåŸŸåæ›¿æ¢å•Šï¼ŒåŠ hostå•Šä¹‹ç±»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦æ‰¾AVPlayerçš„å…¥å£ï¼Œå…ˆçœ‹åˆå§‹åŒ–æ–¹æ³•ï¼Œæˆ‘å‘ç°é¡¹ç›®ä¸­ä½¿ç”¨ä¸€ä¸ªAVURLAssetæ¥åˆå§‹åŒ–AVPlayerï¼Œé‚£ä¹ˆAVURLAssetåˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿç»§ç»­æŸ¥åˆ°AVURLAssetçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¯ä»¥å‘ç°è¿™ä¸ªæ–¹æ³•ï¼š/*! @method initWithURL:options: @abstract Initializes an instance of AVURLAsset for inspection of a media resource. @param URL An instance of NSURL that references a media resource. @param options An instance of NSDictionary that contains keys for specifying options for the initialization of the AVURLAsset. See AVURLAssetPreferPreciseDurationAndTimingKey and AVURLAssetReferenceRestrictionsKey above. @result An instance of AVURLAsset.*/- (instancetype)initWithURL:(NSURL *)URL options:(nullable NSDictionary&lt;NSString *, id&gt; *)options NS_DESIGNATED_INITIALIZER; å…¶ä¸­URLå°±æ˜¯æˆ‘ä»¬ä¼ ç»™AVPlayeræ’­æ”¾çš„URLï¼Œæ‰¾åˆ°ç›®æ ‡å°±Hookä¸‹å°±å¯ä»¥äº†ï¼Œå…·ä½“è¿‡ç¨‹å°±ä¸å¤šè¯´äº†è¿˜æ˜¯å­—ç¬¦ä¸²æ›¿æ¢ï¼Œä½†æ˜¯æœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä¹‹å‰ä¸Šæ–‡è¯´è¿‡åšå®ŒIPå¯¹åŸŸåçš„æ›¿æ¢ä¹‹åè¿˜éœ€è¦è®¾ç½®ä¸‹requestçš„Hostï¼Œä½†æ˜¯è¿™ä¸ªåœ°æ–¹åªæœ‰ä¸€ä¸ªURLå¹¶æ²¡æœ‰Requestè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿå…¶å®è¿™ä¸ªæ–¹æ³•é‡Œé¢çš„opinionå‚æ•°å°±æ˜¯å¤„ç†è¿™ä¸ªçš„ï¼Œå¯ä»¥æ·»åŠ cookieä¹‹ç±»çš„ç±»ä¼¼ä¸httpheaderçš„ä¸œè¥¿ï¼Œå¯ä»¥æ·»åŠ è¿™å‡ ä¸ªKeyAVF_EXPORT NSString *const AVURLAssetPreferPreciseDurationAndTimingKey NS_AVAILABLE(10_7, 4_0);AVF_EXPORT NSString *const AVURLAssetReferenceRestrictionsKey NS_AVAILABLE(10_7, 5_0);AVF_EXPORT NSString *const AVURLAssetHTTPCookiesKey NS_AVAILABLE_IOS(8_0);AVF_EXPORT NSString *const AVURLAssetAllowsCellularAccessKey NS_AVAILABLE_IOS(10_0); ä½†æ˜¯å¹¶æ²¡æœ‰å‘ç°å’ŒHostç›¸å…³çš„Keyï¼Œå…¶å®è¿™ä¸ªkeyæ˜¯æœ‰çš„å°±æ˜¯AVURLAssetHTTPHeaderFieldsKeyåªæ˜¯å› ä¸ºè¿™ä¸ªKeyæ²¡æš´éœ²å‡ºæ¥ã€‚è¿™ä¸ªåœ°æ–¹ä¸å¤ªç¡®å®šæ˜¯ä¸æ˜¯è‹¹æœçš„ç§æœ‰APIï¼Œç½‘ä¸ŠæŸ¥äº†å¤§é‡çš„èµ„æ–™ä¹Ÿæ²¡æœ‰ä¸ªè¯´æ³•ï¼Œç”šè‡³æˆ‘äº²è‡ªå»è‹¹æœå¼€å‘è€…å»é—®ï¼Œè‹¹æœä¹Ÿæ²¡æœ‰ç»™ä»»ä½•ç­”å¤ï¼Œå„ç§è¯´æ³•éƒ½æœ‰ï¼Œå…·ä½“ä½¿ç”¨çš„è¯å°±æ˜¯[self swizzle_initWithURL:videoURL options:@&#123;AVURLAssetHTTPHeaderFieldsKey : @&#123;@"Host":host&#125;&#125;] è¿™æ ·ä½¿ç”¨æ˜¯æ²¡æœ‰ä»»ä½•é—®é¢˜çš„ï¼Œä½†æ˜¯æ¯•ç«Ÿæ˜¯æ²¡æœ‰æš´éœ²å‡ºæ¥çš„æ–¹æ³•ï¼Œæˆ‘ä»¬ä¸èƒ½è¿™æ ·æ˜ç›®å¼ èƒ†çš„ä½¿ç”¨ï¼Œå…¶å®å¯¹äºå­—ç¬¦ä¸²æ¥è¯´è¿˜æ˜¯æ¯”è¾ƒå¥½è§„é¿çš„ï¼Œåªè¦ä¸è¦æ˜æ–‡å‡ºç°è¿™ä¸ªKEYå°±å¯ä»¥ï¼Œæˆ‘åœ¨è¿™é‡Œä½¿ç”¨äº†ä¸€ä¸ªåŠ å¯†ï¼Œå§keyå˜æˆå¯†æ–‡ç„¶åè¿™ä¸ªåœ°æ–¹é€šè¿‡è§£å¯†è·å–ï¼Œå°±åƒè¿™æ ·ï¼š//åŠ å¯†åçš„KEYconst NSString * headerKey = @"35905FF45AFA4C579B7DE2403C7CA0CCB59AA83D660E60C9D444AFE13323618F";...//getRequestHeaderKeyæ–¹æ³•ä¸ºè§£å¯†æ–¹æ³•return [self swizzle_initWithURL:videoURL options:@&#123;[self getRequestHeaderKey] : @&#123;@"Host":host&#125;&#125;]; è¿™æ ·ä¹‹åå°±å¤§åŠŸå‘Šæˆäº†ï¼ŒAVPlayerå¯ä»¥åœ¨DNSè¢«åŠ«æŒçš„æƒ…å†µä¸‹æ’­æ”¾äº†ï¼Œ6.4ï¼šPOSTè¯·æ±‚è¿™å—ä¹Ÿç®—æ˜¯ä¸€ä¸ªå¤§å‘ï¼Œæˆ‘ä»¬çŸ¥é“httpçš„postè¯·æ±‚ä¼šåŒ…å«ä¸€ä¸ªbodyä½“ï¼Œé‡Œé¢åŒ…å«æˆ‘ä»¬éœ€è¦ä¸Šä¼ çš„å‚æ•°ç­‰ä¸€äº›èµ„æ–™ï¼Œå¯¹äºPOSTè¯·æ±‚æˆ‘ä»¬çš„NSURLProtocolæ˜¯å¯ä»¥æ­£å¸¸æ‹¦æˆªçš„ï¼Œä½†æ˜¯æˆ‘ä»¬æ‹¦æˆªä¹‹åå‘ç°æ— è®ºæ€ä¹ˆæ ·æˆ‘ä»¬è·å¾—çš„bodyä½“éƒ½ä¸ºnilï¼åæ¥æŸ¥äº†ä¸€äº›èµ„æ–™å‘ä¸‹åˆæ˜¯è‹¹æœçˆ¸çˆ¸åœ¨åšæ‰‹è„šã€‚NSURLProtocolåœ¨æ‹¦æˆªNSURLSessionçš„POSTè¯·æ±‚æ—¶ä¸èƒ½è·å–åˆ°Requestä¸­çš„HTTPBodyï¼Œè¿™ä¸ªè²Œä¼¼æ—©å°±å›½å¤–çš„è®ºå›ä¸Šä¼ å¼€äº†ï¼Œä½†å›½å†…å¥½åƒè¿˜é²œæœ‰äººçŸ¥ï¼Œæ®è‹¹æœå®˜æ–¹çš„è§£é‡Šæ˜¯Bodyæ˜¯NSDataç±»å‹ï¼Œå³å¯èƒ½ä¸ºäºŒè¿›åˆ¶å†…å®¹ï¼Œè€Œä¸”è¿˜æ²¡æœ‰å¤§å°é™åˆ¶ï¼Œæ‰€ä»¥å¯èƒ½ä¼šå¾ˆå¤§ï¼Œä¸ºäº†æ€§èƒ½è€ƒè™‘ï¼Œç´¢æ€§å°±æ‹¦æˆªæ—¶å°±ä¸æ‹·è´äº†ï¼ˆå†…æµæ»¡é¢è„¸ï¼‰ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠBodyæ•°æ®æ”¾åˆ°Headerä¸­ï¼Œä¸è¿‡Headerçš„å¤§å°å¥½åƒæ˜¯æœ‰é™åˆ¶çš„ï¼Œæˆ‘è¯•è¿‡2Mæ˜¯æ²¡æœ‰é—®é¢˜ï¼Œä¸è¿‡è¶…è¿‡10Må°±ç›´æ¥Request timeoutäº†ã€‚ã€‚ã€‚è€Œä¸”å½“Bodyæ•°æ®ä¸ºäºŒè¿›åˆ¶æ•°æ®æ—¶è¿™æ‹›ä¹Ÿæ²¡è¾™äº†ï¼Œå› ä¸ºHeaderé‡Œéƒ½æ˜¯æ–‡æœ¬æ•°æ®ï¼Œå¦ä¸€ç§æ–¹æ¡ˆå°±æ˜¯ç”¨ä¸€ä¸ªNSDictionaryæˆ–NSCacheä¿å­˜æ²¡æœ‰è¯·æ±‚çš„Bodyæ•°æ®ï¼Œç”¨URLä¸ºkeyï¼Œæœ€åæ–¹æ³•å°±æ˜¯åˆ«ç”¨NSURLSessionï¼Œè€è€å®å®ç”¨å¤è€çš„NSURLConnectionç®—äº†ã€‚ã€‚ã€‚ä½ ä»¥ä¸ºè¿™ä¹ˆå°±ç»“æŸäº†å—ï¼Ÿå¹¶æ²¡æœ‰ï¼Œåæ¥æŸ¥äº†å¤§é‡çš„èµ„æ–™å‘ç°ï¼Œæ—¢ç„¶postè¯·æ±‚çš„httpbodyæ²¡æœ‰è‹¹æœå¤åˆ¶ä¸‹æ¥ï¼Œé‚£æˆ‘ä»¬å°±ä¸ç”¨httpbodyï¼Œæˆ‘ä»¬å†å¾€åº•å±‚å»çœ‹å°±ä¼šå‘ç°HTTPBodyStreamè¿™ä¸ªä¸œè¥¿æˆ‘ä»¬å¯ä»¥é€šè¿‡ä»–æ¥è·å–è¯·æ±‚çš„bodyä½“å…·ä½“ä»£å—å¦‚ä¸‹#pragma mark -#pragma mark å¤„ç†POSTè¯·æ±‚ç›¸å…³POST ç”¨HTTPBodyStreamæ¥å¤„ç†BODYä½“- (NSMutableURLRequest *)handlePostRequestBodyWithRequest:(NSMutableURLRequest *)request &#123; NSMutableURLRequest * req = [request mutableCopy]; if ([request.HTTPMethod isEqualToString:@"POST"]) &#123; if (!request.HTTPBody) &#123; uint8_t d[1024] = &#123;0&#125;; NSInputStream *stream = request.HTTPBodyStream; NSMutableData *data = [[NSMutableData alloc] init]; [stream open]; while ([stream hasBytesAvailable]) &#123; NSInteger len = [stream read:d maxLength:1024]; if (len &gt; 0 &amp;&amp; stream.streamError == nil) &#123; [data appendBytes:(void *)d length:len]; &#125; &#125; req.HTTPBody = [data copy]; [stream close]; &#125; &#125; return req;&#125; è¿™æ ·ä¹‹åçš„reqå°±æ˜¯æºå¸¦äº†bodyä½“çš„requestå•¦ï¼Œå¯ä»¥æ„‰å¿«åœ°åšpostè¯·æ±‚å•¦ã€‚6.5ï¼šWKWebviewæ˜¯æ–°å‡ºçš„æµè§ˆå™¨æ§ä»¶ï¼Œè¿™é‡Œå°±ä¸å¤šè¯´äº†ï¼ŒWKWebviewä¸èµ°URL Loading Systemï¼Œæ‰€ä»¥ä¹Ÿä¸ä¼šè¢«æ‹¦æˆªï¼Œä¸è¿‡ä¹Ÿæ˜¯æœ‰åŠæ³•çš„ï¼Œä½†æ˜¯å› ä¸ºè¿™æ¬¡é¡¹ç›®ä¸­æ²¡æœ‰ç”¨åˆ°ï¼Œæ‰€ä»¥æ²¡æœ‰è¿‡å¤šçš„å»ç ”ç©¶ï¼Œåç»­æˆ‘ä¼šå†™ä¸€ç¯‡å…³äºè¿™ä¸ªåšå®¢ï¼Œä¸æ˜¯å¾ˆéš¾ï¼Œä¾æ—§æ˜¯runtimeå¤§æ³•ã€‚6.6ï¼šSNIç¯å¢ƒï¼Œè¿™ä¸ªå¯æ˜¯å‘äº†æˆ‘å¥½ä¹…å¥½ä¹…çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘ä¼šæ”¾åœ¨æœ€åå»è¯´ï¼ŒSNIç¯å¢ƒå› ä¸ºæ¶‰åŠåˆ°è¯ä¹¦éªŒè¯æ‰€ä»¥æ˜¯åœ¨httpsçš„åŸºç¡€ä¸Šæ¥è¯´çš„ï¼ŒSNIï¼ˆServer Name Indicationï¼‰æ˜¯ä¸ºäº†è§£å†³ä¸€ä¸ªæœåŠ¡å™¨ä½¿ç”¨å¤šä¸ªåŸŸåå’Œè¯ä¹¦çš„æ‰©å±•ã€‚ä¸€å¥è¯ç®€è¿°å®ƒçš„å·¥ä½œåŸç†å°±æ˜¯ï¼Œåœ¨è¿æ¥åˆ°æœåŠ¡å™¨å»ºç«‹SSLé“¾æ¥ä¹‹å‰å…ˆå‘é€è¦è®¿é—®ç«™ç‚¹çš„åŸŸåï¼ˆHostnameï¼‰ï¼Œè¿™æ ·æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªåŸŸåè¿”å›ä¸€ä¸ªåˆé€‚çš„è¯ä¹¦ã€‚å…¶å®å…³äºSNIç¯å¢ƒåœ¨è¿™é‡Œå°±ä¸è¿‡å¤šè§£é‡Šï¼Œé˜¿é‡Œäº‘æ–‡æ¡£æœ‰å¾ˆæ˜ç™½çš„è§£é‡Šï¼ŒåŒæ—¶ä»–ä¹Ÿæœ‰å®‰å“å’ŒiOSåœ¨SNIç¯å¢ƒä¸‹çš„å¤„ç†æ–‡æ¡£ï¼Œæˆ‘ä»¬å‘ç°å®‰å“éƒ¨åˆ†å†™çš„å¾ˆè¯¦ç»†ï¼Œå¯æ˜¯å·²åˆ°äº†iOSè¿™è¾¹å°±è¿™æ ·äº†ï¼š ä¸‰è¡Œæ–‡å­—åŠ ä¸‰ä¸ªé“¾æ¥å°±å®Œäº‹äº†ã€‚å…¶å®åœ¨é‡åˆ°è¿™ä¸ªå‘çš„æ—¶å€™æˆ‘ä¹ŸæŸ¥è¿‡å¾ˆå¤šç›¸å…³èµ„æ–™ï¼Œæ— éå°±æ˜¯è¿™ä¸‰è¡Œè¯åŠ è¿™ä¸‰ä¸ªé“¾æ¥å¤åˆ¶æ¥å¤åˆ¶å»ï¼Œæ²¡æœ‰å®è´¨æ€§çš„è¿›å±•ï¼Œå¤§éƒ¨åˆ†å…¬å¸æˆ–è€…æ˜¯é¡¹ç›®æ²¡æœ‰è¿™ä¹ˆé‡çš„Httpdnséœ€æ±‚ï¼Œæ‰€ä»¥ä¹Ÿå°±ä¸ä¼šæœ‰è¿™ä¸ªç¯å¢ƒï¼Œå³ä½¿é‡åˆ°äº†ä¹Ÿå°±ç›´æ¥å…³é—­httpdnsäº†ï¼Œåæ¥åªèƒ½è‡ªå·±å»ç”¨CFNetworkä¸€ç‚¹ç‚¹å®ç°ã€‚å…·ä½“ä»£ç å°±ä¸è·Ÿå¤§å®¶ç²˜è´´äº†å› ä¸ºæ¶‰åŠåˆ°ä¸€äº›å…¬å¸å†…éƒ¨çš„ä»£ç ï¼Œä¸è¿‡æˆ‘ä¼šæŠŠæˆ‘ä¸»è¦çš„å‚è€ƒèµ„æ–™å‘ç»™å¤§å®¶ã€‚è¿™é‡Œæœ‰ä¸ªå°æŠ€å·§ï¼Œå› ä¸ºéƒ½åœ¨è¯´CFNetworkæ˜¯æ¯”è¾ƒåº•å±‚çš„ç½‘ç»œå®ç°ï¼Œå¥½å¤šä¸œè¥¿éœ€è¦å¼€å‘è€…è‡ªè¡Œå¤„ç†æ¯”å¦‚ä¸€äº›å˜é‡çš„é‡Šæ”¾ä¹‹ç±»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬èƒ½å°‘ç”¨å°½é‡å°‘ç”¨ï¼Œå› ä¸ºCfnetworkæ˜¯ä¸ºSNI(https)ç¯å¢ƒæœåŠ¡,æ‰€ä»¥æˆ‘ä»¬åœ¨æ‹¦æˆªåˆ¤æ–­çš„æ—¶å€™å¯ä»¥åŒºåˆ†æ˜¯ç”¨ä¸Šå±‚çš„ç½‘ç»œè¯·æ±‚è½¬å‘è¿˜æ˜¯ç”¨åº•å±‚çš„cfnetworkæ¥è½¬å‘ï¼Œ if ([self.request.URL.scheme isEqualToString:@"https"] ) &#123;//ä½¿ç”¨CFnetwork curRequest = req; self.task = [[CustomCFNetworkRequestTask alloc] initWithURLRequest:originalRequest swizzleRequest:curRequest delegate:self]; if (self.task) &#123; [self.task startLoading]; &#125; &#125; else &#123;//ä½¿ç”¨æ™®é€šç½‘ç»œè¯·æ±‚ NSURLSessionConfiguration *configuration = [NSURLSessionConfiguration defaultSessionConfiguration]; self.session = [NSURLSession sessionWithConfiguration:configuration delegate:self delegateQueue:[NSOperationQueue mainQueue]]; NSURLSessionTask *task = [self.session dataTaskWithRequest:req]; [task resume]; &#125; æˆ‘æ˜¯è¿™ä¹ˆåšçš„ã€‚6.7ï¼šåœ¨NSURLProtocolä¸­çš„é‚£å‡ ä¸ªç±»æ–¹æ³•ä¸­æ˜¯å¯ä»¥å‘é€åŒæ­¥è¯·æ±‚çš„ï¼Œä½†æ˜¯åœ¨å®ä¾‹æ–¹æ³•å‘é€åŒæ­¥è¯·æ±‚å°±ä¼šå¡æ­»ï¼Œæ‰€ä»¥å®ä¾‹æ–¹æ³•ä¸­ä¸èƒ½æœ‰ä»»ä½•çš„é˜»å¡ï¼Œè¿›è¡ŒåŒæ­¥æ“ä½œã€‚ä¸ç„¶å°±å¡æ­»ã€‚7ï¼šæ€»ç»“ å®Œæˆäº†ä»¥ä¸Šçš„æ­¥éª¤ä¹‹åä½ å›å‘ç°åœ¨DNSåæ‰çš„æƒ…å†µä¸‹æ‰‹æœºé‡Œé¢é™¤äº†å¾®ä¿¡QQ(ä»–ä»¬ä¹Ÿåšäº†DNSè§£æ)ä¹‹å¤–å…¶ä»–åº”ç”¨éƒ½ä¸èƒ½ä¸Šç½‘äº†ä½†æ˜¯ä½ çš„Appä¾ç„¶å¯ä»¥æ­£å¸¸æµè§ˆç½‘ç»œæ•°æ®ã€‚è¿™å°±æ˜¯æˆ‘æœ€è¿‘åœ¨åšçš„æ—¶å€™é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæœ‰ä»€ä¹ˆé—®é¢˜åŠæ—¶ä¸æˆ‘äº¤æµå§]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
        <tag>åº•å±‚</tag>
        <tag>httpdns</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åœ¨iOSå·¥ç¨‹ä¸­Cocoapodsçš„ä½¿ç”¨]]></title>
    <url>%2F2018%2F01%2F24%2F%E5%9C%A8iOS%E5%B7%A5%E7%A8%8B%E4%B8%ADCocoapods%E7%9A%84%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬åœ¨å¼€å‘iOSç¨‹åºçš„æ—¶å€™ï¼Œå¾€å¾€éƒ½ä¼šæ ¹æ®éœ€è¦å¯¼å…¥å¾ˆå¤šçš„ç¬¬ä¸‰æ–¹æ¡†æ¶ï¼Œä½†æ˜¯ä¸åŒçš„æ¡†æ¶å®Œæˆçš„åŠŸèƒ½ä¸åŒï¼Œæ‰€ä»¥å¯¼å…¥çš„æ–¹å¼ä¹Ÿä¸åŒï¼Œå¹¶ä¸æ˜¯æŠŠå®ƒç›´æ¥æ‹–è¿›å·¥ç¨‹ä¸­å°±å®Œäº‹äº†ï¼Œæˆ‘ä»¬éœ€è¦é…ç½®å„ç§ç¯å¢ƒï¼Œé“¾æ¥å„ç§åº“æ–‡ä»¶ç­‰ç­‰ã€‚æœ‰çš„æ—¶å€™æˆ‘ä»¬å¹¶ä¸èƒ½ä¸€ä¸ªä¸æ¼çš„å®Œæˆå¯¼å…¥ï¼Œè€Œä¸€æ—¦å‡ºäº†é—®é¢˜ï¼Œå°¤å…¶æ˜¯é‚£äº›éœ€è¦æ¡†æ¶æ¯”è¾ƒå¤šçš„å·¥ç¨‹(æ¯”å¦‚æ—©æœŸçš„ç™¾åº¦åœ°å›¾æ¡†æ¶)ï¼Œå°†å¾ˆéš¾è§£å†³ï¼Œè€Œä¸”ï¼Œå¦‚æœé‡åˆ°äº†ç¬¬ä¸‰æ–¹åº“å‡çº§ï¼Œæ›´æ–°äº†æ–¹æ³•é‚£ä¹ˆæˆ‘ä»¬è¿˜éœ€è¦æŠŠä¹‹å‰çš„æ—§ç‰ˆæœ¬åˆ æ‰ï¼Œå†é‡å¤ä¸€ä¸‹å‰é¢çš„å·¥ä½œï¼Œè¿™å°†æ˜¯éå¸¸çš„ç¹çï¼Œæå¤§åœ°å½±å“äº†å¼€å‘çš„æ•ˆç‡ã€‚è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±éœ€è¦ç”¨åˆ°cocoapodsæ¥ç®¡ç†æˆ‘ä»¬çš„ç¬¬ä¸‰æ–¹äº†ï¼Œåœ¨æˆ‘ä»¬æœ‰äº†CocoaPodsè¿™ä¸ªå·¥å…·ä¹‹åï¼Œåªéœ€è¦å°†ç”¨åˆ°çš„ç¬¬ä¸‰æ–¹å¼€æºåº“æ”¾åˆ°ä¸€ä¸ªåä¸ºPodfileçš„æ–‡ä»¶ä¸­ï¼Œç„¶ååœ¨å‘½ä»¤è¡Œæ‰§è¡Œ$ pod installå‘½ä»¤ã€‚CocoaPodså°±ä¼šè‡ªåŠ¨å°†è¿™äº›ç¬¬ä¸‰æ–¹å¼€æºåº“çš„æºç ä¸‹è½½ä¸‹æ¥ï¼Œå¹¶ä¸”ä¸ºæˆ‘çš„å·¥ç¨‹è®¾ç½®å¥½ç›¸åº”çš„ç³»ç»Ÿä¾èµ–å’Œç¼–è¯‘å‚æ•°ï¼Œä¸ç®¡æ˜¯å¯¼å…¥è¿˜æ˜¯æ›´æ–°æˆ–è€…ç§»é™¤ï¼Œéƒ½æ˜¯ä¸€å¥å‘½ä»¤å°±æå®šçš„ã€‚ç½‘ä¸Šä¹Ÿæœ‰ç±»ä¼¼çš„æ•™ç¨‹ï¼Œä½†æ˜¯æœ‰äº›å¾ˆæ—§ï¼Œæœ‰äº›å†™çš„ä¸è¯¦ç»†ï¼Œå¯¼è‡´æ–°æ‰‹åœ¨ä½¿ç”¨çš„æ—¶å€™æ•´çš„ä¸€å¤´é›¾æ°´ï¼Œæˆ‘å°±æ¥è¯´ä¸‹ã€‚ ç¬¬ä¸€æ­¥ ï¼šé¦–å…ˆå®‰è£…cocoapodsè¦åœ¨rubyç¯å¢ƒä¸‹è¿›è¡Œï¼Œè™½ç„¶æˆ‘ä»¬çš„macç³»ç»Ÿéƒ½æ˜¯è‡ªå¸¦äº†rubyï¼Œä½†æ˜¯ä¸ºäº†ä¿é™©èµ·è§æˆ‘ä»¬è¿˜æ˜¯è¦å…ˆæ›´æ–°ä¸€ä¸‹rubyç¯å¢ƒï¼šåœ¨è¿™é‡Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨ sudo gem update â€“system å‘½ä»¤æ¥æ›´æ–°ï¼Œç½‘ä¸Šæœ‰çš„è¯´ä½¿ç”¨ gem update â€“system å‰é¢å°‘äº†sudoï¼Œå…¶å®åŠ sudoçš„ç›®çš„å°±æ˜¯ç”¨ç®¡ç†å‘˜çš„æƒé™å»æ‰§è¡Œè¿™å¥æ›´æ–°å‘½ä»¤ï¼Œä¸åŠ çš„è¯å®¹æ˜“å‡ºç°è¿™ä¸ªé”™è¯¯ æ„æ€æ˜¯ä½ æ²¡æœ‰æƒé™å»æ‰§è¡Œè¿™ä¸ªå‘½ä»¤ï¼Œç­‰å‡ºç°äº†RubyGems system software updated è¿™å¥è¯çš„æ—¶å€™å°±è¯æ˜å‡çº§æˆåŠŸäº†ã€‚ ç¬¬äºŒæ­¥ï¼šå®‰è£…cocoapodsæ—¶å€™æˆ‘ä»¬è¦è®¿é—®cocoapods.orgè¿™ä¸ªç½‘ç«™ï¼Œä¸ç”¨æƒ³è¿™ä¸ªç½‘ç«™å·²ç»è¢«å¢™äº†ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨æ·˜å®çš„rubyçš„é•œåƒæ¥è®¿é—®è¯¥ç½‘ç«™ã€‚é¦–å…ˆæˆ‘ä»¬è¾“å…¥ gem sources -l æ¥çœ‹ä¸€ä¸‹æˆ‘ä»¬ç°åœ¨æœ‰ä»€ä¹ˆï¼Œæˆ‘ç›®å‰é‡Œé¢åªæœ‰ä¸€ä¸ª ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œä¸è¿‡å¯èƒ½æœ‰äº›äººçš„é‡Œé¢ä¸æ­¢ä¸€ä¸ªï¼Œä¼šæœ‰å…¶ä»–çš„ä¸œè¥¿ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å…ˆç”¨gem sources â€“remove XXXXXXXXXXXXXXX æ¥æŠŠå…¶ä»–çš„sourceåˆ é™¤æ‰ï¼Œåªä¿ç•™è¿™ä¸€ä¸ªï¼Œå¦‚æœæ²¡æœ‰çš„è¯å°±æ‰‹åŠ¨æ·»åŠ ç”¨è¿™ä¸ªå‘½ä»¤ gem sources -a https://ruby.taobao.org/ æ¥å°†æˆ‘ä»¬éœ€è¦çš„æºæ·»åŠ è¿›å»ï¼Œæœ€åå†ç”¨é‚£ä¸ªæŸ¥çœ‹å‘½ä»¤ æœ€ååªæœ‰ç¡®ä¿åƒæˆ‘é‡Œé¢ä¸€æ ·åªæœ‰é‚£ä¸€ä¸ªå°±å¥½ï¼Œè¦æ³¨æ„çš„æ˜¯ https ç½‘ä¸Šå¥½å¤šæ•™ç¨‹å†™çš„æ˜¯ httpï¼Œé‚£ä¸ªå·²ç»ä½œåºŸäº† ç¬¬ä¸‰æ­¥ï¼šå®‰è£…æ˜¯cocoapods ä½¿ç”¨ sudo gem install cocoapods å‘½ä»¤æ¥å®‰è£…cocoapodsï¼Œä½ è¾“å…¥å®Œè¿™ä¸ªå‘½ä»¤å›è½¦åä¼šæç¤ºä½ è¾“å…¥å¯†ç ï¼Œè¿™æ—¶å€™æ˜¯æ²¡æœ‰å…‰æ ‡æç¤ºçš„ï¼Œä¹Ÿä¸ä¼šç§»åŠ¨ï¼Œå‡­æ„Ÿè§‰è¾“å…¥å¯¹ä¹‹åå°±å›è½¦å§ï¼Œç„¶åå°±æ˜¯ç­‰ï¼Œæ—¶é—´é•¿çŸ­æ˜¯æ ¹æ®ä½ çš„ç½‘é€Ÿæ¥çš„ã€‚å®‰è£…å®Œæˆåç»ˆç«¯å°±è¿›å…¥å¾…å‘½é˜¶æ®µäº†ã€‚ ç¬¬å››æ­¥ï¼šä½¿ç”¨searchå‘½ä»¤æ¥æœç´¢ç±»åº“ï¼Œè¿™ä¸ªæ˜¯æ”¯æŒæ¨¡ç³Šæœç´¢çš„ï¼Œè®°ä¸æ¸…å…¨åï¼Œæ‰“ä¸€éƒ¨åˆ†åä¹Ÿè¡Œï¼Œä¸è¿‡é‚£æ ·çš„å°±è¦ä»æœå‡ºæ¥çš„ä¸œè¥¿é‡Œæ‰¾ä½ æƒ³è¦çš„ç±»åº“äº†ã€‚æ¯”å¦‚æˆ‘æƒ³æ‰¾afnetworking æˆ‘å°±è¾“å…¥ pod search afn å›è½¦åå°±ä¼šè¾“å‡ºæ‰€æœ‰ä»¥afnå¼€å¤´çš„ç±»åº“åå­—ï¼Œåƒè¿™æ · æœå‡ºå¾ˆå¤šï¼Œå…¶ä¸­ç¬¬ä¸‰å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œafnetworkingï¼Œç”¨çº¢åœˆåœˆèµ·æ¥æ˜¯ä¸€ä¼šç¼–è¾‘podfileæ—¶å€™éœ€è¦ç”¨çš„ï¼Œå¯ä»¥å…ˆæŠŠä»–å¤åˆ¶ä¸‹æ¥çœçš„æ‰‹æ‰“ï¼Œåé¢çš„å°æ•°ä»£è¡¨çš„æ˜¯ç±»åº“çš„ç‰ˆæœ¬ï¼Œä¸€èˆ¬æ˜¯æœ€æ–°çš„æ˜¾ç¤ºåœ¨è¿™é‡Œï¼Œä¸‹é¢çš„versionæ˜¯å†å²ç‰ˆæœ¬ï¼Œå¦‚æœæœ‰éœ€è¦å¯ä»¥ç›´æ¥å¯¼å…¥å®ƒçš„å†å²ç‰ˆæœ¬ï¼Œå°±æ˜¯æŠŠåé¢çš„ç‰ˆæœ¬å·æ›¿æ¢ä¸‹å°±å¥½ã€‚ å€¼å¾—æ³¨æ„çš„æ˜¯å¦‚æœä½ ä¸æ˜¯ç¬¬ä¸€æ¬¡å®‰è£…cocoapodsï¼Œ é‚£ä¹ˆä¹‹å‰çš„ç¼“å­˜ä¼šå¯¹ä½ æœ‰å½±å“searchå…ˆæ¸…ç†ä¸‹ç¼“å­˜ ä½¿ç”¨è¿™ä¸ªå‘½ä¹‹åå°±å¯ä»¥äº† rm ~/Library/Caches/CocoaPods/search_index.jsonç¬¬äº”æ­¥ï¼šè¿›å…¥ä½ çš„å·¥ç¨‹ç›®å½•ï¼Œè¿™é‡Œå»ºè®®ç›´æ¥å³é”®ä½ å·¥ç¨‹ä¸­.xcodeprojæ–‡ä»¶é€‰æ‹©åœ¨ç»ˆç«¯ä¸­æ‰“å¼€ï¼Œç„¶å åœ¨ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤cd .. å°±ä¼šè·³åˆ°.xcodeprojæ‰€åœ¨çš„ç›®å½•ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ç›®å½•ï¼Œå¾ˆå¤šæ–°æ‰‹åœ¨è¿™ä¸ªåœ°æ–¹å®¹æ˜“å‡ºé”™ã€‚ç„¶åè¾“å…¥å‘½ä»¤ vim Podfileç†Ÿæ‚‰Linuxçš„ç”¨æˆ·éƒ½çŸ¥é“è¿™æ˜¯åˆ›å»ºä¸€ä¸ªPodfileæ–‡ä»¶å¹¶æ‰“å¼€ç¼–è¾‘ï¼ŒæŒ‰ â€œiâ€ è¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå°†ç¬¬äº”éƒ¨ç²˜è´´çš„ä¸œè¥¿æ‹·è´è¿›æ¥ï¼Œç„¶åä¾æ¬¡æ“ä½œescé”® -&gt; â€œ:â€ -&gt; è¾“å…¥wq ç„¶åè¾“å…¥å‘½ä»¤æ¥å®‰è£… pod update â€“verbose â€“no-repo-update ç­‰å¾…è¿‡åå°±å®‰è£…å®Œæˆå•¦ï¼Œå…¶å®ä½¿ç”¨pod installä¹Ÿå¯ä»¥ï¼Œåªæ˜¯åè€…éœ€è¦æ›´æ–°ä¸€ä¸ªä»“åº“ï¼Œè¿™æ˜¯ç›¸å½“è€—æ—¶çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å‰è€…æ¥é¿å…æ›´æ–°ä»“åº“å°±å¥½ï¼Œå¾ˆå¿«å°±ç»“æŸäº†ã€‚ å®‰è£…æˆåŠŸï¼ä»¥åæ‰“å¡å·¥ç¨‹å°±ç›´æ¥æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å°±å¥½å•¦ å…¶ä¸­podfileæ–‡ä»¶ä¸­æ˜¾ç¤ºäº†æˆ‘ä»¬è¿™ä¸ªå·¥ç¨‹ä¸­æ‰€ä»¥é›†æˆçš„ç¬¬ä¸‰æ–¹ï¼Œ æƒ³ä¿®æ”¹ç‰ˆæœ¬çš„è¯å°±æŠŠåé¢çš„ç‰ˆæœ¬å·æ”¹æˆä½ æ‰€éœ€è¦çš„ç‰ˆæœ¬å·å°±å¥½ï¼Œæƒ³åˆ é™¤çš„è¯å°±æŠŠè¿™è¡Œåˆ æ‰ï¼Œæƒ³æ·»åŠ çš„è¯å°±ç”¨ç¬¬äº”éƒ¨çš„æœç´¢å‘½ä»¤å»æœç´¢ç„¶ååŒæ ·æŠŠæœç´¢ç»“æœä¸­ä»¥podå¼€å¤´çš„é‚£å¥è¯å¤åˆ¶è¿›æ¥å°±å¥½ã€‚æ³¨æ„ä»¥ä¸Šæ‰€æœ‰çš„å¢åˆ æ”¹æ“ä½œå®Œæˆä¹‹åéœ€è¦åœ¨å»ç»ˆç«¯ä¸­ç›¸åº”çš„ç›®å½•ä¸‹ä½¿ç”¨ pod install â€“verbose â€“no-repo-update å‘½ä»¤æ¥æ›´æ–°ï¼Œè¿™æ ·æ‰ä¼šçœŸæ­£çš„ç”Ÿæ•ˆã€‚ ç¬¬å…­æ­¥ï¼šå…³äºcocoapodsçš„æ›´æ–°ã€‚æœ‰çš„æ—¶å€™åœ¨pod installçš„æ—¶å€™ä¼šå‡ºç°[!] The â€˜masterâ€™ repo requires CocoaPods 0.32.1 - è¿™æ ·çš„é”™è¯¯ï¼Œæ˜¯ç”±äºä½ cocoapodsç‰ˆæœ¬è¿‡ä½çš„åŸå› ï¼Œè¿™æ—¶å€™éœ€è¦è¿›è¡Œæ›´æ–°ï¼Œè·Ÿæ–°çš„è¿‡ç¨‹å…¶å®å°±æ˜¯æŠŠä»¥ä¸Šæ‰€æœ‰çš„ä»æ–°èµ°ä¸€éå°±ç›¸å½“äºå®‰è£…éå°±å¥½äº†ã€‚ å€¼å¾—æ³¨æ„1ç»å¸¸é‡åˆ°çš„é”™è¯¯æ¯”å¦‚ä¸‹é¢è¿™ä¸ª é€šå¸¸å‡ºç°åœ¨OS X 10.11ç³»ç»Ÿä¸Š è¿™æ˜¯ç”±äºä»è¿™ä¸ªç³»ç»Ÿå¼€å§‹è‹¹æœå¼€å§‹ä½¿ç”¨æ— æ ¹å®‰è£…ï¼Œè¿™æ—¶ä½ å†ç”¨è¿™ä¸ªæ–¹æ³•å°±ä¼šæŠ¥è¿™ä¸ªé”™ï¼Œè¿™æ—¶åªéœ€ è¿™ä¸ªå‘½ä»¤å°±å¯ä»¥æˆåŠŸå‡çº§å•¦ å€¼å¾—æ³¨æ„2æœ‰çš„æ—¶å€™å¤§å®¶åœ¨pod searchçš„æ—¶å€™æœä¸åˆ°ï¼Œä½†æ˜¯æ˜æ˜æœ‰è¿™ä¸ªç±»åº“åˆ«äººéƒ½å¯ä»¥éƒ½åˆ°è¯¾æ—¶å°±æ˜¯è‡ªå·±æœä¸åˆ°ï¼Œå…¶å®åŸå› æ˜¯è¿™æ ·çš„ï¼špod searchåªä¼šæœç´¢ä½ æœ¬åœ°ç¼“å­˜çš„æ¡†æ¶ï¼Œå¦‚æœä½ æƒ³æœç´¢åˆ°æœ€æ–°çš„ç¬¬ä¸‰æ–¹æ¡†æ¶æˆ–è€…æŸä¸ªæ¡†æ¶çš„æœ€æ–°ç‰ˆæœ¬ï¼Œå¿…é¡»å…ˆä½¿ç”¨pod repo updateï¼ˆæ¨èï¼‰æˆ–è€…pod setupå°†è¿œç¨‹ä»“åº“çš„æ¡†æ¶ä¿¡æ¯æ›´æ–°åˆ°æœ¬åœ°ã€‚å…¶å®ï¼Œä»pod searchçš„å“åº”é€Ÿåº¦é£å¿«ï¼Œä¹Ÿå¯ä»¥çŒœå‡ºå®ƒå¹¶æ²¡æœ‰è¿æ¥æœåŠ¡å™¨ï¼Œä»…ä»…æ˜¯æœç´¢äº†æœ¬åœ°çš„æ¡†æ¶ä¿¡æ¯[å‘µå‘µ] æ­¤å¤–ï¼Œå¦‚æœä½ çš„æ¡†æ¶æ›´æ–°æ¯”è¾ƒæ…¢ï¼Œå¯ä»¥å°è¯•æ‰§è¡Œä¸‹é¢2æ¡æŒ‡ä»¤æ›´æ¢é•œåƒæœåŠ¡å™¨1ï¼špod repo remove master2ï¼špod repo add master http://git.oschina.net/akuandev/Specs.git æ›´æ¢é•œåƒå®Œæ¯•åï¼Œä»¥åæ‰§è¡Œpod repo updateçš„é€Ÿåº¦å°±ä¼šå¿«å¾ˆå¤šã€‚åœ¨è¯´æ˜ä¸€ç‚¹ä¸Šé¢ä¸¤æ¡æŒ‡ä»¤å¦‚æœç¬¬äºŒæ¡æ— æ³•æ‰§è¡Œæç¤º403é”™è¯¯åƒè¿™æ · é‚£ä¹ˆåœ¨æ‰§è¡Œå®Œç¬¬ä¸€æ¡ä¹‹åç›´æ¥pod search å‘½ä»¤å°±å¥½ è¿™æ ·ä»–ä¼šè‡ªåŠ¨æ‰¾åˆé€‚çš„é…ç½®äº†ï¼Œå› ä¸ºç¬¬äºŒæ¡é‚£ä¸ªç½‘å€å¯èƒ½ä¼šå˜ã€‚ æ€»ç»“ï¼šå…³äºä½¿ç”¨cocoapodsåœ¨è‡ªå·±çš„é¡¹ç›®ä¸­é›†æˆç¬¬ä¸‰æ–¹å°±è¿™äº›å†…å®¹ã€‚æœ‰ä»€ä¹ˆä¸æ‡‚çš„æ¬¢è¿æ¥æ‰¾æˆ‘äº¤æµï¼Œæœ¬äººæ‰ç–å­¦æµ…ï¼Œå¦‚æœé‚£é‡Œå†™çš„ä¸å¯¹è¯·åŠæ—¶æ‰¹è¯„æŒ‡æ­£ï¼Œå…å¾—è¯¯å¯¼æ–°äººã€‚ æ–°æµªå¾®åšå°è€—å­ä¸Šæ¡Œå­ä¹Ÿæ˜¯æˆ‘ï¼Œå¤§å®¶ä¹Ÿå¯ä»¥å»çœ‹ä¸‹å¾®åšå¤šå¤šå…³æ³¨ è°¢è°¢ï¼]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>Cocoapods</tag>
        <tag>æ¶æ„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è‡ªå®šä¹‰AlertView]]></title>
    <url>%2F2018%2F01%2F24%2F%E8%87%AA%E5%AE%9A%E4%B9%89AlertView%2F</url>
    <content type="text"><![CDATA[CustomAlertViewä¸€ä¸ªè‡ªå®šä¹‰çš„AlertViewï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚æ¥è®¾ç½®ã€‚ ä½¿ç”¨æ–¹æ³• ç±»ä¼¼äºç³»ç»Ÿçš„åˆå§‹åŒ–æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰å€¼çš„è¯å°±ä¼ nilå°±å¥½ï¼Œä¸è¦ä¼ ç©ºå­—ç¬¦ä¸²ã€‚æœ€åä¸€ä¸ªå‚æ•°ä¼ titleæ•°ç»„å°±å¥½äº†ã€‚ ç„¶åè°ƒç”¨showInViewWithActionæ–¹æ³•æ˜¾ç¤ºå‡ºæ¥ æœ€åä¸€ä¸ªå‚æ•°æ˜¯buttonçš„ç‚¹å‡»äº‹ä»¶ï¼Œæ ¹æ®tagå€¼æ¥åŒºåˆ†ä¸åŒçš„buttonç‚¹å‡»ï¼Œåªæœ‰å–æ¶ˆbuttonçš„tagæ˜¯0ï¼Œå…¶ä»–çš„æ˜¯1.2.3â€¦ä¾æ¬¡å¾€ä¸‹æ’åˆ—å°±å¥½ è¿™äº›å±æ€§å¯ä»¥è‡ªå®šä¹‰ï¼Œè¿™é‡Œå°±ä¸ç»†è¯´äº†ï¼Œå¤§å®¶å¯ä»¥ä½¿è¯•è¯•ã€‚ æ ·å¼æˆªå›¾ å¤§æ¦‚å°±è¿™ä¹ˆå¤šï¼Œå¾ˆç®€å•çš„æœ‰é—®é¢˜éšæ—¶è”ç³»æˆ‘å§ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>AlertView</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NSURLProtocolå¯¹WKWebViewçš„å¤„ç†]]></title>
    <url>%2F2018%2F01%2F24%2FNSURLProtocol%E5%AF%B9WKWebView%E7%9A%84%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[ä¹‹å‰å†™è¿‡ä¸€ç¯‡æ–‡ç« æ˜¯å…³äºåŸºäºNSURLProtocolåšçš„DNSè§£æï¼Œå…¶ä¸­å¯¹NSURLProtocolä¹Ÿæœ‰äº†ç®€å•çš„ä»‹ç»ï¼Œæˆ‘ä»¬éƒ½çŸ¥é“ä»–å¯ä»¥æ‹¦æˆªæ‰€æœ‰åŸºäºURL Loading System ä¸­çš„è¯·æ±‚ï¼Œä½†æ˜¯å¯¹äºWKWebviewé‡Œé¢æ‰€å‘å‡ºçš„è¯·æ±‚å³ä½¿ä»–æ˜¯http/https ä¹Ÿæ— èƒ½ä¸ºåŠ›ï¼Œå…ˆæ¥ç®€å•çš„äº†è§£ä¸‹WKWebView. WKWebview iOS8ä»¥åï¼Œè‹¹æœæ¨å‡ºäº†æ–°æ¡†æ¶Webkitï¼Œæä¾›äº†æ›¿æ¢UIWebViewçš„ç»„ä»¶WKWebViewã€‚å„ç§UIWebViewçš„é—®é¢˜æ²¡æœ‰äº†ï¼Œé€Ÿåº¦æ›´å¿«äº†ï¼Œå ç”¨å†…å­˜å°‘äº†ï¼Œä¸€å¥è¯ï¼ŒWKWebViewæ˜¯Appå†…éƒ¨åŠ è½½ç½‘é¡µçš„æœ€ä½³é€‰æ‹©ï¼æˆ‘ä»¬åšå¼€å‘æœ€å…³ç³»çš„æ˜¯å†…å­˜é—®é¢˜ï¼ŒåŸºæœ¬ä¸Šç½‘ä¸Šæ‰€æœ‰çš„èµ„æ–™éƒ½åœ¨è¯´WKWebviewçš„å†…å­˜å ç”¨ä¼šæ›´å°‘ï¼Œä½†æ˜¯åˆ°åº•å°‘äº†å¤šå°‘æˆ‘è¿™è¾¹åšäº†ä¸‹æµ‹è¯•ï¼ŒåŒæ ·æ˜¯åŠ è½½163çš„é¦–é¡µ ä»ä¸Šå›¾çœ‹å‡ºå†…å­˜å¤§æ¦‚èƒ½ä¼˜åŒ–ç™¾åˆ†ä¹‹å…«åå·¦å³ï¼Œè€Œä¸”ä»ç½‘é¡µçš„æ»‘åŠ¨ä¸Šä¹Ÿç¡®å®æœ‰æ‰€æ”¹å–„ã€‚è¿™ä¹ˆæ˜æ˜¾çš„æ€§èƒ½æå‡ä½†æ˜¯è‹¹æœå¹¶æ²¡æœ‰å®Œå…¨æ”¾å¼ƒUIWebViewä¹Ÿä¸€å®šæœ‰ä»–çš„é“ç†ï¼Œå°±æ‹¿æœ¬æ–‡è¦è®²çš„NSURLProtocolæ‹¦æˆªè¯·æ±‚æ¥è¯´ï¼ŒWKWebviewçš„å…¼å®¹å¹¶ä¸UIWebViewå¥½ï¼Œè¿˜éœ€è¦å¼€å‘è€…åšä¸€äº›æ“ä½œã€‚ WebKitæºç åˆ†æ ç”±äºWKWebviewæ˜¯åŸºäºwebkitå†…æ ¸æ¥åšçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™éœ€è¦å¯¼å…¥ä¸€ä¸ªè¿™æ ·çš„ä¸œè¥¿ã€‚ #import &lt;WebKit/WebKit.h&gt; é€šè¿‡è¿™ä¸ªæˆ‘ä»¬å¯ä»¥çŒœåˆ°WKWebviewä¸­æ‰€æœ‰çš„è¯·æ±‚ä»¥åŠä¸€äº›é€»è¾‘è‚¯å®šèµ°çš„éƒ½æ˜¯webkité‡Œé¢çš„ä¸œè¥¿ï¼Œæ‰€ä»¥ä»–å¯¹äºç½‘é¡µçš„åŠ è½½ä¹‹ä¹‹ç±»çš„æ“ä½œä¹Ÿä¸ä¼šèµ°ç³»ç»Ÿæœ¬çœçš„URL Loading Systemï¼Œè¿™ä¹ˆè¯´æ¥ä»–çš„è¯·æ±‚ä¸èƒ½è¢«NSURLProtocolæ‹¦æˆªä¹Ÿæ˜¯ç†æ‰€å½“ç„¶çš„äº†ã€‚ä¸è¿‡WKWebviewæ˜¯å¦çœŸçš„å’ŒNSURLProtocolä¸€ç‚¹å…³ç³»éƒ½æ²¡æœ‰è¿˜éœ€è¦å»ç ”ç©¶ï¼Œå¹¸å¥½webkitæ˜¯å¼€æºçš„ï¼Œgithubä¸Šå¾ˆå®¹æ˜“æ‰¾åˆ°æºç ï¼ˆå¤§å°å¤§æ¦‚æ˜¯1Gå¤šç‚¹çš„zipï¼ŒèŠ±äº†æˆ‘å°†è¿‘ä¸€å¤©æ—¶é—´æ¥çœ‹ï¼‰ã€‚æ‹‰ä¸‹ä»£ç ç›´æ¥æœç´¢NSURLProtocolï¼Œçœ‹çœ‹æœ‰æ²¡æœ‰æœ‰å…³çš„ä¿¡æ¯ çœ‹æ¥çš„ç¡®æ˜¯æœ‰å’ŒNSURLProtocolæœ‰å…³ç³»ï¼Œåé¢é€šè¿‡æ–­ç‚¹çš„è°ƒç”¨æ ˆä¸­ä¹Ÿæ‰¾åˆ°äº† + [NSURLProtocol canInitWithRequest:] è¿™æ ·çš„å­—æ ·ï¼Œå†é€šè¿‡ç½‘ä¸ŠæŸ¥ä¸€äº›èµ„æ–™ä¹Ÿè¯å®äº†æˆ‘çš„çŒœæƒ³ï¼Œå…¶å®WKWebviewåœ¨ä¸€å¼€å§‹æ—¶å€™æ˜¯ä¼šè°ƒç”¨åˆ°NSURLProtocolä¸­çš„å…¥å£æ–¹æ³•canInitWithRequestçš„ï¼Œä½†æ˜¯å°±æ²¡æœ‰ç„¶åäº†ï¼Œä¹Ÿå°±æ˜¯è¯´WKWebviewæ˜¯å’ŒNSURLProtocolæœ‰ä¸€å®šå…³è”ï¼Œåªæ˜¯åœ¨NSURLProtocolçš„å…¥å£å¤„è¿”å›NOæ‰€ä»¥å¯¼è‡´NSURLProtocolä¸æ¥ç®¡WKWebviewçš„è¯·æ±‚ã€‚æˆ‘ä»¬ç‚¹è¿›webkitæºç ä¸­çš„CustomProtocolå¯ä»¥çœ‹åˆ°ï¼Œæ•´ä½“çš„ç»“æ„æˆ‘ä»¬éƒ½å·®ä¸å¤šï¼Œä½†æ˜¯æˆ‘æ³¨æ„åˆ°æ¯ä¸ªCustomProtocolçš„å…¥å£å‡½æ•°éƒ½æœ‰è¿™æ ·ä¸€ä¸ªåˆ¤æ–­ï¼š (ç²‰è‰²çš„å¯ä»¥æš‚æ—¶è®¤å®šä¸ºæ˜¯å®ƒå†…éƒ¨çš„ä¸€ä¸ªcustomå­—ç¬¦ä¸²)é€šè¿‡è¿™ä¸ªå¯ä»¥çŒœæƒ³ï¼ŒWKWebviewå¹¶ä¸æ˜¯ä¸èµ°NSURLProtocolï¼Œè€Œæ˜¯éœ€è¦æ»¡è¶³ä»–çš„ä¸€ä¸ªè§„åˆ™ï¼Œä»–æ‰ä¼šåœ¨å…¥å£å‡½æ•°è¿™é‡Œè¿”å›YESæ¥ç»™ä½ æ”¾è¡Œï¼Œè¿™ä¸ªè§„åˆ™ä¾¿æ˜¯ä½ æ‰€è¯·æ±‚çš„URLçš„Schemeè¦å’Œå®ƒå†…éƒ¨é…ç½®çš„CustomSchemeç›¸åŒã€‚ä¸è¿‡è¿™é‡Œæœ‰ä¸€ä¸ªç–‘é—®ï¼Œè‹¹æœåœ¨ä½¿ç”¨webkitæ—¶å€™ä¸ºä»€ä¹ˆä¼šæŠŠhttp/httpsè¿™æ ·å¤§ä¼—åŒ–çš„schemeè¿‡æ»¤æ‰ï¼Œçœ‹æ¥ä»–æ˜¯ä¸å»ºè®®å¼€å‘è€…æ¥ä½¿ç”¨NSURLProtocolã€‚æ¥ä¸‹æ¥æˆ‘ä»¬æ¥çœ‹è¿™ä¸ªCustomSchemeï¼Œæ—¢ç„¶è‹¹æœå†…éƒ¨è§„å®šå¥½çš„é‚£ä¹ˆä¸€å®šèƒ½é€šè¿‡æŸç§æ–¹å¼æ¥æ³¨å†Œä¸€ä¸ªè‡ªå·±çš„schemeï¼Œå®åœ¨ä¸è¡Œå°±hookå˜›ã€‚é€šè¿‡ç¿»ä»–çš„æºç å‘ç°æœ€ç»ˆéƒ½æŒ‡å‘ä¸€å¥ä»£ç  [WKBrowsingContextController registerSchemeForCustomProtocol:testScheme]; æ–¹æ³•å®ç°ä¸º + (void)registerSchemeForCustomProtocol:(NSString *)scheme { WebProcessPool::registerGlobalURLSchemeAsHavingCustomProtocolHandlers(scheme); } void WebProcessPool::registerGlobalURLSchemeAsHavingCustomProtocolHandlers(const String&amp; urlScheme)&#123; if (!urlScheme) return; globalURLSchemesWithCustomProtocolHandlers().add(urlScheme); for (auto* processPool : allProcessPools()) processPool-&gt;registerSchemeForCustomProtocol(urlScheme);&#125; é€šè¿‡æ–¹æ³•åå­—å¯ä»¥çœ‹å‡ºè¿™ä¸ªå°±æ˜¯é‚£ä¸ªå‘webkitæ³¨å†ŒCustomSchemeçš„æ–¹æ³•ï¼Œåªè¦æˆ‘ä»¬åœ¨æ³¨å†Œå®Œæˆ‘ä»¬è‡ªå·±çš„CustomProtocolä¹‹ååœ¨è°ƒç”¨è¯¥æ–¹æ³•åº”è¯¥å°±å¯ä»¥äº†ã€‚é€šè¿‡ä»–çš„æºç ä¹Ÿè¿›ä¸€æ­¥å°è¯äº†æˆ‘çš„çŒœæƒ³(ä»–ä¹Ÿæ˜¯è¿™ä¹ˆå†™çš„) å…·ä½“å®æ–½ æ‰¾åˆ°äº†æ–¹æ³•å°±è¦å»å®æ–½ï¼Œä¸è¿‡å› ä¸ºregisterSchemeForCustomProtocolæ˜¯WKBrowsingContextControllerçš„ç±»æ–¹æ³•ï¼Œæ‰€ä»¥åªèƒ½ç”¨WKBrowsingContextControllerå»è°ƒç”¨ï¼Œä½†æ˜¯åœ¨webkitçš„å¤´æ–‡ä»¶å‘ç°WKBrowsingContextControllerå¹¶æ²¡æœ‰å¼€æ”¾å‡ºæ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨NSClassFromStringå’ŒNSSelectorFromStringæ–¹æ³•æ¥æ‹¿åˆ°ç±»å’Œå¯¹åº”çš„æ–¹æ³•ï¼Œæ•´ä½“ä»£ç å¦‚ä¸‹//æ³¨å†Œè‡ªå·±çš„protocol[NSURLProtocol registerClass:[CustomProtocol class]];//åˆ›å»ºWKWebviewWKWebViewConfiguration * config = [[WKWebViewConfiguration alloc] init];WKWebView * wkWebView = [[WKWebView alloc] initWithFrame:CGRectMake(0, 0, [UIScreen mainScreen].bounds.size.width, [UIScreen mainScreen].bounds.size.height) configuration:config];[wkWebView loadRequest:webViewReq];[self.view addSubview:wkWebView];//æ³¨å†ŒschemeClass cls = NSClassFromString(@"WKBrowsingContextController");SEL sel = NSSelectorFromString(@"registerSchemeForCustomProtocol:");if ([cls respondsToSelector:sel]) &#123; // é€šè¿‡httpå’Œhttpsçš„è¯·æ±‚ï¼ŒåŒç†å¯é€šè¿‡å…¶ä»–çš„Scheme ä½†æ˜¯è¦æ»¡è¶³ULR Loading System [cls performSelector:sel withObject:@"http"]; [cls performSelector:sel withObject:@"https"];&#125; å®ç°æ•ˆæœã€‚æˆ‘å°†ç½‘é¡µä¸­æ‰€æœ‰çš„å›¾ç‰‡æ›¿æ¢æˆäº†æŸ´çŠ¬å›¾ç‰‡ å€¼å¾—æ³¨æ„ å…³äºç§æœ‰API å› ä¸ºWKBrowsingContextControllerå’ŒregisterSchemeForCustomProtocolåº”è¯¥æ˜¯ç§æœ‰çš„æ‰€ä»¥ä½¿ç”¨æ—¶å€™éœ€è¦å¯¹å­—ç¬¦ä¸²åšä¸‹å¤„ç†ï¼Œç”¨åŠ å¯†çš„æ–¹å¼æˆ–è€…å…¶ä»–å°±å¯ä»¥äº†ï¼Œå®æµ‹å¯ä»¥è¿‡å®¡æ ¸çš„ã€‚ å…³äºpostè¯·æ±‚å¤§å®¶ä¼šå‘ç°æ‹¦æˆªä¸äº†postè¯·æ±‚(æ‹¦æˆªåˆ°çš„postè¯·æ±‚bodyä½“ä¸ºç©º)ï¼Œè¿™ä¸ªå…¶å®å’ŒWKWebviewæ²¡æœ‰å…³ç³»ï¼Œè¿™ä¸ªæ˜¯è‹¹æœä¸ºäº†æé«˜æ•ˆç‡åŠ å¿«æµç•…åº¦æ‰€ä»¥åœ¨NSURLProtocolæ‹¦æˆªä¹‹åç´¢æ€§å°±ä¸å¤åˆ¶bodyä½“å†…çš„ä¸œè¥¿ï¼Œå› ä¸ºbodyçš„å¤§å°æ²¡æœ‰é™åˆ¶ï¼Œå¼€å‘è€…å¯èƒ½ä¼šæŠŠå¾ˆå¤§çš„æ•°æ®æ”¾è¿›å»é‚£å°±ä¸å¥½åŠäº†ã€‚æˆ‘ä»¬å¯ä»¥é‡‡å–httpbodystreamçš„æ–¹å¼æ‹¿åˆ°bodyï¼Œè¿™ä¸ªåœ¨ä¹‹å‰çš„æ–‡ç« ä¹Ÿæœ‰æè¿‡ #pragma mark -#pragma mark å¤„ç†POSTè¯·æ±‚ç›¸å…³POST ç”¨HTTPBodyStreamæ¥å¤„ç†BODYä½“- (NSMutableURLRequest *)handlePostRequestBodyWithRequest:(NSMutableURLRequest *)request &#123; NSMutableURLRequest * req = [request mutableCopy]; if ([request.HTTPMethod isEqualToString:@"POST"]) &#123; if (!request.HTTPBody) &#123; uint8_t d[1024] = &#123;0&#125;; NSInputStream *stream = request.HTTPBodyStream; NSMutableData *data = [[NSMutableData alloc] init]; [stream open]; while ([stream hasBytesAvailable]) &#123; NSInteger len = [stream read:d maxLength:1024]; if (len &gt; 0 &amp;&amp; stream.streamError == nil) &#123; [data appendBytes:(void *)d length:len]; &#125; &#125; req.HTTPBody = [data copy]; [stream close]; &#125; &#125; return req;&#125;]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>webview</tag>
        <tag>hook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOS Runtimeç®€å•ä»‹ç»ï¼Œä»¥åŠä¸åŒç±»çš„Method Swizzling]]></title>
    <url>%2F2018%2F01%2F24%2FiOS-Runtime%E7%AE%80%E5%8D%95%E4%BB%8B%E7%BB%8D%EF%BC%8C%E4%BB%A5%E5%8F%8A%E4%B8%8D%E5%90%8C%E7%B1%BB%E7%9A%84Method-Swizzling%2F</url>
    <content type="text"><![CDATA[Runtimeä»‹ç»ï¼š runtimeé¡¾åæ€ä¹‰å°±æ˜¯è¿è¡Œæ—¶ï¼Œå…¶å®æˆ‘ä»¬çš„Appä»ä½ æŒ‰ä¸‹command+Rå¼€å§‹ä¸€ç›´åˆ°Appè¿è¡Œèµ·æ¥ç»å†äº†å¤§è‡´ä¸¤ä¸ªé˜¶æ®µï¼Œ1ï¼šç¼–è¯‘æ—¶ï¼Œ2ï¼šè¿è¡Œæ—¶ã€‚è¿˜è®°å¾—ä¸€é“å¾ˆç»å…¸çš„é¢è¯•é¢˜ è¿™é‡Œç»™å¤§å®¶è§£é‡Šä¸‹ï¼šé¦–å…ˆï¼Œ * testObject æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼ŒtestObjectæ˜¯ä¸€ä¸ªæŒ‡å‘æŸä¸ªObjective-Cå¯¹è±¡çš„æŒ‡é’ˆã€‚å› ä¸ºä¸ç®¡æŒ‡å‘çš„æ˜¯ä»€ä¹ˆç±»å‹çš„å¯¹è±¡ï¼Œä¸€ä¸ªæŒ‡é’ˆæ‰€å çš„å†…å­˜ç©ºé—´éƒ½æ˜¯å›ºå®šçš„ï¼Œæ‰€ä»¥è¿™é‡Œå£°æ˜æˆä»»ä½•ç±»å‹çš„å¯¹è±¡ï¼Œæœ€ç»ˆç”Ÿæˆçš„å¯æ‰§è¡Œä»£ç éƒ½æ˜¯æ²¡æœ‰åŒºåˆ«çš„ã€‚è¿™é‡Œé™å®šäº†NSStringåªä¸è¿‡æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨ï¼Œè¯·æŠŠtestObjectå½“åšä¸€ä¸ªNSStringæ¥æ£€æŸ¥ï¼Œå¦‚æœåé¢è°ƒç”¨äº†éNSStringçš„æ–¹æ³•ï¼Œä¼šäº§ç”Ÿè­¦å‘Šã€‚æ¥ç€ï¼Œä½ åˆ›å»ºäº†ä¸€ä¸ªNSDataå¯¹è±¡ï¼Œç„¶åæŠŠè¿™ä¸ªå¯¹è±¡æ‰€åœ¨çš„å†…å­˜åœ°å€ä¿å­˜åœ¨testObjecté‡Œã€‚é‚£ä¹ˆè¿è¡Œæ—¶(ä»è¿™æ®µä»£ç æ‰§è¡Œå¼€å§‹ï¼Œåˆ°ç¨‹åºç»“æŸ)ï¼ŒtestObjectæŒ‡å‘çš„å†…å­˜ç©ºé—´å°±æ˜¯ä¸€ä¸ªNSDataå¯¹è±¡ã€‚ä½ å¯ä»¥æŠŠtestObjectå½“åšä¸€ä¸ªNSDataå¯¹è±¡æ¥ç”¨ã€‚ æ‰€ä»¥ç¼–è¯‘æ—¶æ˜¯NSStringï¼Œè¿è¡Œæ—¶æ˜¯NSDataã€‚runtimeæ˜¯ä»€ä¹ˆï¼šåœ¨runtimeä¸­ï¼Œæ‰€æœ‰çš„ç±»åœ¨OCä¸­éƒ½ä¼šè¢«å®šä¹‰æˆä¸€ä¸ªç»“æ„ä½“ï¼Œåƒè¿™æ ·ç±»åœ¨runtimeä¸­çš„è¡¨ç¤ºstruct objc_class { Class isa;//æŒ‡é’ˆï¼Œé¡¾åæ€ä¹‰ï¼Œè¡¨ç¤ºæ˜¯ä¸€ä¸ªä»€ä¹ˆï¼Œ //å®ä¾‹çš„isaæŒ‡å‘ç±»å¯¹è±¡ï¼Œç±»å¯¹è±¡çš„isaæŒ‡å‘å…ƒç±»#if !__OBJC2__ Class super_class; //æŒ‡å‘çˆ¶ç±» const char *name; //ç±»å long version; //ç±»çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œé»˜è®¤åˆå§‹åŒ–ä¸º 0ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡ŒæœŸå¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼ˆclass_setVersionï¼‰æˆ–è·å–ï¼ˆclass_getVersionï¼‰ã€‚ long info; /*ä¾›è¿è¡ŒæœŸä½¿ç”¨çš„ä¸€äº›ä½æ ‡è¯†ã€‚æœ‰å¦‚ä¸‹ä¸€äº›ä½æ©ç ï¼š CLS_CLASS (0x1L) è¡¨ç¤ºè¯¥ç±»ä¸ºæ™®é€š class ï¼Œå…¶ä¸­åŒ…å«å®ä¾‹æ–¹æ³•å’Œå˜é‡ï¼› CLS_META (0x2L) è¡¨ç¤ºè¯¥ç±»ä¸º metaclassï¼Œå…¶ä¸­åŒ…å«ç±»æ–¹æ³•ï¼› CLS_INITIALIZED (0x4L) è¡¨ç¤ºè¯¥ç±»å·²ç»è¢«è¿è¡ŒæœŸåˆå§‹åŒ–äº†ï¼Œè¿™ä¸ªæ ‡è¯†ä½åªè¢« objc_addClass æ‰€è®¾ç½®ï¼› CLS_POSING (0x8L) è¡¨ç¤ºè¯¥ç±»è¢« pose æˆå…¶ä»–çš„ç±»ï¼›ï¼ˆposeclass åœ¨ObjC 2.0ä¸­è¢«åºŸå¼ƒäº†ï¼‰ï¼› CLS_MAPPED (0x10L) ä¸ºObjCè¿è¡ŒæœŸæ‰€ä½¿ç”¨ CLS_FLUSH_CACHE (0x20L) ä¸ºObjCè¿è¡ŒæœŸæ‰€ä½¿ç”¨ CLS_GROW_CACHE (0x40L) ä¸ºObjCè¿è¡ŒæœŸæ‰€ä½¿ç”¨ CLS_NEED_BIND (0x80L) ä¸ºObjCè¿è¡ŒæœŸæ‰€ä½¿ç”¨ CLS_METHOD_ARRAY (0x100L) è¯¥æ ‡å¿—ä½æŒ‡ç¤º methodlists æ˜¯æŒ‡å‘ä¸€ä¸ª objc_method_list è¿˜æ˜¯ä¸€ä¸ªåŒ…å« objc_method_list æŒ‡é’ˆçš„æ•°ç»„ï¼›*/ long instance_size //è¯¥ç±»çš„å®ä¾‹å˜é‡å¤§å°ï¼ˆåŒ…æ‹¬ä»çˆ¶ç±»ç»§æ‰¿ä¸‹æ¥çš„å®ä¾‹å˜é‡ï¼‰ï¼› struct objc_ivar_list *ivars //æˆå‘˜å˜é‡åˆ—è¡¨ struct objc_method_list **methodLists; //æ–¹æ³•åˆ—è¡¨ struct objc_cache *cache;//ç¼“å­˜ ä¸€ç§ä¼˜åŒ–ï¼Œè°ƒç”¨è¿‡çš„æ–¹æ³•å­˜å…¥ç¼“å­˜åˆ—è¡¨ï¼Œä¸‹æ¬¡è°ƒç”¨å…ˆæ‰¾ç¼“å­˜ struct objc_protocol_list *protocols //åè®®åˆ—è¡¨ #endif&#125; OBJC2_UNAVAILABLE; ç›¸å…³çš„å®šä¹‰/// æè¿°ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•typedef struct objc_method *Method; /// å®ä¾‹å˜é‡typedef struct objc_ivar *Ivar; /// ç±»åˆ«Categorytypedef struct objc_category *Category; /// ç±»ä¸­å£°æ˜çš„å±æ€§typedef struct objc_property *objc_property_t; ObjC ä¸ºæ¯ä¸ªç±»çš„å®šä¹‰ç”Ÿæˆä¸¤ä¸ª objc_class ï¼Œä¸€ä¸ªå³æ™®é€šçš„ classï¼Œå¦ä¸€ä¸ªå³ metaclassã€‚æˆ‘ä»¬å¯ä»¥åœ¨è¿è¡ŒæœŸåˆ›å»ºè¿™ä¸¤ä¸ª objc_class æ•°æ®ç»“æ„ï¼Œç„¶åä½¿ç”¨ objc_addClass åŠ¨æ€åœ°åˆ›å»ºæ–°çš„ç±»å®šä¹‰ã€‚ runtimeèƒ½å¹²ä»€ä¹ˆï¼š ï¼š1ï¼šè·å–ä¸€ä¸ªç±»ä¸­çš„åˆ—è¡¨æ¯”å¦‚æ–¹æ³•åˆ—è¡¨ã€å±æ€§åˆ—è¡¨ã€åè®®åˆ—è¡¨ã€æˆå‘˜å˜é‡åˆ—è¡¨åƒå¦‚ä¸‹è¿™æ · å…¶ä¸­è·å–åˆ°çš„å±æ€§ã€æ–¹æ³•éƒ½æ˜¯å¯ä»¥è·å–publicå’Œprivateçš„ã€‚ unsigned int count; Class clas = [WKWebViewController class]; //æ˜¯æˆ‘è‡ªå·±çš„ç±»ï¼Œä¹‹æ‰€ä»¥ä¸ç”¨ç³»ç»Ÿçš„ç±»æ˜¯å› ä¸ºç³»ç»Ÿçš„ç±»æ–¹æ³•å±æ€§å¤ªå¤šäº† objc_property_t * propertyList = class_copyPropertyList(clas, &amp;count); for (int i = 0; i &lt; count; i++) &#123; const char *propertyName = property_getName(propertyList[i]); NSLog(@" %@ å±æ€§(åŒ…æ‹¬ç§æœ‰) --------&gt;&gt;&gt;&gt;&gt; %@",clas,[NSString stringWithUTF8String:propertyName]); &#125; NSLog(@"-------------------------------------------------------------------------------------------------------------- "); Method * methodList = class_copyMethodList(clas, &amp;count); for (int i = 0; i &lt; count; i++) &#123; Method methodName = methodList[i]; NSLog(@" %@ æ–¹æ³•(åŒ…æ‹¬ç§æœ‰) --------&gt;&gt;&gt;&gt;&gt; %@",clas,NSStringFromSelector(method_getName(methodName))); &#125; NSLog(@"-------------------------------------------------------------------------------------------------------------- "); Ivar *ivarList = class_copyIvarList(clas, &amp;count); for (int i = 0; i&lt;count; i++) &#123; Ivar myIvar = ivarList[i]; const char *ivarName = ivar_getName(myIvar); NSLog(@"%@ æˆå‘˜å˜é‡(åŒ…æ‹¬ç§æœ‰) --------&gt;&gt;&gt;&gt;&gt; %@",clas, [NSString stringWithUTF8String:ivarName]); &#125; NSLog(@"-------------------------------------------------------------------------------------------------------------- "); //è·å–åè®®åˆ—è¡¨ __unsafe_unretained Protocol **protocolList = class_copyProtocolList([self class], &amp;count); for (int i = 0; i&lt;count; i++) &#123; Protocol *myProtocal = protocolList[i]; const char *protocolName = protocol_getName(myProtocal); NSLog(@"%@ åè®® --------&gt;&gt;&gt;&gt;&gt; %@",clas, [NSString stringWithUTF8String:protocolName]); &#125; è¾“å‡ºåçš„ç»“æœæ˜¯å…¶ä¸­ä¹ŸåŒ…æ‹¬äº†ç§æœ‰æ–¹æ³•ã€‚ 2ï¼šæ‹¦æˆªæ–¹æ³•è°ƒç”¨æœ‰çš„æ—¶å€™æˆ‘ä»¬ç”¨ä¸€ä¸ªç±»æˆ–è€…ä¸€ä¸ªå®ä¾‹å˜é‡å»è°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œç”±äºæ“ä½œå¤±è¯¯æˆ–è€…æ˜¯å…¶ä»–åŸå› ï¼Œå¯¼è‡´è¿™ä¸ªæ‰€è¢«è°ƒç”¨çš„æ–¹æ³•å¹¶ä¸å­˜åœ¨ï¼ŒæŠ¥å‡ºè¿™æ ·çš„é”™è¯¯ï¼Œç„¶åé—ªé€€ï¼ è¿™ä¸ªæ—¶å€™å¦‚æœæˆ‘ä»¬æƒ³é¿å…è¿™äº›å´©æºƒï¼Œæˆ‘ä»¬å°±éœ€è¦åœ¨è¿è¡Œæ—¶å¯¹å…¶åšä¸€äº›æ‰‹è„šã€‚iOSä¸­æ–¹æ³•è°ƒç”¨çš„æµç¨‹ï¼šå…¶å®è°ƒç”¨æ–¹æ³•å°±æ˜¯å‘é€æ¶ˆæ¯ï¼Œæ‰€æœ‰è°ƒç”¨æ–¹æ³•çš„ä»£ç ä¾‹å¦‚ [obj aaa] åœ¨è¿è¡Œæ—¶runtimeä¼šå°†è¿™æ®µä»£ç è½¬æ¢ä¸ºobjc_msgSend(obj, [@selector]);ï¼ˆæœ¬è´¨å°±æ˜¯å‘é€æ¶ˆæ¯ï¼‰ç„¶åobjä¼šé€šè¿‡å…¶ä¸­isaæŒ‡é’ˆå»è¯¥ç±»çš„ç¼“å­˜ä¸­(cache)æŸ¥æ‰¾å¯¹åº”å‡½æ•°çš„Method, å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå†å»è¯¥ç±»çš„æ–¹æ³•åˆ—è¡¨ï¼ˆmethodListï¼‰ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å†å»è¯¥ç±»çš„çˆ¶ç±»æ‰¾ï¼Œå¦‚æœæ‰¾åˆ°äº†ï¼Œå°±å…ˆå°†æ–¹æ³•æ·»åŠ åˆ°ç¼“å­˜ä¸­ï¼Œä»¥ä¾¿ä¸‹æ¬¡æŸ¥æ‰¾ï¼Œç„¶åé€šè¿‡methodä¸­çš„æŒ‡é’ˆå®šä½åˆ°æŒ‡å®šæ–¹æ³•æ‰§è¡Œã€‚å¦‚æœä¸€ç›´æ²¡æœ‰æ‰¾åˆ°ï¼Œä¾¿ä¼šèµ°å®Œå¦‚ä¸‹å››ä¸ªæ–¹æ³•ä¹‹åå´©æºƒã€‚ /** å¦‚æœè°ƒç”¨çš„æ˜¯ä¸å­˜åœ¨çš„å®ä¾‹æ–¹æ³•åˆ™ä¼šåœ¨å¥”æºƒå‰è¿›å…¥è¯¥æ–¹æ³•ï¼Œé˜²æ­¢å´©æºƒå¯ä»¥åœ¨æ­¤å¤„åšå¤„ç† */+(BOOL)resolveInstanceMethod:(SEL)sel &#123; return YES;&#125;/** å¦‚æœè°ƒç”¨çš„æ˜¯ä¸å­˜åœ¨çš„ç±»æ–¹æ³•åˆ™ä¼šåœ¨å¥”æºƒå‰è¿›å…¥è¯¥æ–¹æ³•ï¼Œé˜²æ­¢å´©æºƒå¯ä»¥åœ¨æ­¤å¤„åšå¤„ç† */+(BOOL)resolveClassMethod:(SEL)sel &#123; return YES;&#125;/** è¿™ä¸ªæ–¹æ³•ä¼šæŠŠä½ æ‰€è°ƒç”¨çš„ä¸å­˜åœ¨çš„æ–¹æ³•é‡å®šå‘åˆ°ä¸€ä¸ªå£°æ˜äº†è¯¥æ–¹æ³•çš„ç±»ä¸­ï¼Œåªéœ€è¦ä½ è¿”å›ä¸€ä¸ªæœ‰è¯¥æ–¹æ³•çš„ ç±»å°±å¯ä»¥ï¼Œå¦‚æœä½ é‡å®šå‘çš„è¿™ä¸ªç±»ä»ç„¶ä¸å…·æœ‰è¯¥æ–¹æ³•é‚£ä¹ˆä¼šç»§ç»­å´©æºƒ */-(id)forwardingTargetForSelector:(SEL)aSelector &#123;&#125;/** å°†ä½ ä¸å­˜åœ¨çš„æ–¹æ³•æ‰“åŒ…æˆNSInvocationå¯¹è±¡ï¼Œåšå®Œä½ è‡ªå·±çš„å¤„ç†ä¹‹å è°ƒç”¨invokeWithTargetè®©æŸä¸ªtargetæ¥å¤„ç†è¯¥æ–¹æ³• */-(void)forwardInvocation:(NSInvocation *)anInvocation &#123; [anInvocation invokeWithTarget:self];&#125; 3ï¼šåŠ¨æ€æ·»åŠ æ–¹æ³•å› ä¸ºæˆ‘ä»¬è°ƒç”¨äº†ä¸€ä¸ªä¸å­˜åœ¨çš„æ–¹æ³•å¯¼è‡´å´©æºƒï¼Œé‚£ä¹ˆæˆ‘ä»¬åœ¨åˆ¤æ–­å‡ºä¸å­˜åœ¨åå°±åŠ¨æ€æ·»åŠ ä¸Šä¸€ä¸ªæ–¹æ³•å§ è¿™æ ·ä¸å°±ä¸ä¼šè¹¦äº†å—ï¼Ÿæˆ‘ä»¬å…ˆå†™ä¸€ä¸ªæ–¹æ³•ç”¨æ¥ç»™æˆ‘ä»¬åšå‡ºæç¤º - (void) errorMethod &#123; NSLog(@"no method!!!!!!!");&#125; å¦‚æœè°ƒç”¨äº†æ²¡æœ‰çš„æ–¹æ³•ï¼Œé‚£ä¹ˆå°±æŠŠè¿™ä¸ªæ–¹æ³•æ·»åŠ è¿›å»ï¼Œç„¶åæŠŠè¢«è°ƒç”¨çš„æ–¹æ³•çš„æŒ‡é’ˆæŒ‡å‘è¿™ä¸ªerror1ï¼šï¼Œé‚£ä¹ˆä¸€æ—¦è°ƒç”¨äº†æ²¡æœ‰çš„æ–¹æ³•å°±ä¼šèµ°è¿™ä¸ªã€‚æˆ‘ä»¬æ¥çœ‹ä»£ç  +(BOOL)resolveInstanceMethod:(SEL)sel &#123; Method errorMethod = class_getInstanceMethod([self class], @selector(errorMethod)); if ([NSStringFromSelector(sel) isEqualToString:@"testMethod"]) &#123; BOOL isAdd = class_addMethod([self class], sel, method_getImplementation(errorMethod), method_getTypeEncoding(errorMethod)); NSLog(@"tinajia = %d",isAdd); &#125; //Do something return YES;&#125; ä¸»è¦ç”¨åˆ° /** æ·»åŠ æ–¹æ³• @param class] åœ¨å“ªä¸ªç±»é‡Œæ·»åŠ  @param sel æ·»åŠ çš„æ–¹æ³•çš„åå­— @param errorMethod æ·»åŠ çš„æ–¹æ³•çš„å®ç°IMPæŒ‡ @param types æ–¹æ³•çš„æ ‡ç¤ºç¬¦ @return æ˜¯å¦æ·»åŠ æˆåŠŸ */BOOL isAdd = class_addMethod([self class], sel, method_getImplementation(errorMethod), method_getTypeEncoding(errorMethod)); ç„¶åè¿è¡Œä¸‹ï¼š WKWebViewController * vc= [[WKWebViewController alloc] init];[vc performSelector:@selector(testMethod)]; æˆ‘è°ƒç”¨äº†å¹¶ä¸å­˜åœ¨çš„testMethodæ–¹æ³•å¹¶æ²¡æœ‰å´©æºƒå¹¶ä¸”æ–¹æ³•å·²ç»æˆåŠŸæ·»åŠ äº† 4ï¼šåŠ¨æ€äº¤æ¢æ–¹æ³•ï¼ˆä¹Ÿå«iOSé»‘é­”æ³•ï¼Œæ…ç”¨ï¼‰æ²¡ä»€ä¹ˆå¥½ä¾‹å­ï¼Œç”¨ä¸€ä¸ªç½‘ä¸Šè¯´çš„ä¾‹å­(å¼•ç”¨åˆ«äººçš„ä¸œè¥¿ï¼Œæ‡’å¾—å¤åˆ¶äº†ï¼Œå°±æˆªäº†å›¾) å…¶å®æœ¬è´¨å³ä½¿SELå’ŒIMPçš„äº¤æ¢ï¼ŒåŸç†æ˜¯è¿™æ ·çš„ï¼šåœ¨iOSä¸­æ¯ä¸€ä¸ªç±»ä¸­éƒ½æœ‰ä¸€ä¸ªå«dispatch tableçš„ä¸œè¥¿ï¼Œé‡Œé¢å­˜æ”¾åœ¨SEL å’Œä»–æ‰€å¯¹åº”çš„IMPæŒ‡é’ˆï¼Œä¹‹å‰ä¹Ÿè¯´è¿‡æ–¹æ³•è°ƒç”¨å°±æ˜¯é€šè¿‡selæ‰¾IMPæŒ‡é’ˆç„¶åæŒ‡é’ˆå®šä½è°ƒç”¨æ–¹æ³•ã€‚æ–¹æ³•äº¤æ¢å°±æ˜¯å¯¹è¿™ä¸ªdispatch tableè¿›è¡Œæ“ä½œã€‚è®©Açš„SELå»å¯¹åº”Bçš„IMPï¼ŒBçš„SELå¯¹åº”Açš„IMPï¼Œå¦‚å›¾ è¿™æ ·å°±è¾¾åˆ°æ–¹æ³•äº¤æ¢çš„ç›®çš„ï¼Œä¸‹é¢çœ‹ä»£ç ï¼š + (void)changeMethod &#123; // å¦‚æœæ˜¯ç±»æ–¹æ³• è¦ä½¿ç”¨ ! // å¦‚æœæ˜¯ç³»ç»Ÿçš„é›†åˆç±»çš„å±æ€§è¦ç”¨å…ƒç±» æ¯”å¦‚ __NSSetM = NSMutableSet // Class class = NSClassFromString(@"__NSSetM"); // Class metaClass = objc_getMetaClass([NSStringFromClass(class) UTF8String]); Class systemClass = NSClassFromString(__NSSetM); SEL sel_System = NSSelectorFromString(addObject:); SEL sel_Custom = @selector(swizzle_addObject:); Method method_System = class_getInstanceMethod(systemClass, sel_System); Method method_Custom = class_getInstanceMethod([self class], sel_Custom); IMP imp_System = method_getImplementation(method_System); IMP imp_Custom = method_getImplementation(method_Custom); method_exchangeImplementations(method_System, method_Custom);&#125;- (void)swizzle_addObject:(id) obj &#123; if (obj) &#123; [self swizzle_addObject:obj]; &#125;&#125; ä¸»è¦ä»£ç  method_exchangeImplementations(method1, method2); è¿™ä¸¤ä¸ªå‚æ•°å¾ˆç®€å•ï¼Œå°±æ˜¯ä¸¤ä¸ªéœ€è¦äº¤æ¢çš„æ–¹æ³•ã€‚æœ€åæˆ‘è°ƒç”¨äº†m1ä½†æ˜¯å®é™…ä¸Šèµ°äº†m2ã€‚ åŠ¨æ€äº¤æ¢æ–¹æ³•çš„åŸç†ä»¥åŠäº¤æ¢è¿‡ç¨‹ä¸­æŒ‡é’ˆçš„å˜åŒ–åœ¨é€šå¸¸çš„æ–¹æ³•äº¤æ¢ä¸­æˆ‘ä»¬é€šå¸¸æœ‰ä¸¤ç§æƒ…æ™¯ï¼Œä¸€ç§æ˜¯æˆ‘ä¼šé’ˆå¯¹è¢«äº¤æ¢çš„ç±»å»ºä¸€ä¸ªcategoryï¼Œç„¶åhookçš„æ–¹æ³•ä¼šå†™åœ¨categoryä¸­ã€‚å¦ä¸€ç§æ˜¯è‡ªå·±åˆ›å»ºä¸€ä¸ªToolç±»é‡Œé¢æ”¾äº›å¸¸ç”¨çš„å·¥å…·æ–¹æ³•å…¶ä¸­åŒ…å«äº†æ–¹æ³•äº¤æ¢ã€‚å¯èƒ½å¤§å®¶æ™®éé€‰æ‹©ç¬¬ä¸€ç§æ–¹æ³•ï¼Œä½†æ˜¯å¦‚æœä½ éœ€è¦hookçš„ç±»éå¸¸å¤šçš„(æˆ‘å®é™…é¡¹ç›®ä¸­å°±é‡åˆ°è¿™æ ·çš„é—®é¢˜)é‚£ä½ å°±éœ€è¦é’ˆå¯¹ä¸åŒçš„ç±»åˆ›å»ºcategoryï¼Œå°±ä¼šå¯¼è‡´æ–‡ä»¶è¿‡å¤šï¼Œä¸”æ¯ä¸€ä¸ªæ–‡ä»¶ä¸­åªæœ‰ä¸€ä¸ªhookæ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¥å·¦ä¾§ä¸€å †æ–‡ä»¶ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†ç¬¬äºŒç§æ–¹æ³•ï¼Œä½†æ˜¯åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­å‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œå…ˆçœ‹ä¸‹æˆ‘çš„ä»£ç ç»“æ„ æˆ‘è¦hookçš„æ˜¯ViewControllerä¸­çš„viewDidLoadæ–¹æ³•ï¼Œæˆ‘å»ºç«‹äº†ä¸¤ä¸ªç±»ä¸€ä¸ªæ˜¯ViewControllerçš„categoryï¼Œå¦ä¸€ä¸ªæ˜¯Toolç±»ï¼Œä¸ºäº†ä¸€ä¼šåŒºåˆ«æ¼”ç¤ºä¸åŒç±»hookçš„ä¸åŒ(ä¸¤ä¸ªç±»ä¸­hookçš„ä»£ç å®Œå…¨ä¸€æ ·) ViewControllerä¸­å°†è¦è¢«æ›¿æ¢çš„ç³»ç»Ÿæ–¹æ³• Categoryä¸­å°†è¦ç”¨æ¥æ›¿æ¢çš„è‡ªå®šä¹‰æ–¹æ³• ç„¶ååœ¨ViewControllerä¸­çš„loadä¸­åšæ–¹æ³•æ›¿æ¢ è¿è¡Œä¸€ä¸‹çš„è¾“å‡ºç»“æœæƒ³å¿…å¤§å®¶å·²ç»çŒœåˆ°äº†å…ˆæ‰§è¡Œcustomå†æ‰§è¡Œsystemï¼Œè¿™æ˜¯é€šå¸¸æƒ…å†µä¸‹å¤§å®¶çš„åšæ³•ã€‚ ä¸‹é¢å†æ¥çœ‹ä¸‹å¦‚æœæˆ‘å°†æ›¿æ¢æ–¹æ³•å†™åœ¨ä¸åŒç±»ä¸­ä¼šæ€æ ·ï¼Œè°ƒç”¨Toolä¸­çš„äº¤æ¢æ–¹æ³• ç„¶åç›´æ¥çœ‹ç»“æœäº†ï¼Œå› ä¸ºä»£ç éƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„æˆ‘ç›´æ¥å¤åˆ¶è¿‡å»çš„ å‘ç”Ÿäº†crashï¼ŒåŸå› æ˜¯ViewControllerä¸­æ²¡æœ‰swizzel_viewDidLoad_customè¿™ä¸ªæ–¹æ³•ï¼Œä¸ºä»€ä¹ˆä¸åŒç±»çš„äº¤æ¢ä¼šå‡ºç°è¿™ç§é—®é¢˜ï¼Œæˆ‘ä»¬ç”¨ä¸ªå›¾æ¥è¯´æ˜ä¸‹ è§£å†³çš„åŠæ³•æ˜¯æˆ‘ä»¬åœ¨äº¤æ¢æ–¹æ³•ä¹‹å‰è¦å…ˆåƒå…¶ä¸­æ·»åŠ æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠcustomMethodæ·»åŠ åˆ°SystemClassä¸­ï¼Œä½†æ˜¯æ³¨æ„è¦æŠŠcustomMethodçš„å®ç°æŒ‡å‘syetemMethodçš„å®ç°ã€‚è¿™æ ·ä¸€æ¥å°±å¯ä»¥è¾¾åˆ°SystemClassè°ƒç”¨customMethodå´æ‰§è¡ŒsystemMethodçš„ä»£ç çš„æ•ˆæœï¼Œå®ç°ä»¥ä¸Šè¦æ±‚æˆ‘ä»¬éœ€è¦åœ¨äº¤æ¢ä¹‹å‰æ‰§è¡Œè¿™ä¸ªæ–¹æ³•ã€‚ class_addMethod(systemClass, sel_Custom, imp_System, method_getTypeEncoding(method_System)) å…¶ä¸­ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯éœ€è¦å¾€å“ªä¸ªç±»æ·»åŠ ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯è¦æ·»åŠ çš„æ–¹æ³•çš„æ–¹æ³•åï¼›ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯æ‰€æ·»åŠ çš„æ–¹æ³•çš„æ–¹æ³•å®ç°ï¼Œç¬¬å››ä¸ªæ˜¯æ–¹æ³•çš„æ ‡è¯†ç¬¦ã€‚ç»è¿‡å°±è¯¥ä¹‹åæˆ‘ä»¬çš„ä»£ç æ˜¯è¿™æ · ..ä¹‹å‰çš„éƒ½ä¸€æ ·å°±çœç•¥..if (class_addMethod(systemClass, sel_Custom, imp_System, method_getTypeEncoding(method_System))) &#123; class_replaceMethod(systemClass, sel_System, imp_Custom, method_getTypeEncoding(method_System)); &#125; else &#123; method_exchangeImplementations(method_System, method_Custom); &#125; æˆ‘ä»¬æ¥çœ‹ä¸‹æ‰§è¡Œå®Œaddæ“ä½œä¹‹åæ­¤æ—¶çš„æ–¹æ³•å’Œç±»çš„å¯¹åº”å…³ç³»(çº¢è‰²çš„ä¸ºaddçš„ä¿®æ”¹) å› ä¸ºSystemClassä¸­æœ¬èº«ä¸åŒ…å«customMethodæ‰€ä»¥addä¸€å®šæ˜¯æˆåŠŸçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šè¿›å…¥åˆ¤æ–­æ‰§è¡Œreplaceæ–¹æ³•ã€‚ class_replaceMethod(systemClass, sel_System, imp_Custom, method_getTypeEncoding(method_System)); ç¬¬ä¸€ä¸ªå‚æ•°ï¼šéœ€è¦ä¿®æ”¹çš„æ–¹æ³•çš„æ‰€åœ¨çš„ç±»ï¼›ç¬¬äºŒä¸ªå‚æ•°ï¼šéœ€è¦æ›¿æ¢å…¶å®ç°çš„æ–¹æ³•åï¼›ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šéœ€è¦æŠŠå“ªä¸ªå®ç°æ›¿æ¢ç»™ä»–ï¼›ç¬¬å››ä¸ªå‚æ•°ï¼šæ–¹æ³•æ ‡è¯†ç¬¦ã€‚æ­¤æ—¶çœ‹ä¸‹æˆ‘ä»¬åšå®Œreplaceä¹‹åçš„ç±»ä¸æ–¹æ³•åä»¥åŠä»–ä»¬å®ç°çš„å…³ç³»(çº¢è‰²çš„ä¸ºreplaceçš„ä¿®æ”¹)ã€‚ æ­¤æ—¶å¤§å®¶å·²ç»çœ‹å‡ºæ¥äº†ï¼Œè™½ç„¶æ²¡æœ‰æ‰§è¡Œexchangeæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘å·²ç»è¾¾åˆ°äº†æ–¹æ³•äº¤æ¢çš„ç›®çš„ã€‚ç³»ç»Ÿæ‰§è¡ŒsystemMethodæ—¶å€™ä¼šèµ°customMethodçš„å®ç°ä½†æ˜¯å› ä¸ºåœ¨customMethodæ–¹æ³•ä¸­æˆ‘ä¼šé€’å½’æ‰§è¡Œ[self customMethod]ï¼Œæ‰€ä»¥åˆä¼šèµ°åˆ°systemMethodçš„å®ç°ï¼Œå› ä¸ºä¹‹å‰è¿›è¡Œäº†æ–¹æ³•æ·»åŠ ï¼Œæ‰€ä»¥æ­¤æ—¶Aç±»ä¸­æœ‰äº†customMethodæ–¹æ³•ï¼Œä¸ä¼šå†å‘ç”Ÿä¹‹å‰çš„crashã€‚è¾¾åˆ°ä¸€ä¸ªä¸åŒç±»è¿›è¡ŒMethod Swizzlingçš„ç›®çš„ã€‚ ç»¼ä¸Šæ¥çœ‹ä¸€ä¸ªå®Œæ•´ä¸¥è°¨çš„MethodSwizzlingåº”è¯¥åœ¨äº¤æ¢å‰å…ˆaddï¼Œå¹¶ä¸”addæ–¹æ³•çš„å‚æ•°ä¸èƒ½é”™+ (void)changeMethod &#123; Class systemClass = NSClassFromString(@"ä½ çš„ç±»"); SEL sel_System = @selector(ç³»ç»Ÿæ–¹æ³•); SEL sel_Custom = @selector(ä½ è‡ªå·±çš„æ–¹æ³•); Method method_System = class_getInstanceMethod(systemClass, sel_System); Method method_Custom = class_getInstanceMethod([self class], sel_Custom); IMP imp_System = method_getImplementation(method_System); IMP imp_Custom = method_getImplementation(method_Custom); if (class_addMethod(systemClass, sel_Custom, imp_System, method_getTypeEncoding(method_System))) &#123; class_replaceMethod(systemClass, sel_System, imp_Custom, method_getTypeEncoding(method_System)); &#125; else &#123; method_exchangeImplementations(method_System, method_Custom); &#125;&#125; ä»¥ä¸Šä»£ç æ— è®ºæ˜¯å†™åœ¨å·¥å…·ç±»ä¸­è¿˜æ˜¯categoryä¸­éƒ½æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>åº•å±‚</tag>
        <tag>runtime</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSç«¯è‡ªåŠ¨å†…å­˜æ³„æ¼æ£€æµ‹å·¥å…·]]></title>
    <url>%2F2018%2F01%2F24%2FiOS%E7%AB%AF%E8%87%AA%E5%8A%A8%E5%86%85%E5%AD%98%E6%B3%84%E6%BC%8F%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7%2F</url>
    <content type="text"><![CDATA[äº§ç”Ÿçš„èƒŒæ™¯ åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šå†…å­˜æ˜¯ä¸€å—å…¬ç”¨çš„åŒºåŸŸï¼Œå¦‚æœä¸€ä¸ªAppæ²¡æœ‰åšå¥½å†…å­˜ç®¡ç†é‚£ä¹ˆä¸€å®šä¼šå¯¼è‡´æ€§èƒ½æ€¥å‰§ä¸‹é™ç”šè‡³ä¼šå´©æºƒã€‚Facebookçš„iOSç«¯æœ‰è®¸å¤šçš„åœ°æ–¹éƒ½å…±äº«ç€ä¸€å—å†…å­˜ï¼Œå¦‚æœä»»ä½•ä¸€ä¸ªåœ°æ–¹å ç”¨å¤ªå¤šçš„å†…å­˜çš„è¯å°±ä¼šå½±å“åˆ°æ•´ä¸ªAppï¼Œæ¯”å¦‚ä¸€ä¸ªåœ°å‘ç”Ÿäº†å†…å­˜æ³„æ¼ï¼Œå°±ä¼šå‡ºç°è¿™ç§æƒ…å†µã€‚æˆ‘ä»¬æŠŠä¸€ç»„å†…å­˜åˆ†é…æˆ‘ä»¬çš„ä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯å½“æˆ‘ä»¬ä½¿ç”¨å®Œä¹‹åå¿˜è®°é‡Šæ”¾ä»–ï¼Œè¿™å°±é€šå¸¸å°±ä¼šå¼•èµ·å†…å­˜æ³„æ¼ï¼Œè¿™å°±æ„å‘³ç€ç³»ç»Ÿæ°¸è¿œä¸èƒ½å›æ”¶è¿™å—å†…å­˜ä¹Ÿå°±å¯¼è‡´è¿™å—å†…å­˜ä¸€ç›´ä¸èƒ½åˆ†é…ç»™åˆ«çš„å¯¹è±¡ã€‚åœ¨Facebooké‡Œæˆ‘ä»¬æœ‰è®¸å¤šè®¸å¤šçš„å·¥ç¨‹å¸ˆåœ¨ä»£ç çš„ä¸åŒéƒ¨åˆ†å·¥ä½œï¼Œå†…å­˜æ³„æ¼æ—¶ä¸å¯é¿å…çš„ï¼Œå½“ä¸€æ—¦æœ‰å†…å­˜æ³„æ¼å‘ç”Ÿæˆ‘ä»¬å°±éœ€è¦ç«‹å³æ‰¾åˆ°å¹¶ä¸”ä¿®å¤ã€‚è™½ç„¶ç°åœ¨æœ‰å¥½å¤šæ£€æµ‹å†…å­˜æ³„æ¼çš„å·¥å…·ä½†æ˜¯è¿™äº›å·¥å…·å¹¶ä¸å®Œå–„ï¼Œä»–ä»¬ä»ç„¶éœ€è¦å¼€å‘è€…å»åšä¸€äº›å·¥ä½œï¼š 1ï¼šæ‰“å¼€Xcodeå¹¶ä¸”Build 2ï¼šè¿è¡Œinstrument 3ï¼šä½¿ç”¨Appå°½å¯èƒ½çš„å»å¤ç° 4ï¼šå¯»æ‰¾å†…å­˜æ³„æ¼çš„æ¥æº 5ï¼šè§£å†³é—®é¢˜ è¿™æ„å‘³ç€éœ€è¦å¤§é‡çš„ä½“åŠ›æ´»ï¼Œå¹¶ä¸”éƒ½æ˜¯äº›é‡å¤æ— èŠçš„å·¥ä½œï¼Œè¿™ä¹Ÿå¯¼è‡´äº†æˆ‘ä»¬ä¸èƒ½åœ¨å¼€å‘å‘¨æœŸå°±å®šä½å¹¶ä¸”ä¿®å¤é—®é¢˜ã€‚ å°†è¿™ä¸ªè¿‡ç¨‹è‡ªåŠ¨åŒ–å¯ä»¥è®©æˆ‘ä»¬åœ¨ä¸éœ€è¦å¤ªå¤šçš„å¼€å‘è€…çš„æƒ…å†µä¸‹æ›´å¿«çš„å»æ‰¾åˆ°å†…å­˜æ³„æ¼ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜æˆ‘ä»¬å·²ç»å»ºç«‹ä¸€å¥—å·¥å…·ä½¿æˆ‘ä»¬èƒ½å¤Ÿè‡ªåŠ¨çš„å»å®Œæˆè¿™äº›è¿‡ç¨‹ï¼Œå¹¶ä¸”è¿™å¥—å·¥å…·å·²ç»è§£å†³äº†æˆ‘ä»¬è‡ªå·±ä»£ç çš„ä¸€äº›é—®é¢˜ï¼Œä»Šå¤©æˆ‘ä»¬å¾ˆæ¿€åŠ¨çš„å®£å¸ƒæˆ‘ä»¬æŠŠä»–ä»¬å‘å¸ƒäº†å‡ºæ¥FBRetainCycleDetector, FBAllocationTracker, and FBMemoryProfiler. å¾ªç¯å¼•ç”¨ Objective-Cä½¿ç”¨å¼•ç”¨è®¡æ•°æ¥ç®¡ç†å†…å­˜çš„ï¼Œå†…å­˜ä¸­çš„ä¸€ä¸ªå¯¹è±¡å¯ä»¥å¼•ç”¨å…¶ä»–çš„å¯¹è±¡ï¼Œåªè¦æœ‰ä¸€ä¸ªå¯¹è±¡ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆä»–å°±ä¼šä¸€ç›´è¢«ç•™åœ¨å†…å­˜ä¸­ã€‚æˆ‘ä»¬ä¹Ÿå¯ä»¥è¯´ä¸€ä¸ªå¯¹è±¡æŒæœ‰å¦ä¸€ä¸ªå¯¹è±¡ã€‚ &emsp;&emsp;ä¸€èˆ¬æ¥è¯´è¿™éƒ½æ²¡é—®é¢˜ã€‚ä½†æ˜¯æœ‰ä¸€ç§æƒ…ä¼šä½¿æˆ‘ä»¬é™·å…¥åƒµå±€ã€‚å½“ä¸¤ä¸ªobjä¸åœ¨ç›¸äº’æŒæœ‰ï¼Œè€Œæ˜¯é€šè¿‡å¦ä¸€ä¸ªobjæ¥äº’ç›¸æŒæœ‰ï¼Œè¿™æ ·å°±ä¼šé™·å…¥ä¸€ä¸ªå¾ªç¯å¼•ç”¨çš„çŠ¶æ€å°±åƒä¸‹é¢è¿™å¼ å›¾ ä¸€ä¸ªView ControlleræŒæœ‰ä¸€ä¸ªViw Viewä¸­æŒæœ‰delegate delegateä¸­æŒæœ‰ViewControllerã€‚è¿™æ ·å°±å½¢æˆä¸€ä¸ªç¯çŠ¶ï¼Œè°ä¹Ÿæ— æ³•é‡Šæ”¾ã€‚ &emsp;&emsp;å¾ªç¯å¼•ç”¨ä¼šå¯¼è‡´ä¸€äº›åˆ—çš„çš„é—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡åœ¨RAMä¸­æ— é™çš„å ç”¨ç©ºé—´ï¼Œå……å…¶é‡ä¹Ÿåªæ˜¯æµªè´¹ä¸€ç‚¹ç‚¹å†…å­˜ã€‚å¦‚æœè¿™äº›æ³„æ¼çš„å¯¹è±¡æ­£åœ¨åšä¸€äº›å…¶ä»–çš„äº‹æƒ…é‚£ä¹ˆå°±ä¼šå¯¼è‡´Appçš„å…¶ä»–çš„åœ°æ–¹å†ä¹Ÿæ— æ³•ä½¿ç”¨è¿™å—å†…å­˜ã€‚æ›´ä¸¥é‡çš„å¦‚æœå¾ªç¯å¼•ç”¨è¿‡å¤šï¼Œå°±ä¼šæµªè´¹æ‰å¤§é‡çš„å†…å­˜æœ€ç»ˆå¯¼è‡´ç¨‹åºçš„crashã€‚ &emsp;&emsp;åœ¨æˆ‘ä»¬è¿›è¡Œäººå·¥è°ƒè¯•çš„æ—¶å€™æˆ‘ä»¬å·²ç»æ‰¾å‡ºäº†å¤§é‡çš„å¾ˆæ˜æ˜¾çš„å¾ªç¯å¼•ç”¨ï¼Œæˆ‘ä»¬èƒ½å¾ˆå¥½åœ°å®šä½ä»–ï¼Œä½†æ˜¯åœ¨è¿è¡Œä¹‹åæˆ‘ä»¬å°±å¾ˆéš¾å‘ç°ä»–ä»¬ï¼Œä½†æ˜¯æˆ‘ä»¬è¿™SDKèƒ½å¾ˆè½»æ¾çš„åšè¿™äº›äº‹ã€‚ åœ¨Runtimeä¸‹çš„å¾ªç¯å¼•ç”¨æ£€æµ‹&emsp;&emsp;åœ¨OCä¸­æ‰¾å¾ªç¯å¼•ç”¨å…¶å®å°±ç±»ä¼¼äºåœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸ºå¯¹è±¡ï¼Œé“¾æ¥çº¿ä¸ºå¼•ç”¨å…³ç³»çš„æœ‰å‘æ— ç¯å›¾ä¸­å¯»æ‰¾ä¸€ä¸ªç¯ã€‚æ‰“ä¸ªæ¯”æ–¹å¦‚æœAå¼•ç”¨Bé‚£ä¹ˆAåˆ°Bå°±ä¼šæœ‰ç®­å¤´æŒ‡å‘å¯ä»¥çœ‹è¿™ä¸ªæˆ‘ä»¬å‘ç°è¿™å¼ å›¾åœ¨ç®­å¤´å¤„å‘ç”Ÿå¾ªç¯å¼•ç”¨ &emsp;&emsp;è¿™ä¸ªæ˜¯ä¸€ä¸ªå¾ˆç®€å•çš„å¼•ç”¨å…³ç³»æˆ‘ä»¬å¿…é¡»ç¡®ä¿æˆ‘ä»¬èƒ½åƒå·¦ä¾§é‚£æ ·çš„æ¥å¼•ç”¨å¯¹è±¡ï¼Œå…¶å®å¯¹äºæ¯ä¸€ä¸ªå¯¹è±¡æˆ‘ä»¬éƒ½è·å–ä»–æ‰€æœ‰å¼•ç”¨(æŒæœ‰çš„)å¯¹è±¡ï¼Œæœ‰çš„æ˜¯å¼ºå¼•ç”¨æœ‰çš„æ˜¯å¼±å¼•ç”¨ï¼Œä½†æ˜¯å¾ªç¯å¼•ç”¨åªå‘ç”Ÿåœ¨å¼ºå¼•ç”¨ä¸Šï¼Œå¯¹äºæ¯ä¸ªå¯¹è±¡æˆ‘ä»¬éœ€è¦ææ¸…æ¥šå¦‚ä½•æ‰¾åˆ°å¼•ç”¨å…³ç³»ã€‚ &emsp;&emsp;å¹¸è¿çš„æ˜¯OCç»™æˆ‘æä¾›äº†å¼ºå¤§çš„Runtimeï¼Œè¿™è¶³å¤Ÿè®©æˆ‘ä»¬å»æŒ–æ˜å…¶ä¸­çš„å…³ç³»ï¼Œå›¾ä¸­çš„ä¸€ä¸ªç‚¹å¯èƒ½æ˜¯blockæˆ–è€…æ˜¯Objectä¸­çš„å…¶ä¸­ä¸€ä¸ªï¼Œè®©æˆ‘ä»¬æ¥åˆ†åˆ«è®¨è®ºä¸‹ Objects&emsp;&emsp;Runtimeä¸­æœ‰å¾ˆå¤šå·¥å…·å»å¸®åŠ©æˆ‘ä»¬äº†è§£å…¶ä¸­çš„ä¸œè¥¿ï¼Œé¦–å…ˆæˆ‘ä»¬ææ‡‚åˆ°æ‰€æœ‰å®ä¾‹å˜é‡çš„å¼•ç”¨å…³ç³»const char *class_getIvarLayout(Class cls);const char *class_getWeakIvarLayout(Class cls); å¯¹äºä¸€ä¸ªç»™å®šçš„å¯¹è±¡ï¼Œå®ä¾‹å˜é‡å¸ƒå±€å›¾å‘Šè¯‰æˆ‘ä»¬äº†ä»–éƒ½å¼•ç”¨äº†å“ªäº›å¯¹è±¡ï¼Œä»–ä¼šç»™æˆ‘æä¾›ä¸€ä¸ªç´¢å¼•ï¼Œè¿™ä¸ªç´¢å¼•ç›¸å½“äºä¸€ä¸ªåç§»é‡ï¼Œè¯¥å¯¹è±¡åŠ ä¸Šè¿™ä¸ªåç§»é‡å°±æ˜¯ä»–æ‰€å¼•ç”¨çš„å¯¹è±¡çš„åœ°å€ã€‚è¿è¡Œæ—¶ä¼šç»™æˆ‘ä»¬æä¾›ä¸€ä¸ªâ€œå¼±å¼•ç”¨â€çš„å¸ƒå±€å›¾ï¼Œä¹Ÿå°±æ˜¯è¯¥å¯¹è±¡æ‰€æœ‰å¼±å¼•ç”¨çš„å¯¹è±¡ï¼Œå¼ºå¼•ç”¨å’Œå¼±å¼•ç”¨ä¹‹é—´çš„åŒºåˆ«æˆ‘ä»¬å¯ä»¥çŒœæƒ³ä¸ºå°±æ˜¯å¼ºå¼•ç”¨çš„å¸ƒå±€å›¾ã€‚ &emsp;&emsp;å¯¹äºobjective-c++æ¥è¯´æˆ‘ä»¬å¯ä»¥ç”¨ç»“æ„ä½“æ¥å®šä¹‰ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™äº›å¯¹è±¡ä¸ä¼šå†å®ä¾‹å˜é‡çš„å¸ƒå±€å›¾ä¸­è¢«è·å–åˆ°ï¼Œä¸è¿‡Runtimeç»™æˆ‘æä¾›äº†â€œç±»å‹ç¼–ç â€æ¥å¤„ç†è¿™ä¸ªé—®é¢˜ï¼Œå¯¹äºæ¯ä¸ªå®ä¾‹å˜é‡ï¼Œç±»å‹ç¼–ç æè¿°äº†å˜é‡æ˜¯å¦‚ä½•æ„é€ çš„ã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªstructï¼Œç±»å‹ç¼–ç å¯ä»¥æè¿°å‡ºå®ƒåŒ…å«çš„å­—æ®µå’Œç±»å‹ã€‚æˆ‘ä»¬è§£æç±»å‹ç¼–ç ä»¥æ‰¾åˆ°å“ªäº›å®ä¾‹å˜é‡æ˜¯objective-cçš„å¯¹è±¡ã€‚ç„¶åæˆ‘ä»¬å¯ä»¥åƒåœ¨å¸ƒå±€å›¾ä¸­é‚£æ ·è®¡ç®—ä»–çš„åç§»é‡ç„¶åæ‹¿åˆ°ä»–æ‰€å¼•ç”¨çš„å¯¹è±¡çš„åœ°å€ã€‚ &emsp;&emsp;è¿˜æœ‰ä¸€äº›æˆ‘ä»¬ä¸ä¼šæ·±å…¥è®¨è®ºçš„è¾¹ç¼˜æ¡ˆä¾‹ã€‚è¿™äº›éƒ½æ˜¯ä¸åŒçš„é›†åˆï¼Œæˆ‘ä»¬å¿…é¡»åˆ—ä¸¾å®ƒä»¬æ¥è·å–å®ƒä»¬çš„ä¿ç•™å¯¹è±¡ï¼Œè¿™å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›å‰¯ä½œç”¨ã€‚ Blocks&emsp;&emsp;blockå’Œå¯¹è±¡æœ‰ä¸€ç‚¹ä¸åŒã€‚è¿è¡Œæ—¶ä¸å…è®¸æˆ‘ä»¬è½»æ¾åœ°æŸ¥çœ‹å®ƒä»¬çš„å¸ƒå±€ï¼Œä½†æ˜¯æˆ‘ä»¬ä»ç„¶å¯ä»¥è¿›è¡ŒçŒœæµ‹ã€‚åœ¨å¤„ç†blockæ—¶ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†Mike Ashåœ¨ä»–çš„é¡¹ç›®Circleä¸­æå‡ºçš„æƒ³æ³•:ä¹Ÿæ­£æ˜¯è¿™ä¸ªé¡¹ç›®æ¿€å‘FBRetainCycleDetectorçš„é¡¹ç›®ã€‚ &emsp;$emsp;æˆ‘ä»¬å¯ä»¥ä½¿ç”¨application binary interface for blocks (ABI)ï¼Œä»–å¯ä»¥å‘æˆ‘ä»¬å±•ç¤ºä¸€ä¸ªblockåœ¨å†…å­˜ä¸­æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†æˆ‘ä»¬æ‰€ç ”ç©¶çš„blockçš„è¡¨ç°å½¢å¼æˆ‘ä»¬å°±å¯ä»¥ç”¨ä¸€ä¸ªå‡çš„ç»“æ„ä½“æ¥æ¨¡ä»¿å®ç°blockçš„åŠŸèƒ½ï¼Œä¹‹åæˆ‘ä»¬å°±èƒ½çŸ¥é“äº†å“ªäº›å¯¹è±¡è¢«blockå¼•ç”¨å¹¶ä¸”ä¸€ç›´åœ¨é‚£é‡Œï¼Œä½†æ˜¯ä¸å¹¸çš„æ˜¯æˆ‘ä»¬å¹¶ä¸çŸ¥é“è¿™äº›äº‹å¼ºå¼•ç”¨è¿˜æ˜¯å¼±å¼•ç”¨ã€‚ &emsp;&emsp;ä¸ºäº†åšåˆ°è¿™äº›æˆ‘ä»¬ä½¿ç”¨é»‘ç›’çš„æ–¹æ³•ï¼Œé¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªå‡çš„å¯¹è±¡æ¥æ¨¡ä»¿æˆ‘ä»¬æ‰€ç ”ç©¶çš„Blockï¼Œå› ä¸ºæ˜¯æˆ‘ä»¬è‡ªå·±åˆ›å»ºçš„å‡å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å®Œå…¨çš„æ“ä½œä»–ï¼Œæˆ‘ä»¬ç»™è¿™ä¸ªå‡è£…çš„blockä¸Šé¢è£…ä¸Šé‡Šæ”¾æ¢æµ‹å™¨ï¼Œé‡Šæ”¾æ¢æµ‹å™¨æ˜¯ç›‘å¬å‘ç»™ä»–ä»¬çš„é‡Šæ”¾æ¶ˆæ¯çš„ä¸€ä¸ªå¯¹è±¡ï¼Œå¦‚æœä¸€ä¸ªæ‰€æœ‰è€…æƒ³æ”¾å¼ƒå¯¹å¯¹è±¡ä»¬æ‰€æœ‰æƒçš„æ—¶å€™ï¼Œé‡Šæ”¾æ¢æµ‹å™¨ä¼šç»™ä»–æ‰€æœ‰å¼ºå¼•ç”¨çš„å¯¹è±¡å‘å‡ºæ¶ˆæ¯ï¼Œå½“æˆ‘ä»¬é‡Šæ”¾æˆ‘ä»¬çš„å‡å¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥æ£€æŸ¥å“ªäº›æ¢æµ‹å™¨æ”¶åˆ°äº†è¿™æ ·çš„æ¶ˆæ¯ã€‚ä¾¿çŸ¥é“äº†å“ªäº›blockæ˜¯è¢«å¼ºå¼•ç”¨çš„ã€‚è¿™æ ·ä¸€æ¥æˆ‘ä»¬å¯ä»¥æ‰¾åˆ°æˆ‘ä»¬åŸå§‹blockæ‰€æŒæœ‰çš„çœŸæ˜¯çš„å¯¹è±¡ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º è‡ªåŠ¨åŒ–&emsp;&emsp;å‘˜å·¥åœ¨è¿›è¡ŒæŒç»­æ‰§è¡Œæ—¶ï¼Œè¿™ä¸ªå·¥å…·å°±ä¼šéå¸¸å‡ºè‰²ã€‚è‡ªåŠ¨åŒ–åœ¨å®¢æˆ·ç«¯ä¸Šæ˜¯éå¸¸å®¹æ˜“çš„ï¼Œæˆ‘ä»¬ä½¿ç”¨å®šæ—¶å™¨æ¥å»ºç«‹ä¸€ä¸ªå¾ªç¯å¼•ç”¨æ£€æµ‹ï¼Œç”¨æ¥å‘¨æœŸæ€§çš„æ‰«æä¸€éƒ¨åˆ†å†…å­˜å»å¯»æ‰¾å¾ªç¯å¼•ç”¨ï¼Œä¸è¿‡è¿˜æ˜¯æœ‰ç‚¹é—®é¢˜ï¼Œæˆ‘ä»¬ç¬¬ä¸€æ¬¡è¿è¡Œæ£€æµ‹å™¨çš„æ—¶å€™æˆ‘ä»¬å‘ç°ä»–ä¸å¿«é€Ÿçš„æ‰«æå®Œæ•´ä¸ªå†…å­˜ç©ºé—´ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ç»™ä»–æä¾›ä¸€ä¸ªå€™é€‰æ£€æµ‹å¯¹è±¡ï¼Œä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å»ºç«‹äº†FBAllocationTrackerï¼Œä»–å¯ä»¥è¿½è¸ªä»»ä½•ä¸€ä¸ªNsobjectå¯¹è±¡çš„åˆ›å»ºå’Œé”€æ¯ï¼Œä»–åŒæ ·å¯ä»¥åœ¨ä»»ä½•ç»™å®šçš„æ—¶åˆ»ä»¥æœ€å°çš„æ€§èƒ½å¼€é”€æ¥è·å–ä»»ä½•ç±»çš„å®ä¾‹å¯¹è±¡ã€‚ &emsp;&emsp;åœ¨å®¢æˆ·ç«¯ä¸Šå®ç°äº†è¿™æ ·çš„è‡ªåŠ¨åŒ–æ“ä½œæ„å‘³ç€æˆ‘ä»¬å¯ä»¥æ›´åŠ ç®€å•çš„åœ¨NSTimerä¸Šä½¿ç”¨FBRetainCycleDetectorå’Œæ·»åŠ ç”¨äº†è¿½è¸ªå®ä¾‹çš„FBAllocationTrackerï¼Œç°åœ¨è®©æˆ‘ä»¬æ¥çœ‹ä¸‹åç«¯åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œå¾ªç¯å¼•ç”¨å¯ä»¥æœ‰å¤šä¸ªå¯¹è±¡æ¥ç»„æˆï¼Œå¦‚æœåˆ›å»ºäº†è®¸å¤šçš„å¼•ç”¨ç¯å¹¶ä¸”æœ‰ä¸€ä¸ªæ³„æ¼äº†é‚£ä¹ˆäº‹æƒ…å°†ä¼šå˜å¾—éå¸¸å¤æ‚ã€‚å¦‚ä¸‹å¦‚æ‰€ç¤ºA-&gt;Bå°±æ˜¯ä¸€ä¸ªåçš„å¼•ç”¨ç¯å¯¼è‡´äº†A-&gt;B-&gt;C-&gt;Då’ŒA-&gt;B-&gt;C-&gt;E é‡åˆ°è¿™æ ·çš„é—®é¢˜å°±ä¼šç»™æˆ‘ä»¬çš„SDKå¸¦æ¥ä¸¤ä¸ªé—®é¢˜ï¼š å¦‚æœè¿™ä¸¤ä¸ªç¯æ˜¯ç”±äºä¸€ä¸ªä¸è‰¯å¼•ç”¨å¼•èµ·æˆ‘ä»¬å°±ç›´æ¥æ ‡è®°ä¸€å¤„ä¸è‰¯å¼•ç”¨å°±å¯ä»¥äº†ï¼Œä¸ç”¨æ ‡è®°ä¸¤å¤„ï¼Œè¿™æ ·ä¼šç»™å¼€å‘è€…ä¸€ä¸ªé”™è¯¯ä¿¡å·ã€‚ å¦‚æœè¿™ä¸¤ä¸ªç¯æ˜¯è™½ç„¶ç”±ä¸€ä¸ªä¸è‰¯å¼•ç”¨å¼•èµ·ä½†æ˜¯ä¼šå¯¼è‡´ä¸¤ä¸ªä¸åŒçš„é”™è¯¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å°†è¿™ä¸ªä¸¤ä¸ªå¾ªç¯å¼•ç”¨éƒ½æ ‡è®°å‡ºæ¥ å› æ­¤æˆ‘ä»¬éœ€è¦å»ºç«‹ä¸€ä¸ªå¾ªç¯å¼•ç”¨ç¾¤ï¼Œæˆ‘ä»¬é€šè¿‡ä¸‹é¢è¿™äº›å¯å‘å†™äº†ä¸€ç§ç®—æ³•ã€‚ 1ï¼šæŠŠç»™å®šæ—¥æœŸä¸­æ‰€æ£€æµ‹å‡ºçš„æ‰€æœ‰å¾ªç¯å¼•ç”¨æ”¶é›†èµ·æ¥ã€‚ 2ï¼šæ‰¾åˆ°æ¯ä¸ªå¾ªç¯å¼•ç”¨ç¯ä¸­Facebookç‰¹å®šçš„ç±»åã€‚ 3ï¼šæ‰¾åˆ°æ¯ä¸ªç¯ä¸­æœ€å°çš„é‚£ä¸ªç¯ã€‚ 4ï¼šæŠŠæœ€å°å‘¨æœŸæ”¾åˆ°ä¸€ä¸ªç»„ä¸­ã€‚ 5ï¼šä»…ä»…åªåƒå¼€å‘è€…æŠ¥å‘Šæœ€å°çš„å‘¨æœŸã€‚ æœ‰äº†è¿™äº›æœ€åä¸€éƒ¨åˆ†å°±æ˜¯æ‰¾å‡ºè°å¯èƒ½ä¼šæ„å¤–çš„å¼•å…¥ä¸€ä¸ªå¾ªç¯å¼•ç”¨ï¼Œæˆ‘ä»¬é€šè¿‡â€œgit/hg blameâ€æ¥åšåˆ°è¿™äº›ã€‚çŒœæµ‹è¿™å¯èƒ½æ˜¯å¯¼è‡´å‡ºç°é—®é¢˜çš„æœ€æ–°ä¿®æ”¹ã€‚æœ€åä¸€ä¸ªæäº¤ä»£ç çš„äººä¼šæ”¶åˆ°ä¸€ä¸ªé€šçŸ¥ã€‚æ•´ä¸ªç³»ç»Ÿå¯ä»¥å¦‚ä¸‹å±•ç¤º æ‰‹å·¥é…ç½®&emsp;&emsp;å°½ç®¡è‡ªåŠ¨åŒ–å¸®åŠ©ç®€åŒ–äº†å¯»æ‰¾å¾ªç¯å¼•ç”¨çš„è¿‡ç¨‹ï¼Œå¹¶å‡å°‘äº†å¼€å‘äººå‘˜çš„å·¥ä½œï¼Œä½†æ˜¯æ‰‹åŠ¨é…ç½®ä»ç„¶å¾ˆé‡å‘€ã€‚æˆ‘ä»¬å¼€å‘çš„å¦ä¸€æ¬¾å·¥å…·å…è®¸ä»»ä½•äººæŸ¥çœ‹åº”ç”¨ç¨‹åºçš„å†…å­˜ä½¿ç”¨æƒ…å†µï¼Œç”šè‡³ä¸ç”¨å°†æ‰‹æœºæ’å…¥ç”µè„‘ã€‚FBMemoryProfilerå¯ä»¥å¾ˆå®¹æ˜“åœ°æ·»åŠ åˆ°ä»»ä½•åº”ç”¨ä¸­ï¼Œè®©ä½ æ‰‹åŠ¨é…ç½®ä½ çš„å·¥ç¨‹ï¼Œå¹¶åœ¨åº”ç”¨ä¸­è¿è¡Œå¾ªç¯å¼•ç”¨æ£€æµ‹ï¼Œå®ƒå¯ä»¥é€šè¿‡ä½¿ç”¨FBAllocationTrackerå’Œfbretaincycleæ£€æµ‹å™¨æ¥å®Œæˆã€‚ åŸæ–‡é“¾æ¥ https://code.facebook.com/posts/583946315094347/automatic-memory-leak-detection-on-ios/]]></content>
      <categories>
        <category>è¯‘æ–‡</category>
      </categories>
      <tags>
        <tag>ç¿»è¯‘</tag>
        <tag>ä¼˜åŒ–</tag>
        <tag>å›½å¤–æ–‡çŒ®</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[(è½¬)å¦‚ä½•æŒæ¡æ‰€æœ‰çš„ç¨‹åºè¯­è¨€]]></title>
    <url>%2F2018%2F01%2F24%2F%E8%BD%AC-%E5%A6%82%E4%BD%95%E6%8E%8C%E6%8F%A1%E6%89%80%E6%9C%89%E7%9A%84%E7%A8%8B%E5%BA%8F%E8%AF%AD%E8%A8%80%2F</url>
    <content type="text"><![CDATA[è§‰å¾—ä½œè€…å†™çš„å¾ˆå¥½å°±è½¬è½½ä¸‹ï¼ŒåŸæ–‡é“¾æ¥ï¼šhttp://www.yinwang.org/blog-cn/2017/07/06/master-pl å¯¹çš„ï¼Œæˆ‘è¿™é‡Œè¦è®²çš„ä¸æ˜¯å¦‚ä½•æŒæ¡ä¸€ç§ç¨‹åºè¯­è¨€ï¼Œè€Œæ˜¯æ‰€æœ‰çš„â€¦â€¦å¾ˆå¤šç¼–ç¨‹åˆå­¦è€…è‡³ä»Šè¿˜åœ¨ç»™æˆ‘å†™ä¿¡è¯·æ•™ï¼Œé—®æˆ‘è¯¥å­¦ä¹ ä»€ä¹ˆç¨‹åºè¯­è¨€ï¼Œæ€ä¹ˆå­¦ä¹ ã€‚ç”±äºæˆ‘çŸ¥é“æ ‡é¢˜é—®é¢˜çš„ç­”æ¡ˆï¼Œæ‰€ä»¥æ€»æ„Ÿè§‰è¿™ä¸ªé—®é¢˜æ˜¯å¦‚æ­¤â€œä½çº§â€ï¼Œä¸€ç›´æ²¡æ¥å¾—åŠå›å¤ :P å¯æ˜¯é€æ¸çš„ï¼Œæˆ‘å‘ç°åŸæ¥ä¸åªæ˜¯å°ç™½ä»¬æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå°±è¿ç¾å›½å¤§å…¬å¸çš„å¾ˆå¤šèµ„æ·±å·¥ç¨‹å¸ˆï¼Œå…¶å®ä¹Ÿæ²¡ææ˜ç™½ã€‚ä»Šå¤©ä¼‘é—²æ´»åŠ¨è¿›å…¥ç¬¬äºŒä¸ªæ˜ŸæœŸï¼Œç¨å¾®é—²ä¸‹æ¥ä¸€ç‚¹ï¼Œæˆ‘æƒ³æ¥ç»Ÿä¸€å›ç­”ä¸€ä¸‹è¿™ä¸ªæç½®å·²ä¹…çš„â€œåˆçº§é—®é¢˜â€ã€‚è¿™ä¸ªè¯é¢˜è²Œä¼¼æ›¾ç»å†™è¿‡ï¼Œç„¶è€Œç°åœ¨æˆ‘æƒ³æŠŠå®ƒé‡æ–°å†™ä¸€éã€‚å› ä¸ºé€šè¿‡è·Ÿå¾ˆå¤šäººçš„äº¤æµï¼Œæˆ‘å¯¹è‡ªå·±å¤´è„‘ä¸­çš„ï¼ˆæœªè½¬åŒ–ä¸ºè¯­è¨€çš„ï¼‰æƒ³æ³•ï¼Œæœ‰äº†æ›´ç²¾ç¡®çš„è¡¨è¾¾ã€‚å¦‚æœä½ å­˜åœ¨ä»¥ä¸‹çš„ç§ç§å›°æƒ‘ï¼Œé‚£ä¹ˆè¿™ç¯‡æ–‡ç« ä¹Ÿè®¸ä¼šå¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼šä½ æ˜¯ç¼–ç¨‹åˆå­¦è€…ï¼Œä¸çŸ¥é“è¯¥é€‰æ‹©ä»€ä¹ˆç¨‹åºè¯­è¨€æ¥å…¥é—¨ã€‚ä½ æ˜¯èµ„æ·±çš„ç¨‹åºå‘˜æˆ–è€…å›¢é˜Ÿé¢†å¯¼ï¼Œå¯¹æ–°å‡ºç°çš„ç§ç§è¯­è¨€æ„Ÿåˆ°å›°æƒ‘ï¼Œä¸çŸ¥é“è¯¥â€œæŠ•èµ„â€äºé‚£ç§è¯­è¨€ã€‚ä½ çš„å›¢é˜Ÿä¸ºä½¿ç”¨å“ªç§ç¨‹åºè¯­è¨€äº‰è®ºä¸ä¼‘ï¼Œå‘ç”Ÿå„ç§å®—æ•™æ–—äº‰ã€‚ä½ è¿½é€æ½®æµé‡‡ç”¨äº†æŸç§æ—¶é«¦çš„è¯­è¨€ï¼Œç»“æœä¸¤ä¸ªæœˆä¹‹åå‘ç°æ·±é™·æ³¥æ½­ï¼Œç—›è‹¦ä¸å ªâ€¦â€¦ è™½ç„¶æˆ‘å·²ç»ä¸å†è¿‡é—®è¿™äº›ä¸–äº‹ï¼Œç„¶è€Œæ— å¯ç½®ç–‘çš„ç°å®æ˜¯ï¼Œç¨‹åºè¯­è¨€ä»ç„¶æ˜¯å¾ˆé‡è¦çš„è¯é¢˜ï¼Œè¿™ä¸ªæƒ…å†µçŸ­æ—¶é—´å†…ä¸ä¼šæ”¹å˜ã€‚ç¨‹åºå‘˜çš„å²—ä½å¾€å¾€ä¼šè¦æ±‚ç†Ÿæ‚‰æŸäº›è¯­è¨€ï¼Œç”šè‡³æŸäº›å¥‡è‘©çš„å…¬å¸è¦æ±‚ä½ â€œæ·±å…¥ç†è§£ OOP æˆ–è€… FP è®¾è®¡æ¨¡å¼â€ã€‚å¯¹äºåœ¨èŒçš„ç¨‹åºå‘˜ï¼Œç¨‹åºè¯­è¨€è‡³ä»Šä»ç„¶æ˜¯å¯ä»¥äº‰å¾—é¢çº¢è€³èµ¤çš„å®—æ•™è¯é¢˜ã€‚å®ƒçš„å®—æ•™æ€§ä¹‹å¼ºï¼Œä»¥è‡³äºæˆ‘åœ¨æ‰¹è¯„å’Œè°ƒä¾ƒæŸäº›è¯­è¨€ï¼ˆæ¯”å¦‚ Go è¯­è¨€ï¼‰çš„æ—¶å€™ï¼Œæœ‰äº›äººä¼šæœ¬èƒ½åœ°ä»¥ä¸ºæˆ‘æ˜¯å¦å¤–ä¸€ç§è¯­è¨€ï¼ˆæ¯”å¦‚ Javaï¼‰çš„ç²‰ä¸ :På…¶å®å‘¢ï¼Œæˆ‘å¹¶ä¸æ˜¯ä»»ä½•ä¸€ç§è¯­è¨€çš„ç²‰ä¸ï¼Œæˆ‘ç”šè‡³ä¸æ˜¯ Yin è¯­è¨€çš„ç²‰ä¸ ;) å¯¹äºä»»ä½•ä»æ²¡è§è¿‡çš„è¯­è¨€ï¼Œæˆ‘éƒ½æ˜¯ç›´æ¥æ‹¿èµ·æ¥å°±ç”¨ï¼Œè€Œä¸éœ€è¦ç»è¿‡å­¦ä¹ çš„è¿‡ç¨‹ã€‚çœ‹äº†è¿™ç¯‡æ–‡ç« ï¼Œä¹Ÿè®¸ä½ ä¼šæ˜ç™½æˆ‘ä¸ºä»€ä¹ˆå¯ä»¥è¾¾åˆ°è¿™ä¸ªæ•ˆæœã€‚ç†è§£äº†è¿™é‡Œé¢çš„ä¸œè¥¿ï¼Œæ¯ä¸ªç¨‹åºå‘˜éƒ½åº”è¯¥å¯ä»¥åšåˆ°è¿™ä¸€ç‚¹ã€‚å—¯ï¼Œä½†æ„¿å§ã€‚ã€‚ã€‚ :Pé‡è§†è¯­è¨€ç‰¹æ€§ï¼Œè€Œä¸æ˜¯è¯­è¨€å¾ˆå¤šäººåœ¨ä¹è‡ªå·±æˆ–è€…åˆ«äººæ˜¯å¦â€œä¼šâ€æŸç§è¯­è¨€ï¼Œå¯¹â€œå‘æ˜â€äº†æŸç§è¯­è¨€çš„äººå€åŠ å´‡æ‹œï¼Œä¸ºå„ç§è¯­è¨€çš„å­°ä¼˜å­°åŠ£äº‰å¾—é¢çº¢è€³èµ¤ã€‚è¿™äº›é—®é¢˜å¯¹äºæˆ‘æ¥è¯´éƒ½æ˜¯ä¸å­˜åœ¨çš„ã€‚è™½ç„¶æˆ‘å†™æ–‡ç« æ‰¹è¯„è¿‡ä¸å°‘è¯­è¨€çš„ç¼ºé™·ï¼Œåœ¨å®é™…å·¥ä½œä¸­æˆ‘å´å¾ˆå°‘è·Ÿäººäº‰è®ºè¿™äº›ã€‚å¦‚æœæœ‰å…¶å®ƒäººåœ¨æˆ‘èº«è¾¹äº‰è®ºï¼Œæˆ‘ç”šè‡³ä¼šæˆ´ä¸Šè€³æœºï¼Œéƒ½æ‡’å¾—å¬ä»–ä»¬è¯´ä»€ä¹ˆ ;) ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæˆ‘å‘ç°å½’æ ¹ç»“åº•çš„åŸå› ï¼Œæ˜¯å› ä¸ºæˆ‘é‡è§†çš„æ˜¯â€œè¯­è¨€ç‰¹æ€§â€ï¼Œè€Œä¸æ˜¯æ•´ä¸ªçš„â€œè¯­è¨€â€ã€‚æˆ‘èƒ½ç”¨ä»»ä½•è¯­è¨€å†™å‡ºä¸é”™çš„ä»£ç ï¼Œå°±ç®—å†ç³Ÿç³•çš„è¯­è¨€ä¹Ÿå·®ä¸äº†å¤šå°‘ã€‚ä»»ä½•ä¸€ç§â€œè¯­è¨€â€ï¼Œéƒ½æ˜¯å„ç§â€œè¯­è¨€ç‰¹æ€§â€çš„ç»„åˆã€‚æ‰“ä¸ªæ¯”æ–¹å§ï¼Œä¸€ä¸ªç¨‹åºè¯­è¨€å°±åƒä¸€å°ç”µè„‘ã€‚å®ƒçš„ç‰Œå­å¯èƒ½å«â€œè”æƒ³â€ï¼Œæˆ–è€…â€œIBMâ€ï¼Œæˆ–è€…â€œDellâ€ï¼Œæˆ–è€…â€œè‹¹æœâ€ã€‚é‚£ä¹ˆï¼Œä½ å¯ä»¥è¯´è‹¹æœä¸€å®šæ¯” IBM å¥½å—ï¼Ÿä½ ä¸èƒ½ã€‚ä½ å¾—çœ‹çœ‹å®ƒé‡Œé¢è£…çš„æ˜¯ä»€ä¹ˆå‹å·çš„å¤„ç†å™¨ï¼Œæœ‰å¤šå°‘ä¸ªæ ¸ï¼Œä¸»é¢‘å¤šå°‘ï¼Œæœ‰å¤šå°‘ L1 cacheï¼ŒL2 cacheâ€¦â€¦ï¼Œæœ‰å¤šå°‘å†…å­˜å’Œç¡¬ç›˜ï¼Œæ˜¾ç¤ºå™¨åˆ†è¾¨ç‡æœ‰å¤šå¤§ï¼Œæ˜¾å¡æ˜¯ä»€ä¹ˆ GPUï¼Œç½‘å¡é€Ÿåº¦ï¼Œç­‰ç­‰å„ç§â€œé…ç½®â€ã€‚æœ‰æ—¶å€™ä½ è¿˜å¾—çœ‹å„ä¸ªç»„ä»¶ä¹‹é—´çš„å…¼å®¹æ€§ã€‚è¿™äº›é…ç½®å¯¹åº”åˆ°ç¨‹åºè¯­è¨€é‡Œé¢ï¼Œå°±æ˜¯æ‰€è°“â€œè¯­è¨€ç‰¹æ€§â€ã€‚ä¸¾ä¸€äº›è¯­è¨€ç‰¹æ€§çš„ä¾‹å­ï¼šå˜é‡å®šä¹‰ç®—æœ¯è¿ç®—for å¾ªç¯è¯­å¥ï¼Œwhile å¾ªç¯è¯­å¥å‡½æ•°å®šä¹‰ï¼Œå‡½æ•°è°ƒç”¨é€’å½’é™æ€ç±»å‹ç³»ç»Ÿç±»å‹æ¨å¯¼lambda å‡½æ•°é¢å‘å¯¹è±¡åƒåœ¾å›æ”¶æŒ‡é’ˆç®—æœ¯goto è¯­å¥ è¿™äº›è¯­è¨€ç‰¹æ€§ï¼Œå°±åƒä½ åœ¨é€‰æ‹©ä¸€å°ç”µè„‘çš„æ—¶å€™ï¼Œçœ‹å®ƒé‡Œé¢æ˜¯ä»€ä¹ˆé…ç½®ã€‚é€‰ç”µè„‘çš„æ—¶å€™ï¼Œæ²¡æœ‰äººä¼šè¯´ Dell ä¸€å®šæ˜¯æœ€å¥½çš„ï¼Œä»–ä»¬åªä¼šè¯´è¿™ä¸ªå‹å·é‡Œé¢è£…çš„æ˜¯ Intel çš„ i7 å¤„ç†å™¨ï¼Œè¿™ä¸ªæ¯” i5 çš„å¥½ï¼ŒDDR3 çš„å†…å­˜ æ¯” DDR2 çš„å¿«è¿™ä¹ˆå¤šï¼ŒSSD æ¯”ç£ç›˜å¿«å¾ˆå¤šï¼ŒATI çš„æ˜¾å¡æ˜¯åƒåœ¾â€¦â€¦ å¦‚æ­¤ç­‰ç­‰ã€‚ç¨‹åºè¯­è¨€ä¹Ÿæ˜¯ä¸€æ ·çš„é“ç†ã€‚å¯¹äºåˆå­¦è€…æ¥è¯´ï¼Œå…¶å®æ²¡å¿…è¦çº ç»“åˆ°åº•è¦å…ˆå­¦å“ªä¸€ç§è¯­è¨€ï¼Œå†å­¦å“ªä¸€ç§ã€‚æ›¾ç»æœ‰äººç»™æˆ‘å‘ä¿¡é—®è¿™ç§é—®é¢˜ï¼Œçº ç»“äº†å¥½å‡ ä¸ªæ˜ŸæœŸï¼Œç»“æœä¸€ä¸ªè¯­è¨€éƒ½è¿˜æ²¡å¼€å§‹å­¦ã€‚æœ‰è¿™çº ç»“çš„æ—¶é—´ï¼Œæˆ‘éƒ½å¯ä»¥æŠŠä»–çº ç»“è¿‡çš„è¯­è¨€å…¨éƒ¨æŒæ¡äº†ã€‚åˆå­¦è€…å¾€å¾€ä¸ç†è§£ï¼Œæ¯ä¸€ç§è¯­è¨€é‡Œé¢å¿…ç„¶æœ‰ä¸€å¥—â€œé€šç”¨â€çš„ç‰¹æ€§ã€‚æ¯”å¦‚å˜é‡ï¼Œå‡½æ•°ï¼Œæ•´æ•°å’Œæµ®ç‚¹æ•°è¿ç®—ï¼Œç­‰ç­‰ã€‚è¿™äº›æ˜¯æ¯ä¸ªé€šç”¨ç¨‹åºè¯­è¨€é‡Œé¢éƒ½å¿…é¡»æœ‰çš„ï¼Œä¸€ä¸ªéƒ½ä¸èƒ½å°‘ã€‚ä½ åªè¦é€šè¿‡â€œæŸç§è¯­è¨€â€å­¦ä¼šäº†è¿™äº›ç‰¹æ€§ï¼ŒæŒæ¡è¿™äº›ç‰¹æ€§çš„æ ¹æœ¬æ¦‚å¿µï¼Œå°±èƒ½éšæ—¶æŠŠè¿™äº›çŸ¥è¯†åº”ç”¨åˆ°ä»»ä½•å…¶å®ƒè¯­è¨€ã€‚ä½ ä¸ºæ­¤æŠ•å…¥çš„æ—¶é—´åŸºæœ¬ä¸ä¼šæµªè´¹ã€‚æ‰€ä»¥åˆå­¦è€…çº ç»“è¦â€œå…ˆå­¦å“ªç§è¯­è¨€â€ï¼Œè¿™ç§æ—¶é—´èŠ±çš„å¾ˆä¸å€¼å¾—ï¼Œè¿˜ä¸å¦‚éšä¾¿æŒ‘ä¸€ä¸ªè¯­è¨€ï¼Œè·³è¿›å»ã€‚å¾ˆå¤šåˆå­¦è€…ä¸äº†è§£ï¼Œä¸€ä¸ªé«˜æ˜çš„ç¨‹åºå‘˜å¦‚æœå¼€å§‹ç”¨ä¸€ç§æ–°çš„ç¨‹åºè¯­è¨€ï¼Œä»–å¾€å¾€ä¸æ˜¯å»çœ‹è¿™ä¸ªè¯­è¨€çš„å¤§éƒ¨å¤´æ‰‹å†Œæˆ–è€…ä¹¦ç±ï¼Œè€Œæ˜¯å…ˆæœ‰ä¸€ä¸ªéœ€è¦è§£å†³çš„é—®é¢˜ã€‚æ‰‹å¤´æœ‰äº†é—®é¢˜ï¼Œä»–å¯ä»¥ç”¨ä¸¤åˆ†é’Ÿæµè§ˆä¸€ä¸‹è¿™è¯­è¨€çš„æ‰‹å†Œï¼Œçœ‹çœ‹è¿™è¯­è¨€å¤§æ¦‚é•¿ä»€ä¹ˆæ ·ã€‚ç„¶åï¼Œä»–ç›´æ¥æ‹¿èµ·ä¸€æ®µä¾‹å­ä»£ç æ¥å¼€å§‹ä¿®æ”¹æ£é¼“ï¼Œæƒ³æ³•æŠŠè¿™ä»£ç æ”¹æˆè‡ªå·±æ­£æƒ³è§£å†³çš„é—®é¢˜ã€‚åœ¨è¿™ä¸ªç®€çŸ­çš„è¿‡ç¨‹ä¸­ï¼Œä»–å¾ˆå¿«çš„æŒæ¡äº†è¿™ä¸ªè¯­è¨€ï¼Œå¹¶ç”¨å®ƒè¡¨è¾¾å‡ºå¿ƒé‡Œçš„æƒ³æ³•ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»–ä¼šé—®è¿™æ ·çš„é—®é¢˜ï¼šè¿™ä¸ªè¯­è¨€çš„â€œå˜é‡å®šä¹‰â€æ˜¯ä»€ä¹ˆè¯­æ³•ï¼Œéœ€è¦â€œå£°æ˜ç±»å‹â€å—ï¼Œè¿˜æ˜¯å¯ä»¥ç”¨â€œç±»å‹æ¨å¯¼â€ï¼Ÿå®ƒçš„â€œç±»å‹â€æ˜¯ä»€ä¹ˆè¯­æ³•ï¼Ÿæ˜¯å¦æ”¯æŒâ€œæ³›å‹â€ï¼Ÿæ³›å‹çš„ â€œvarianceâ€ å¦‚ä½•è¡¨è¾¾ï¼Ÿè¿™ä¸ªè¯­è¨€çš„â€œå‡½æ•°â€æ˜¯ä»€ä¹ˆè¯­æ³•ï¼Œâ€œå‡½æ•°è°ƒç”¨â€æ˜¯ä»€ä¹ˆè¯­æ³•ï¼Œå¯å¦ä½¿ç”¨â€œç¼ºçœå‚æ•°â€ï¼Ÿâ€¦â€¦ æ³¨æ„åˆ°äº†å—ï¼Ÿä¸Šé¢æ¯ä¸€ä¸ªå¼•å·é‡Œé¢çš„å†…å®¹ï¼Œéƒ½æ˜¯ä¸€ç§è¯­è¨€ç‰¹æ€§ï¼ˆæˆ–è€…å«æ¦‚å¿µï¼‰ã€‚è¿™äº›æ¦‚å¿µå¯ä»¥å­˜åœ¨äºä»»ä½•çš„è¯­è¨€é‡Œé¢ï¼Œè™½ç„¶è¯­æ³•å¯èƒ½ä¸ä¸€æ ·ï¼Œå®ƒä»¬çš„æœ¬è´¨éƒ½æ˜¯ä¸€æ ·çš„ã€‚æ¯”å¦‚ï¼Œæœ‰äº›è¯­è¨€çš„å‚æ•°ç±»å‹å†™åœ¨å˜é‡å‰é¢ï¼Œæœ‰äº›å†™åœ¨åé¢ï¼Œæœ‰äº›ä¸­é—´éš”äº†ä¸€ä¸ªå†’å·ï¼Œæœ‰äº›æ²¡æœ‰ã€‚è¿™äº›å®é™…é—®é¢˜éƒ½æ˜¯éšç€å†™å®é™…çš„ä»£ç ï¼Œè§£å†³æ‰‹å¤´çš„é—®é¢˜ï¼Œè‡ªç„¶è€Œç„¶å¸¦å‡ºæ¥çš„ï¼Œè€Œä¸æ˜¯ä¸€å¼€å¤´å°±æŠ±ç€è¯­è¨€æ‰‹å†Œçœ‹å¾—ä»”ä»”ç»†ç»†ã€‚å› ä¸ºæŒæ¡äº†è¯­è¨€ç‰¹æ€§çš„äººéƒ½çŸ¥é“ï¼Œè‡ªå·±éœ€è¦çš„ç‰¹æ€§ï¼Œåœ¨ä»»ä½•è¯­è¨€é‡Œé¢ä¸€å®šæœ‰å¯¹åº”çš„è¡¨è¾¾æ–¹å¼ã€‚å¦‚æœæ²¡æœ‰ç›´æ¥çš„æ–¹å¼è¡¨è¾¾ï¼Œé‚£ä¹ˆä¸€å®šæœ‰æŸç§â€œç»•è¿‡æ–¹å¼â€ã€‚å¦‚æœæœ‰ç›´æ¥çš„è¡¨è¾¾æ–¹å¼ï¼Œé‚£ä¹ˆå®ƒåªæ˜¯è¯­æ³•ç¨å¾®æœ‰æ‰€ä¸åŒè€Œå·²ã€‚æ‰€ä»¥ï¼Œä»–æ˜¯å¸¦ç€é—®é¢˜æ‰¾ç‰¹æ€§ï¼Œå°±åƒæŸ¥å­—å…¸ä¸€æ ·ï¼Œè€Œä¸æ˜¯è¢«æ·¹æ²¡äºå¤§éƒ¨å¤´çš„æ‰‹å†Œé‡Œé¢ï¼Œæ˜æ˜æ¬²ç¡ä¸€ä¸ªæœˆæ‰å¼€å§‹å†™ä»£ç ã€‚æŒæ¡äº†é€šç”¨çš„è¯­è¨€ç‰¹æ€§ï¼Œå‰©ä¸‹çš„å°±åªå‰©æŸäº›è¯­è¨€â€œç‰¹æœ‰â€çš„ç‰¹æ€§äº†ã€‚ç ”ç©¶è¯­è¨€çš„äººéƒ½çŸ¥é“ï¼Œè¦è®¾è®¡å‡ºæ–°çš„ï¼Œå¥½çš„ï¼Œæ— å®³çš„ç‰¹æ€§ï¼Œæ˜¯éå¸¸å›°éš¾çš„ã€‚æ‰€ä»¥ä¸€èˆ¬è¯´æ¥ï¼Œä¸€ç§å¥½çš„è¯­è¨€ï¼Œå®ƒæ‰€ç‰¹æœ‰çš„æ–°ç‰¹æ€§ï¼Œç»ˆç©¶ä¸ä¼šè¶…è¿‡ä¸€ä¸¤ç§ã€‚å¦‚æœæœ‰ä¸ªè¯­è¨€å·ç§°è‡ªå·±æœ‰è¶…è¿‡ 5 ç§æ–°ç‰¹æ€§ï¼Œé‚£ä½ å°±å¾—å°å¿ƒäº†ï¼Œå› ä¸ºå®ƒä»¬å¸¦æ¥çš„å’Œå¯èƒ½ä¸æ˜¯ä¼˜åŠ¿ï¼Œè€Œæ˜¯ç¾éš¾ï¼åŒæ ·çš„é“ç†ï¼Œæœ€å¥½çš„è¯­è¨€ç ”ç©¶è€…ï¼Œå¾€å¾€ä¸æ˜¯æŸç§è¯­è¨€çš„è®¾è®¡è€…ï¼Œè€Œæ˜¯æŸç§å…³é”®è¯­è¨€ç‰¹æ€§çš„è®¾è®¡è€…ï¼ˆæˆ–è€…æ”¯æŒè€…ï¼‰ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œè‘—åçš„è®¡ç®—æœºç§‘å­¦å®¶ Dijkstra å°±æ˜¯â€œé€’å½’â€çš„å¼ºçƒˆæ”¯æŒè€…ã€‚ç°åœ¨çš„è¯­è¨€é‡Œé¢éƒ½æœ‰é€’å½’ï¼Œç„¶è€Œä½ å¯èƒ½ä¸çŸ¥é“ï¼Œæ—©æœŸçš„ç¨‹åºè¯­è¨€æ˜¯ä¸æ”¯æŒé€’å½’çš„ã€‚ç›´åˆ° Dijkstra å¼ºçƒˆè¦æ±‚ Algol 60 å§”å‘˜ä¼šåŠ å…¥å¯¹é€’å½’çš„æ”¯æŒï¼Œè¿™ä¸ªå±€é¢æ‰æ”¹å˜äº†ã€‚Tony Hoare ä¹Ÿæ˜¯è¯­è¨€ç‰¹æ€§è®¾è®¡è€…ã€‚ä»–è®¾è®¡äº†å‡ ä¸ªé‡è¦çš„è¯­è¨€ç‰¹æ€§ï¼Œå´æ²¡æœ‰è®¾è®¡è¿‡ä»»ä½•è¯­è¨€ã€‚å¦å¤–å¤§å®¶ä¸è¦å¿˜äº†ï¼Œæœ‰ä¸ªè¯­è¨€ä¸“å®¶å«ç‹å ï¼Œä»–æ˜¯æ—©æœŸ union type çš„æ”¯æŒè€…å’Œå®ç°è€…ï¼Œä¹Ÿæ˜¯ checked exception ç‰¹æ€§çš„æ”¯æŒè€…ï¼Œä»–åœ¨è‡ªå·±çš„åšæ–‡é‡ŒæŒ‡å‡ºäº† checked exception å’Œ union type ä¹‹é—´çš„å…³ç³» :På¾ˆå¤šäººç›²ç›®çš„å´‡æ‹œè¯­è¨€è®¾è®¡è€…ï¼Œåªè¦å¬åˆ°æœ‰äººè®¾è®¡ï¼ˆæˆ–è€…ç¾å…¶æ°‘æ›°â€œå‘æ˜â€ï¼‰äº†ä¸€ä¸ªè¯­è¨€ï¼Œå°±çƒ­è¡€æ²¸è…¾ï¼Œä½©æœçš„äº”ä½“æŠ•åœ°ã€‚ä»–ä»¬å´æ²¡æœ‰ç†è§£ï¼Œå…¶å®æ‰€æœ‰çš„ç¨‹åºè¯­è¨€ï¼Œä¸è¿‡æ˜¯åƒ Dellï¼Œè”æƒ³ä¸€æ ·çš„â€œç»„è£…æœºâ€ã€‚è¯­è¨€ç‰¹æ€§çš„è®¾è®¡è€…ï¼Œæ‰æ˜¯åƒ Intelï¼ŒAMDï¼ŒARMï¼ŒQualcomm é‚£æ ·æ ¸å¿ƒæŠ€æœ¯çš„åˆ›é€ è€…ã€‚åˆç†çš„å…¥é—¨è¯­è¨€æ‰€ä»¥åˆå­¦è€…è¦æƒ³äº‹åŠåŠŸå€ï¼Œå°±åº”è¯¥ä»ä¸€ç§â€œåˆç†â€çš„ï¼Œæ²¡æœ‰æ˜æ˜¾ä¸¥é‡é—®é¢˜çš„è¯­è¨€å‡ºå‘ï¼ŒæŒæ¡æœ€å…³é”®çš„è¯­è¨€ç‰¹æ€§ï¼Œç„¶åç”±æ­¤æŠŠè¿™äº›æ¦‚å¿µåº”ç”¨åˆ°å…¶å®ƒè¯­è¨€ã€‚å“ªäº›æ˜¯åˆç†çš„å…¥é—¨è¯­è¨€å‘¢ï¼Ÿæˆ‘ä¸ªäººè§‰å¾—è¿™äº›è¯­è¨€éƒ½å¯ä»¥ç”¨æ¥å…¥é—¨ï¼šSchemeCJavaPythonJavaScript é‚£ä¹ˆç›¸æ¯”ä¹‹ä¸‹ï¼Œæˆ‘ä¸æ¨èç”¨å“ªäº›è¯­è¨€å…¥é—¨å‘¢ï¼ŸShellPowerShellAWKPerlPHPBasicGo æ€»çš„è¯´æ¥ï¼Œä½ ä¸åº”è¯¥ä½¿ç”¨æ‰€è°“â€œè„šæœ¬è¯­è¨€â€ä½œä¸ºå…¥é—¨è¯­è¨€ï¼Œç‰¹åˆ«æ˜¯é‚£äº›æºäºæ—©æœŸ Unix ç³»ç»Ÿçš„è„šæœ¬è¯­è¨€å·¥å…·ã€‚PowerShell è™½ç„¶æ¯” Unix çš„ Shell æœ‰æ‰€è¿›æ­¥ï¼Œç„¶è€Œå®ƒä»ç„¶æ²¡æœ‰æ‘†è„±è„šæœ¬è¯­è¨€çš„æ ¹æœ¬é—®é¢˜â€”â€”ä»–ä»¬çš„è®¾è®¡è€…ä¸çŸ¥é“ä»–ä»¬è‡ªå·±åœ¨å¹²ä»€ä¹ˆ :Pé‡‡ç”¨è„šæœ¬è¯­è¨€å­¦ç¼–ç¨‹ï¼Œä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜å°±æ˜¯ä½¿å¾—å­¦ä¹ è€…æŠ“ä¸ä½å…³é”®ã€‚è„šæœ¬è¯­è¨€å¾€å¾€æŠŠä¸€äº›ç³»ç»Ÿå·¥å…·æ€§è´¨çš„ä¸œè¥¿ï¼ˆæ¯”å¦‚æ­£åˆ™è¡¨è¾¾å¼ï¼ŒWeb æ¦‚å¿µï¼‰åŠ å…¥åˆ°è¯­æ³•é‡Œé¢ï¼Œå¯¼è‡´åˆå­¦è€…ä¸ºå®ƒä»¬æµªè´¹å¤ªå¤šæ—¶é—´ï¼Œå´æ²¡æœ‰ç†è§£ç¼–ç¨‹æœ€å…³é”®çš„æ¦‚å¿µï¼šå˜é‡ï¼Œå‡½æ•°ï¼Œé€’å½’ï¼Œç±»å‹â€¦â€¦ä¸æ¨è Go è¯­è¨€çš„åŸå› ç±»ä¼¼ï¼Œè™½ç„¶ Go è¯­è¨€ä¸ç®—è„šæœ¬è¯­è¨€ï¼Œç„¶è€Œä»–çš„è®¾è®¡è€…æ˜¾ç„¶ä¸æ˜ç™½è‡ªå·±åœ¨å¹²ä»€ä¹ˆã€‚æ‰€ä»¥ä½¿ç”¨ Go è¯­è¨€æ¥å­¦ç¼–ç¨‹ï¼Œä½ ä¸èƒ½ä¸“æ³¨äºæœ€å…³é”®ï¼Œæœ€å¥½çš„è¯­è¨€ç‰¹æ€§ã€‚æŒæ¡å…³é”®è¯­è¨€ç‰¹æ€§ï¼Œå¿½ç•¥æ¬¡è¦ç‰¹æ€§ä¸ºäº†è¾¾åˆ°æˆ‘ä¹‹å‰æåˆ°çš„â€œèä¼šè´¯é€šâ€ï¼Œä¸€é€šç™¾é€šçš„æ•ˆæœï¼Œåˆå­¦è€…åº”è¯¥ä¸“æ³¨äºè¯­è¨€é‡Œé¢æœ€å…³é”®çš„ç‰¹æ€§ï¼Œè€Œä¸æ˜¯è¢«æ¬¡è¦çš„å†…å®¹åˆ†å¿ƒã€‚æˆ‘å‘ç°å¾ˆå¤šç¼–ç¨‹åŸ¹è®­ç­å’Œé‡é¸¡å¤§å­¦çš„ç¼–ç¨‹å…¥é—¨è¯¾ï¼Œå¾€å¾€ä¸€æ¥å°±æ•™å­¦ç”Ÿå¦‚ä½•ä½¿ç”¨ printf æ‰“å°â€œHello Worldï¼â€ï¼Œè¿›è€Œè¦ä»–ä»¬è®°å¿† printf çš„å„ç§â€œæ ¼å¼å­—ç¬¦â€çš„æ„ä¹‰ï¼Œè¦ä»–ä»¬å®ç°å„ç§å¤æ‚æ ¼å¼çš„æ‰“å°è¾“å‡ºï¼Œç”šè‡³è¦æ±‚æ‰“å°åˆ°æ–‡æœ¬æ–‡ä»¶é‡Œï¼Œç„¶åå†è¯»å‡ºæ¥â€¦â€¦å¯æ˜¯æ®Šä¸çŸ¥ï¼Œè¿™ç§è¾“å‡ºè¾“å…¥æ“ä½œå…¶å®æ ¹æœ¬ä¸ç®—æ˜¯è¯­è¨€çš„ä¸€éƒ¨åˆ†ï¼Œè€Œä¸”å¯¹äºæŒæ¡ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µæ¥è¯´ï¼Œéƒ½æ˜¯æ¬¡è¦çš„ã€‚æœ‰äº›äººçš„ Java è¯¾ç¨‹è¿›è¡Œäº†å¥½å‡ ä¸ªæ˜ŸæœŸï¼Œå±…ç„¶è¿˜åœ¨å¸ƒç½®å„ç§ printf çš„ä½œä¸šã€‚å­¦ç”Ÿå†™å‡ºå‡ ç™¾è¡Œçš„ printfï¼Œå´ä¸ç†è§£â€œå˜é‡â€å’Œâ€œå‡½æ•°â€æ˜¯ä»€ä¹ˆï¼Œç”šè‡³è¿ç®—æœ¯è¯­å¥å’Œå¾ªç¯è¯­å¥éƒ½ä¸çŸ¥é“æ€ä¹ˆç”¨ï¼è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¾ˆå¤šåˆå­¦è€…æ„Ÿè§‰ç¼–ç¨‹å¾ˆéš¾ï¼Œæˆ‘è¿ %dï¼Œ%fï¼Œ%.2f çš„å«ä¹‰éƒ½è®°ä¸ä½ï¼Œè¿˜æ€ä¹ˆå­¦ç¼–ç¨‹ï¼ç„¶è€Œè¿™äº›é‡é¸¡å¤§å­¦çš„â€œæ•™æˆâ€å¤´è¡”æ˜¯å¦‚æ­¤çš„æ´—è„‘ï¼Œä»¥è‡³äºè¢«ä»–ä»¬æ•™è¿‡çš„å­¦ç”Ÿï¼ˆæ¯”å¦‚æˆ‘å¥³æœ‹å‹ï¼‰åˆ°æˆ‘è¿™é‡Œè¯·æ•™ï¼Œå±…ç„¶éª‚æˆ‘å‡€æ•™ä¸€äº›æ²¡ç”¨çš„ä¸œè¥¿ï¼Œå­¦äº†è¿ printf çš„ä½œä¸šéƒ½æ²¡æ³•å®Œæˆ :P ä½ åˆ«è·Ÿæˆ‘è®² for å¾ªç¯ï¼Œå‡½æ•°ä»€ä¹ˆçš„äº†â€¦â€¦ å¯ä¸å¯ä»¥ç­‰å‡ ä¸ªæœˆï¼Œç­‰æˆ‘èƒŒç†Ÿäº† printf çš„ç”¨æ³•å†å­¦é‚£äº›å•Šï¼Ÿæ‰€ä»¥ä½ å°±å‘ç°ä¸€æ—¦è¢«åè€å¸ˆæ•™è¿‡ï¼Œè¿™ä¸ªç¨‹åºå‘˜åŸºæœ¬å°±æ¯äº†ã€‚å°±ç®—é‡åˆ°å¥½çš„è€å¸ˆï¼Œå¥¹ä¹Ÿå¾ˆéš¾çº æ­£è¿‡æ¥ã€‚è‡ªå·±åŠ¨æ‰‹å®ç°è¯­è¨€ç‰¹æ€§åœ¨åŸºæœ¬å­¦ä¼šäº†å„ç§è¯­è¨€ç‰¹æ€§ï¼Œèƒ½ç”¨å®ƒä»¬æ¥å†™ä»£ç ä¹‹åï¼Œä¸‹ä¸€æ­¥çš„è¿›é˜¶å°±æ˜¯å»å®ç°å®ƒä»¬ã€‚åªæœ‰å®ç°äº†å„ç§è¯­è¨€ç‰¹æ€§ï¼Œä½ æ‰èƒ½å®Œå®Œå…¨å…¨çš„æ‹¥æœ‰å®ƒä»¬ï¼Œæˆä¸ºå®ƒä»¬çš„ä¸»äººã€‚å¦åˆ™ä½ å°±åªæ˜¯å®ƒä»¬çš„ä½¿ç”¨è€…ï¼Œä½ ä¼šæ°¸è¿œåšè¯­è¨€åˆ›é€ è€…ä»¬çš„ä»†äººã€‚æœ‰ä¸ªå¤§å¸ˆè¯´å¾—å¥½ï¼Œå®Œå…¨ç†è§£ä¸€ç§è¯­è¨€æœ€å¥½çš„æ–¹æ³•å°±æ˜¯è‡ªå·±åŠ¨æ‰‹å®ç°å®ƒï¼Œä¹Ÿå°±æ˜¯è‡ªå·±å†™ä¸€ä¸ªè§£é‡Šå™¨æ¥å®ç°å®ƒçš„è¯­ä¹‰ã€‚ä½†æˆ‘è§‰å¾—è¿™å¥è¯åº”è¯¥ç¨å¾®ä¿®æ”¹ä¸€ä¸‹ï¼šå®Œå…¨ç†è§£ä¸€ç§â€œè¯­è¨€ç‰¹æ€§â€æœ€å¥½çš„æ–¹æ³•å°±æ˜¯è‡ªå·±äº²è‡ªå®ç°å®ƒã€‚æ³¨æ„æˆ‘åœ¨è¿™é‡ŒæŠŠâ€œè¯­è¨€â€æ”¹ä¸ºäº†â€œè¯­è¨€ç‰¹æ€§â€ã€‚ä½ å¹¶ä¸éœ€è¦å®ç°æ•´ä¸ªè¯­è¨€æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ï¼Œå› ä¸ºæˆ‘ä»¬æœ€ç»ˆä½¿ç”¨çš„è¯­è¨€ç‰¹æ€§ã€‚åªè¦ä½ è‡ªå·±å®ç°äº†ä¸€ç§è¯­è¨€ç‰¹æ€§ï¼Œä½ å°±èƒ½ç†è§£è¿™ä¸ªç‰¹æ€§åœ¨ä»»ä½•è¯­è¨€é‡Œçš„å®ç°æ–¹å¼å’Œç”¨æ³•ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå­¦ä¹  SICP çš„æ—¶å€™ï¼Œå¤§å®¶éƒ½ä¼šäº²è‡ªç”¨ Scheme å®ç°ä¸€ä¸ªé¢å‘å¯¹è±¡ç³»ç»Ÿã€‚ç”¨ Scheme å®ç°çš„é¢å‘å¯¹è±¡ç³»ç»Ÿï¼Œè·Ÿ Javaï¼ŒC++ï¼ŒPython ä¹‹ç±»çš„è¯­è¨€è¯­æ³•ç›¸å»ç”šè¿œï¼Œç„¶è€Œå®ƒå´èƒ½å¸®åŠ©ä½ ç†è§£ä»»ä½•è¿™äº› OOP è¯­è¨€é‡Œé¢çš„â€œé¢å‘å¯¹è±¡â€è¿™ä¸€æ¦‚å¿µã€‚å®ƒç”šè‡³èƒ½å¸®åŠ©ä½ ç†è§£å„ç§é¢å‘å¯¹è±¡å®ç°çš„å·®å¼‚ï¼Œè¿™ç§æ•ˆæœæ˜¯ä½ ç›´æ¥å­¦ä¹  OOP è¯­è¨€ä¹Ÿå¾—ä¸åˆ°çš„ã€‚ç±»ä¼¼çš„ç‰¹æ€§è¿˜åŒ…æ‹¬ç±»å‹æ¨å¯¼ï¼Œç±»å‹æ£€æŸ¥ï¼Œæƒ°æ€§æ±‚å€¼ï¼Œå¦‚æ­¤ç­‰ç­‰ã€‚æˆ‘å®ç°è¿‡å‡ ä¹æ‰€æœ‰çš„è¯­è¨€ç‰¹æ€§ï¼Œæ‰€ä»¥ä»»ä½•è¯­è¨€åœ¨æˆ‘çš„é¢å‰éƒ½æ˜¯å¯ä»¥è¢«ä»»æ„æ‹†å¸ç»„è£…ç©å¼„çš„ç©å…·ï¼Œè€Œä¸å†æ˜¯å‡Œé©¾äºæˆ‘ä¹‹ä¸Šï¼Œé«˜é«˜åœ¨ä¸Šçš„ç¥åœ£ã€‚æ€»ç»“å†™äº†è¿™ä¹ˆå¤šï¼Œé‡è¦çš„è¯é‡å¤ä¸‰éï¼šè¯­è¨€ç‰¹æ€§ï¼Œè¯­è¨€ç‰¹æ€§ï¼Œè¯­è¨€ç‰¹æ€§ï¼Œè¯­è¨€ç‰¹æ€§ï¼ä¸ç®¡æ˜¯åˆå­¦è€…è¿˜æ˜¯èµ„æ·±ç¨‹åºå‘˜ï¼Œåº”è¯¥ä¸“æ³¨äºè¯­è¨€ç‰¹æ€§ï¼Œè€Œä¸æ˜¯æ•´ä¸ªè¯­è¨€çš„â€œå“ç‰Œâ€ã€‚åªæœ‰è¿™æ ·æ‰èƒ½è¾¾åˆ°èä¼šè´¯é€šï¼Œæ‹¿èµ·ä»»ä½•è¯­è¨€å‡ ä¹ç«‹å³å°±ä¼šç”¨ï¼Œå¹¶ä¸”å†™å‡ºé«˜è´¨é‡çš„ä»£ç ]]></content>
      <categories>
        <category>é€šç”¨å¼€å‘</category>
      </categories>
      <tags>
        <tag>æ‚è°ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®°ä¸€æ¬¡Runtime Hookçš„é—®é¢˜]]></title>
    <url>%2F2018%2F01%2F24%2F%E8%AE%B0%E4%B8%80%E6%AC%A1Runtime-Hook%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯é¡¹ç›®ä¸­é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œéœ€è¦å¼•å…¥ä¸¤ä¸ªSDKï¼Œæˆ‘ä»¬æš‚ä¸”å‘½åä¸ºA å’Œ Bï¼Œç”±äºä¸šåŠ¡éœ€è¦è¿™ä¸¤ä¸ªSDKéƒ½éœ€è¦å¯¹ä¸€ä¸ªç³»ç»Ÿå‡½æ•°Cè¿›è¡Œhook, ä½†æ˜¯æœ‰ä¸€ä¸ªå‰æï¼Œç”±äºB æ‰€åšçš„æ˜¯ä¸€ä¸ªç»Ÿè®¡ç›¸å…³çš„SDKï¼Œæ‰€ä»¥Bè¦ç›‘æ§Appå†…çš„æ‰€æœ‰ä»£ç è¿™å…¶ä¸­ä¹ŸåŒ…æ‹¬äº† SDK A æ‰€åšçš„ä¸€äº›æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬å¿…é¡»ç¡®ä¿Båœ¨hook Cå‡½æ•°æ—¶å€™ Aå·²ç»å¯¹Cå‡½æ•°hookå®Œæ¯•ï¼Œå…¶å®è¿™å°±æ¶‰åŠåˆ°hooké¡ºåºçš„é—®é¢˜ã€‚ ç ”ç©¶å…ˆçœ‹ä¸‹ä»£ç ï¼Œæˆ‘ç”¨hookMethodæ¥æ¨¡ä»¿ç³»ç»Ÿæ–¹æ³•ã€‚- (void) TEST_HOOK_TWICE &#123; [self changeOrginalSelectorName:@"hookedMethod" inClass:@"RootViewController" withCustomSelectorName:@"swizzle_hookedMethod1" isClassMethod:NO]; [self changeOrginalSelectorName:@"hookedMethod" inClass:@"RootViewController" withCustomSelectorName:@"swizzle_hookedMethod2" isClassMethod:NO]; [self hookedMethod];&#125;- (void)hookedMethod &#123; NSLog(@"åŸå§‹æ–¹æ³•");&#125;- (void)swizzle_hookedMethod1 &#123; NSLog(@"1"); [self swizzle_hookedMethod1];&#125;- (void)swizzle_hookedMethod2 &#123; NSLog(@"2"); [self swizzle_hookedMethod2];&#125; ç„¶åçœ‹ä¸‹æ²¡æœ‰hookä¹‹å‰çš„æ ·å­ ç„¶åæˆ‘ä»¬æ‰§è¡Œä»£ç //ç¬¬ä¸€æ­¥ï¼šäº¤æ¢Aä¸­çš„æ–¹æ³•å’Œç³»ç»Ÿæ–¹æ³• [self changeOrginalSelectorName:@"hookedMethod" inClass:@"RootViewController" withCustomSelectorName:@"swizzle_hookedMethod1" isClassMethod:NO];//ç¬¬äºŒæ­¥ï¼šäº¤æ¢Bä¸­çš„æ–¹æ³•å’Œç³»ç»Ÿæ–¹æ³•[self changeOrginalSelectorName:@"hookedMethod" inClass:@"RootViewController" withCustomSelectorName:@"swizzle_hookedMethod2" isClassMethod:NO];//ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨ç³»ç»Ÿæ–¹æ³•[self hookedMethod]; ç„¶åæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥çœ‹ï¼Œå…ˆçœ‹è°ƒç”¨ç¬¬ä¸€æ­¥ä¹‹åæ˜¯ä»€ä¹ˆæ ·å­çš„(çº¢è‰²ç®­å¤´ä¸ºç¬¬ä¸€æ­¥ä¹‹åçš„æ ·å­) ç„¶åçœ‹ç¬¬äºŒæ­¥è°ƒç”¨å®Œä¹‹åçš„æ ·å­(ç»¿è‰²æ˜¯ç¬¬äºŒæ­¥è°ƒç”¨) æ¥ä¸‹æ¥æˆ‘ä»¬è°ƒç”¨ç³»ç»Ÿæ–¹æ³•ä¹Ÿå°±æ˜¯ç¬¬ä¸‰æ­¥ï¼Œç„¶åæˆ‘ä»¬çœ‹ä¸‹æµç¨‹æ˜¯æ€æ ·çš„(æ¯ä¸ªæ–¹æ³•å®ç°é‡Œé¢éƒ½ä¼šé€’å½’è°ƒç”¨ä¸‹è‡ªèº«ï¼Œä¸ºäº†æ˜¯hookæ—¶å€™ä¸æ”¹å˜åŸæœ‰é€»è¾‘) è¿™æ ·ä¸€æ¥å°±å¾ˆæ˜æ˜¾ å¦‚æœæƒ³æƒ³ç›‘æ§ä½æ‰€æœ‰çš„ä»£ç é‚£å°±éœ€è¦åœ¨A IMP è¿™æ­¥ï¼Œå› ä¸ºä¹‹å‰çš„Hooké¡ºåºæ˜¯å…ˆA -&gt; B -&gt; System è¿™æ ·ä¸€æ¥åªè¦æˆ‘ä»¬æ”¹ä¸€ä¸‹é¡ºåºæ”¹ä¸º B -&gt; A -&gt; Systemå°±å¯ä»¥è®©B SDKç›‘æ§åˆ°æ‰€æœ‰çš„ä»£ç ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>åº•å±‚</tag>
        <tag>runtime</tag>
        <tag>Hook</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[iOSä¸­ä½¿ç”¨OpenGLå®ç°å¢é«˜åŠŸèƒ½]]></title>
    <url>%2F2018%2F01%2F23%2FiOS%E4%B8%AD%E4%BD%BF%E7%94%A8OpenGL%E5%AE%9E%E7%8E%B0%E5%A2%9E%E9%AB%98%E5%8A%9F%E8%83%BD%2F</url>
    <content type="text"><![CDATA[åŠŸèƒ½æ•ˆæœ åŠŸèƒ½åˆ†æ åŠŸèƒ½ï¼šæ¸²æŸ“ä¸€å¼ ä¼ å…¥çš„å›¾ç‰‡ -&gt; æ‰‹åŠ¨é€‰æ‹©ç¼–è¾‘åŒºåŸŸ -&gt; é€šè¿‡æ»‘å—æ¥ç¼–è¾‘åŒºåŸŸçš„å¢é«˜æˆ–è€…ç¼©çŸ­ OpenGLåŸç†ï¼š å› ä¸ºOpenGL åªèƒ½ç»˜åˆ¶ä¸‰è§’å½¢ï¼Œæ‰€ä»¥åœ¨å¤„ç†å›¾åƒæˆ–è€…å›¾å½¢çš„æ—¶å€™æˆ‘ä»¬éœ€è¦å°†è¢«å¤„ç†çš„å¯¹è±¡ç”¨ä¸‰è§’è¡Œæ¥åˆ†å‰²è½¬æ¢ä¸ºä¸‰è§’å½¢å’Œé¡¶ç‚¹çš„ç»„æˆçš„å¯¹è±¡ã€‚ OpenGLé‡Œé¢åæ ‡æ˜¯ä»¥å·¦ä¸‹è§’ä¸ºåŸç‚¹Xè½´å‘ä¸Šä¸ºæ­£ï¼ŒYè½´å‘å³ä¸ºæ­£ åŠŸèƒ½å®ç° æ¸²æŸ“å›¾ç‰‡æ‹†åˆ†å›¾ç‰‡ï¼š æ‹†åˆ†æ–¹æ³•1ï¼šé€šè¿‡å›¾å½¢çœ‹å‡ºæ˜¯ä¸€ä¸ªçŸ©å½¢ï¼Œè€ŒçŸ©å½¢æ˜¯å¯ä»¥åˆ†æˆä¸¤ä¸ªä¸‰è§’å½¢å’Œå››ä¸ªé¡¶ç‚¹ï¼Œé€šè¿‡æ­¤å¯ä»¥ç”¨GLæ¸²æŸ“å‡ºå›¾ç‰‡ã€‚ è¿™æ ·æ‹†åˆ†ä¹‹åè™½ç„¶å¯ä»¥æ­£å¸¸æ¸²æŸ“ï¼Œä½†æ˜¯å¸¦æ¥çš„é—®é¢˜æ˜¯æˆ‘çš„å››ä¸ªé¡¶ç‚¹éƒ½æ˜¯æ­»çš„ï¼Œä¹Ÿå°±æ˜¯å››ä¸ªé¡¶ç‚¹å¿…é¡»æ˜¯ç”»å¸ƒçš„å››ä¸ªé¡¶ç‚¹ï¼Œæ”¹å˜é¡¶ç‚¹çš„åæ ‡ååªèƒ½å¯¼è‡´æ•´å¼ ç”»å¸ƒçš„å˜åŠ¨ï¼Œè€Œä¸æ˜¯æŸä¸€ä¸ªåŒºåŸŸçš„å˜åŠ¨ï¼Œæ‹‰ä¼¸çš„è¯ä¹Ÿæ˜¯æ•´å¼ å›¾ç‰‡çš„æ‹‰ä¼¸ï¼Œæ‰€ä»¥æƒ³è¦å®ç°å±€éƒ¨å¤„ç†çš„è¯è¿™ç§åˆ†å‰²æ–¹å¼ä¸å¯è¡Œã€‚ æ‹†åˆ†æ–¹æ³•2ï¼šå°†æ•´å¼ å›¾ç‰‡å…ˆæ‹†åˆ†ä¸ºä¸‰ä¸ªçŸ©å½¢ï¼Œç„¶åå†æŠŠæ¯ä¸ªçŸ©å½¢æ‹†åˆ†æˆä¸¤ä¸ªä¸‰è§’å½¢ï¼Œå¾—åˆ°6ä¸ªä¸‰è§’å½¢ï¼Œ8ä¸ªé¡¶ç‚¹ï¼Œå¦‚ä¸‹å›¾ï¼š è¿™æ ·ä¸€æ¥å°±å¯ä»¥ä¿è¯ä¸­é—´çš„çŸ©å½¢çš„é«˜åº¦å¯ä»¥ä»»æ„å˜åŒ–è€Œä¸Šä¸‹ä¸¤éƒ¨åˆ†çš„é«˜åº¦ä¸å˜åªæ”¹å˜ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬è¿™ä¸ªDEMOä¸­æ‰€åšçš„ä»»ä½•æ‹‰ä¼¸æ“ä½œéƒ½æ˜¯å¯¹ä¸­é—´çŸ©å½¢çš„æ“ä½œï¼Œæ¢è€Œè¨€ä¹‹å°±æ˜¯æ”¹å˜æœ€ä¸Šé¢çš„çŸ©å½¢å’Œæœ€ä¸‹é¢çš„çŸ©å½¢ä¹‹é—´çš„è·ç¦»æ¥è¾¾åˆ°å¯¹ä¸­é—´åŒºåŸŸçš„æ‹‰ä¼¸å’Œå‹ç¼©çš„ç›®çš„ã€‚æ ¹æ®æ‹†åˆ†çš„æ–¹å¼æˆ‘ä»¬ç”¨é¡¶ç‚¹çš„åæ ‡åˆ›å»ºä¸€ä¸ªæ•°ç»„//é¡¶ç‚¹æ•°ç»„GLfloat vertices[] = &#123; -1.2, -1.2, //å·¦ä¸‹ 1.2, -1.2, //å³ä¸‹ -1.2, -0.4, //å°çŸ©å½¢å·¦ä¸‹ 1.2, -0.4, //å°çŸ©å½¢å³ä¸‹ -1.2, 0.4, //å°çŸ©å½¢å·¦ä¸Š 1.2, 0.4, //å°çŸ©å½¢å³ä¸Š -1.2, 1.2, //å·¦ä¸Š 1.2, 1.2, //å³ä¸Š&#125;; //å¡«å……çº¹ç†çš„æ•°ç»„GLfloat texCoords[] = &#123; 0, 0, //å·¦ä¸‹ //ä¸‹æ ‡ä¸º 0 1 1, 0, //å³ä¸‹ //ä¸‹æ ‡ä¸º2 3 0, 1.0/3.0, //å°çŸ©å½¢å·¦ä¸‹ //ä¸‹æ ‡ä¸º4 5 1, 1.0/3.0, //å°çŸ©å½¢å³ä¸‹ //ä¸‹æ ‡ä¸º6 7 0, 2.0/3.0, //å°çŸ©å½¢å·¦ä¸Šè§’ //ä¸‹æ ‡ä¸º8 9 1, 2.0/3.0, //å°çŸ©å½¢å³ä¸Šè§’ //ä¸‹æ ‡ä¸º10 11 0, 1, //å·¦ä¸Š //ä¸‹æ ‡ä¸º12 13 1, 1, //å³ä¸Š //ä¸‹æ ‡ä¸º14 15&#125;; æ‰‹åŠ¨é€‰æ‹©åŒºåŸŸï¼šé€šè¿‡æ·»åŠ å¸¦æœ‰è‡ªå®šä¹‰æ‰‹åŠ¿çš„UIView æ¥å®ç°æ‹–åŠ¨ä¿®æ”¹é€‰æ‹©åŒºåŸŸã€‚ *****************CustomPanViewä»£ç ******************#import &lt;UIKit/UIKit.h&gt;@protocol CustomPanViewDelegate &lt;NSObject&gt;/** * å¼€å§‹æ‹–æ‹½ * * @param customPanView è‡ªèº« * @param centerY è‡ªèº«æ‰€åœ¨çš„yåæ ‡ */- (void)beginDragWithCoustomPanView:(UIView *)customPanView centerY:(CGFloat)centerY;@end@interface CustomPanView : UIView@property (nonatomic, assign) id&lt;CustomPanViewDelegate&gt; delegate;@end *****************CustomPanViewDelegateä»£ç ******************#pragma mark -#pragma mark æ‹–æ‹½Viewçš„ä»£ç†æ–¹æ³•-(void)beginDragWithCoustomPanView:(UIView *)customPanView centerY:(CGFloat)centerY &#123; // é™åˆ¶èŒƒå›´ï¼šè£å‰ªåŒºä¸èƒ½å¤§äºå›¾ç‰‡åŒºåŸŸ if (customPanView.center.y &gt;= imageBottom) &#123; customPanView.center = CGPointMake(customPanView.center.x, imageBottom); &#125; if (customPanView.center.y &lt;= imageTop) &#123; customPanView.center = CGPointMake(customPanView.center.x, imageTop); &#125;// è·å–ä¸¤æ¡çº¿çš„åæ ‡ CGFloat topY = _topView.center.y; CGFloat bottomY = _bottomView.center.y;// æ ¹æ®ä¸¤æ¡çº¿çš„åæ ‡åˆ·æ–°è£å‰ªåŒºåŸŸUI [_cutLabel setFrame:CGRectMake(0, topY &lt; bottomY ? topY : bottomY, SCREEN_WIDTH, fabs(bottomY - topY))];// ç®—å‡ºè£å‰ªèµ·å§‹åæ ‡å’Œç»“æŸåæ ‡ CGFloat fromPoint = topY &lt; bottomY ? (imageBottom - bottomY) / imageHeight : (imageBottom - topY) / imageHeight; CGFloat toPoint = topY &lt; bottomY ? (imageBottom - topY) / imageHeight : (imageBottom - bottomY) / imageHeight; //å°†ä¸­é—´çš„çŸ©å½¢çš„é¡¶ç‚¹åæ ‡å’Œåæ ‡è”ç³»è£å‰ªåŒºåŸŸè”ç³»èµ·æ¥ã€‚ [self sendFromePoint:fromPoint endPoint:toPoint]; if (_cutLabel.frame.size.height &lt; 30) &#123; //éšè—æ–‡å­— _cutLabel.text = @""; &#125; else &#123; _cutLabel.text = @"ç¼–è¾‘åŒºåŸŸ"; &#125; [self.slider setValue:0.0 animated:YES]; tmpHeight = 0.0f;&#125; ä½¿ç”¨ä¸€ä¸ªDelegateå°†æ‹–ç§»åçš„Yåæ ‡è¿”å›ï¼Œå› ä¸ºæ˜¯ç«–ç›´è¿åŠ¨çš„æ‰€ä»¥æˆ‘ä»¬åªå…³å¿ƒYè½´åæ ‡ã€‚ æ”¹å˜å¤§å°ï¼šé€šè¿‡å°†UISliderBarçš„ValueChangeå’Œé¡¶ç‚¹åæ ‡å…³è”æ¥å®ç°æ”¹å˜é¡¶ç‚¹åæ ‡ï¼Œä¹‹åè°ƒç”¨GLKView çš„displayçš„æ–¹æ³•æ¥åˆ·æ–°UIï¼Œå°†å˜åŒ–çš„è¿‡ç¨‹å±•ç°å‡ºæ¥ã€‚ - (void)action:(UISlider *)sender &#123; //åˆ¤æ–­æ˜¯å¦æ˜¯å‘å³æ»‘åŠ¨ isRightDirection = sender.value &gt;= judgeDirection ? YES : NO; //æ‰€æ”¹å˜çš„é«˜åº¦ changeHeight = sender.value - tmpHeight; //éå†æ•°ç»„ for (int i = 0; i &lt; 16; i ++) &#123; //å°†Yåæ ‡ç­›é€‰å‡ºæ¥ if (i % 2 != 0) &#123; //ä¸‹åŠéƒ¨åˆ†çŸ©å½¢ if (i &lt;= 7) &#123; //ä¸‹åŠéƒ¨åˆ†çŸ©å½¢Yè½´åšå‡æ³•å‡å»å˜åŒ–çš„é«˜åº¦ vertices[i] = verticesCopy[i] - changeHeight; //ä¸ŠåŠéƒ¨åˆ†çŸ©å½¢ &#125; else if (i &gt;= 9) &#123; //ä¸ŠåŠéƒ¨åˆ†çŸ©å½¢Yè½´åšåŠ æ³•åŠ ä¸Šå˜åŒ–çš„é«˜åº¦ vertices[i] = verticesCopy[i] + changeHeight; &#125; &#125; &#125; //ç¼©å°æ—¶å€™å¦‚æœç¼–è¾‘åŒºåŸŸå·²ç»æˆä¸ºä¸€æ¡çº¿äº†å°±ä¸èƒ½åœ¨ç¼©å°äº† if (vertices[11] &gt; vertices[7]) &#123; [self.glView display]; &#125;&#125; é€šè¿‡glReadPixelsæ¥ä»å†…å­˜ä¸­è¯»å–åƒç´ æ•°æ®ï¼ŒGLubyte -&gt; CGImageRef -&gt; UIimage ç„¶åæœ€ç›¸å…³çš„ä¿å­˜æˆ–è€…å…¶ä»–æ“ä½œã€‚ #pragma mark -#pragma mark è·å–å¤„ç†åçš„å›¾ç‰‡- (UIImage *) createImage &#123; int imageY = 0; int imgHeight = 0; if (isRightDirection) &#123; // åˆ¤æ–­slideræ»‘åŠ¨æ–¹å‘ imageY = fabs(imageTop - fabs(changeHeight * perOpengleseCoordinate)) * screenScale; imgHeight = fabs(imageHeight + 2 * fabs(changeHeight * perOpengleseCoordinate)) * screenScale; &#125; else &#123; imageY = fabs(imageTop + fabs(changeHeight * perOpengleseCoordinate)) * screenScale; imgHeight = fabs(imageHeight - 2 * fabs(changeHeight * perOpengleseCoordinate)) * screenScale; &#125; int imageWidth = SCREEN_WIDTH * screenScale; int dataLength = imageWidth * imgHeight * 4; GLubyte *data = (GLubyte*)malloc(dataLength * sizeof(GLubyte)); glPixelStorei(GL_PACK_ALIGNMENT, 4); glReadPixels(0, imageY, imageWidth, imgHeight, GL_RGBA, GL_UNSIGNED_BYTE, data); //ä»å†…å­˜ä¸­è¯»å–åƒç´  CGDataProviderRef ref = CGDataProviderCreateWithData(NULL, data, dataLength, NULL); CGColorSpaceRef colorspace = CGColorSpaceCreateDeviceRGB(); CGImageRef iref = CGImageCreate(imageWidth, imgHeight, 8, 32, imageWidth * 4, colorspace, kCGBitmapByteOrder32Big | kCGImageAlphaPremultipliedLast,ref, NULL, true, kCGRenderingIntentDefault); UIGraphicsBeginImageContext(CGSizeMake(imageWidth, imgHeight)); CGContextRef cgcontext = UIGraphicsGetCurrentContext(); CGContextSetBlendMode(cgcontext, kCGBlendModeCopy); CGContextDrawImage(cgcontext, CGRectMake(0, 0, imageWidth, imgHeight), iref); CGImageRef imageMasked = CGBitmapContextCreateImage(cgcontext); UIImage * image = [UIImage imageWithCGImage:imageMasked scale:screenScale orientation:UIImageOrientationUp]; UIGraphicsEndImageContext(); free(data); CFRelease(ref); CFRelease(colorspace); CGImageRelease(iref); return image;&#125;]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>åº•å±‚</tag>
        <tag>OpenGL</tag>
        <tag>UI</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºç‰©ç†æ•ˆæœçš„åŠ¨ç”»å¼•æ“UIDynamicä»‹ç»]]></title>
    <url>%2F2018%2F01%2F23%2F%E5%85%B3%E4%BA%8E%E7%89%A9%E7%90%86%E6%95%88%E6%9E%9C%E7%9A%84%E5%8A%A8%E7%94%BB%E5%BC%95%E6%93%8EUIDynamic%E4%BB%8B%E7%BB%8D%2F</url>
    <content type="text"><![CDATA[è¿™å‡ å¤©äº‹æƒ…è¶…å¤šï¼Œå®åœ¨å¾ˆéš¾é™ä¸‹å¿ƒæ¥ç ”ç©¶ä¸€ä¸ªä¸œè¥¿ï¼Œä½†æ˜¯è¿™ä¸ªç±»æˆ‘ä¹Ÿæ˜¯å…³æ³¨å¥½ä¹…äº†ï¼Œæ—©å°±æƒ³æ€»ç»“ä¸‹å†™å‡ºæ¥ï¼Œ å¯èƒ½è¿™ç¯‡æ–‡ç« å¹¶ä¸ä¼šåƒä¹‹å‰é¢é‚£æ ·é‚£ä¹ˆè¯¦ç»†ï¼ŒæŒ‰ç†è¯´å†™åŠ¨ç”»ç›¸å…³çš„ä¸œè¥¿åº”è¯¥æ˜¯é…gifçš„ï¼Œä½†æ˜¯çœŸçš„æ˜¯æ²¡æœ‰å¿ƒæ€å†å»æé‚£äº›ä¸œè¥¿ï¼Œä»£ç å¹¶ä¸éš¾ï¼Œå¤§å®¶å¯ä»¥ç…§ç€ä»£ç å†™ä¸€ä¸‹çœ‹ä¸‹æ•ˆæœã€‚ ä¸ºäº†å®ç°åŠ¨åŠ›UIï¼Œéœ€è¦æ³¨å†Œä¸€å¥—UIè¡Œä¸ºçš„ä½“ç³»ï¼Œä¹‹åUIä¾¿ä¼šæŒ‰ç…§é¢„å…ˆçš„è®¾å®šè¿›è¡Œè¿åŠ¨äº†ã€‚æˆ‘ä»¬åº”è¯¥äº†è§£çš„æ–°çš„åŸºæœ¬æ¦‚å¿µæœ‰å¦‚ä¸‹å››ä¸ªï¼šUIDynamicItemï¼šç”¨æ¥æè¿°ä¸€ä¸ªåŠ›å­¦ç‰©ä½“çš„çŠ¶æ€ï¼Œå…¶å®å°±æ˜¯å®ç°äº†UIDynamicItemå§”æ‰˜çš„å¯¹è±¡ï¼Œæˆ–è€…æŠ½è±¡ä¸ºæœ‰é¢ç§¯æœ‰æ—‹è½¬çš„è´¨ç‚¹ï¼› ç®€å•çš„è¯´å°±æ˜¯ä¸€ä¸ªæ§ä»¶ï¼Œå°±æ˜¯ä½ æƒ³å¾€è°ä¸Šé¢åŠ åŠ¨ç”»ï¼Œè¿™ä¸ªå°±æ˜¯è°ã€‚UIDynamicBehaviorï¼šåŠ¨åŠ›è¡Œä¸ºçš„æè¿°ï¼Œç”¨æ¥æŒ‡å®šUIDynamicItemåº”è¯¥å¦‚ä½•è¿åŠ¨ï¼Œå³å®šä¹‰é€‚ç”¨çš„ç‰©ç†è§„åˆ™ã€‚ä¸€èˆ¬æˆ‘ä»¬ä½¿ç”¨è¿™ä¸ªç±»çš„å­ç±»å¯¹è±¡æ¥å¯¹ä¸€ç»„UIDynamicItemåº”è¯¥éµå®ˆçš„è¡Œä¸ºè§„åˆ™è¿›è¡Œæè¿°ï¼›ç®€å•çš„è¯´å°±æ˜¯åŠ¨ç”»æ•ˆæœï¼Œè¿™ä¸ªç±»æ˜¯åŠ¨ç”»æ•ˆæœçš„ä¸€ä¸ªçˆ¶ç±»ï¼Œå®ƒçš„å­ç±»å¤§å®¶å¯ä»¥ç”¨è¿è¡Œæ—¶çš„æ–¹æ³•è¾“å‡ºä¸€ä¸‹çœ‹ä¸€ä¸‹ï¼Œæˆ–è€…ä¸€ä¼šçœ‹æˆ‘ä»‹ç»ï¼Œä¸€ä¸ªå­ç±»æ˜¯ä¸€ä¸ªæ•ˆæœï¼Œå„ç§æ•ˆæœæ¯”å¦‚é‡åŠ›å•Šç¢°æ’å•Šï¼Œé“¾æ¥å•Šä¹‹ç±»çš„ã€‚UIDynamicAnimatorï¼›åŠ¨ç”»çš„æ’­æ”¾è€…ï¼ŒåŠ¨åŠ›è¡Œä¸ºï¼ˆUIDynamicBehaviorï¼‰çš„å®¹å™¨ï¼Œæ·»åŠ åˆ°å®¹å™¨å†…çš„è¡Œä¸ºå°†å‘æŒ¥ä½œç”¨ï¼›ReferenceViewï¼šç­‰åŒäºåŠ›å­¦å‚è€ƒç³»ï¼Œå¦‚æœä½ çš„åˆä¸­ç‰©ç†ä¸æ˜¯è¯­æ–‡è€å¸ˆæ•™çš„è¯ï¼Œæˆ‘æƒ³ä½ çŸ¥é“è¿™æ˜¯å•¥..åªæœ‰å½“æƒ³è¦æ·»åŠ åŠ›å­¦çš„UIViewæ˜¯ReferenceViewçš„å­viewæ—¶ï¼ŒåŠ¨åŠ›UIæ‰å‘ç”Ÿä½œç”¨ã€‚ä¸‹é¢çœ‹ä¸‹æˆ‘ä»¬ç»™ä¸€ä¸ªbuttonåŠ ä¸€ä¸ªé‡åŠ›ä¸‹å çš„åŠ¨ç”» ä½¿ç”¨self.Viewåšå‚è€ƒç³»æ¥å»ºç«‹åŠ¨ç”» ç„¶å ä½ å¯ä»¥å§è¿™é‡Œèˆªä»£ç å†™åˆ°buttonçš„ç‚¹å‡»äº‹ä»¶ä¸­ï¼Œè¿™æ ·ä½ ä¸€ç‚¹å°±ä¼šä¸‹å ã€‚å¾ˆç®€å•å§ã€‚ å†çœ‹ä¸‹ä¸€ä¸ªç¢°æ’ æˆ‘è¿™é‡Œå†™ç¢°æ’åŠ¨ç”»çš„æ—¶å€™ç”¨äº†ä¸¤ä¸ªbuttonï¼Œå…¶å®å¤§å®¶å¯ä»¥çŒœåˆ°æˆ‘æ˜¯è®©ä¸¤ä¸ªbuttonæ¥ç¢°æ’çš„ï¼Œç¢°æ’çš„è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯ä¼šèµ°ä»£ç†æ–¹æ³•çš„ï¼Œå¼€å§‹ç¢°æ’å•Šï¼Œç¢°æ’ç»“æŸå•Šä¹‹ç±»çš„ã€‚æœ€åé‚£å¥è¯çš„æ„æ€æ˜¯å§ä»–çš„å‚è€ƒç³»(è¿™é‡Œæ˜¯çš„self.view)çš„è¾¹ç•Œä½œä¸ºç¢°æ’è¾¹ç•Œï¼Œå°±æ˜¯è¯´è¿™æ®µä»£ç è¿è¡Œåè¿™ä¸¤ä¸ª è¿™ä¸¤æ§ä»¶æ’åˆ°å±å¹•self.viewçš„è¾¹æ¡†ä¼šå‘ç”Ÿç‰©ç†çš„ç¢°æ’åå¼¹æ•ˆæœã€‚æƒ³è¿™æ ·(ç‚¹æˆ‘å¼€å§‹é‚£ä¸ªæŒ‰é’®) é™¤äº†é‡åŠ›å’Œç¢°æ’ï¼ŒiOS SDKè¿˜é¢„å…ˆå¸®æˆ‘ä»¬å®ç°äº†ä¸€äº›å…¶ä»–çš„æœ‰ç”¨çš„ç‰©ç†è¡Œä¸ºï¼Œå®ƒä»¬åŒ…æ‹¬ UIAttachmentBehavior æè¿°ä¸€ä¸ªviewå’Œä¸€ä¸ªé”šç›¸è¿æ¥çš„æƒ…å†µï¼Œä¹Ÿå¯ä»¥æè¿°viewå’Œviewä¹‹é—´çš„è¿æ¥ã€‚attachmentæè¿°çš„æ˜¯ä¸¤ä¸ªç‚¹ä¹‹é—´çš„è¿æ¥æƒ…å†µï¼Œå¯ä»¥é€šè¿‡è®¾ç½®æ¥æ¨¡æ‹Ÿæ— å½¢å˜æˆ–è€…å¼¹æ€§å½¢å˜çš„æƒ…å†µï¼ˆå†æ¬¡å¸Œæœ›ä½ è¿˜è®°å¾—è¿™äº›æ¦‚å¿µï¼Œç®€å•è¯´å°±æ˜¯æœ¨æ£’è¿æ¥å’Œå¼¹ç°§è¿æ¥ä¸¤ä¸ªç‰©ä½“ï¼‰ã€‚å½“ç„¶ï¼Œåœ¨å¤šä¸ªç‰©ä½“é—´è®¾å®šå¤šä¸ªï¼›UIAttachmentBehaviorï¼Œå°±å¯ä»¥æ¨¡æ‹Ÿå¤šç‰©ä½“è¿æ¥äº†..æœ‰äº†è¿™äº›ï¼Œä¼¼ä¹å¯ä»¥åšä¸ªè€é¹°æ‰å°é¸¡çš„æ¸¸æˆäº†- -â€¦UISnapBehavior å°†UIViewé€šè¿‡åŠ¨ç”»å¸é™„åˆ°æŸä¸ªç‚¹ä¸Šã€‚åˆå§‹åŒ–çš„æ—¶å€™è®¾å®šä¸€ä¸‹UISnapBehaviorçš„initWithItem:snapToPoint:å°±è¡Œï¼Œå› ä¸ºAPIéå¸¸ç®€å•ï¼Œè§†è§‰æ•ˆæœä¹Ÿå¾ˆæ£’ï¼Œä¼°è®¡å®ƒæ˜¯ä»Šåéæ¸¸æˆappé‡Œä¼šè¢«æœ€å¸¸ç”¨çš„æ•ˆæœä¹‹ä¸€äº†ï¼›UIPushBehavior å¯ä»¥ä¸ºä¸€ä¸ªUIViewæ–½åŠ ä¸€ä¸ªåŠ›çš„ä½œç”¨ï¼Œè¿™ä¸ªåŠ›å¯ä»¥æ˜¯æŒç»­çš„ï¼Œä¹Ÿå¯ä»¥åªæ˜¯ä¸€ä¸ªå†²é‡ã€‚å½“ç„¶æˆ‘ä»¬å¯ä»¥æŒ‡å®šåŠ›çš„å¤§å°ï¼Œæ–¹å‘å’Œä½œç”¨ç‚¹ç­‰ç­‰ä¿¡æ¯ã€‚UIDynamicItemBehavior å…¶å®æ˜¯ä¸€ä¸ªè¾…åŠ©çš„è¡Œä¸ºï¼Œç”¨æ¥åœ¨itemå±‚çº§è®¾å®šä¸€äº›å‚æ•°ï¼Œæ¯”å¦‚itemçš„æ‘©æ“¦ï¼Œé˜»åŠ›ï¼Œè§’é˜»åŠ›ï¼Œå¼¹æ€§å¯†åº¦å’Œå¯å…è®¸çš„æ—‹è½¬ç­‰ç­‰ å…¶å®æµç¨‹å¾ˆç®€å•åˆ›å»ºanimator ç„¶ååˆ›å»ºbehivator è®¾ç½®behivatorå±æ€§ ç„¶åanimator addBehivator ã€‚å°±æ˜¯è¿™ä¸ªä¹ˆæµç¨‹ã€‚å†™ä»£ç è¦å­¦ä¼šä¸¾ä¸€åä¸‰è§¦ç±»æ—é€šã€‚ è¿™ç¯‡åšå®¢å†™çš„æ¯”è¾ƒæ€¥ï¼Œä½†æ˜¯æ€»ä½“ä¸Šæ¥è¯´åŠŸèƒ½æ²¡é—®é¢˜ï¼Œç»†èŠ‚ä¸Šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¤§å®¶æ‰¾æˆ‘ä¸€èµ·äº¤æµ]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>åŠ¨ç”»</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å…³äºè§†å›¾åœ¨åˆ‡åœ†è§’æ—¶å€™çš„å¯¼è‡´çš„æ€§èƒ½ä¸‹é™çš„ä¸€äº›æ¢è®¨]]></title>
    <url>%2F2018%2F01%2F23%2F%E5%85%B3%E4%BA%8E%E8%A7%86%E5%9B%BE%E5%9C%A8%E5%88%87%E5%9C%86%E8%A7%92%E6%97%B6%E5%80%99%E7%9A%84%E5%AF%BC%E8%87%B4%E7%9A%84%E6%80%A7%E8%83%BD%E4%B8%8B%E9%99%8D%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8E%A2%E8%AE%A8%2F</url>
    <content type="text"><![CDATA[iOSä¸­æœ‰çš„æ—¶å€™æˆ‘ä»¬æ§ä»¶è¦åšæˆåœ†å½¢ æˆ–è€…æ˜¯åˆ‡æˆåœ†è§’ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¼šä½¿ç”¨.layer.cornerRadius -&gt; clipsToBounds = YES çš„å±æ€§æ¥åˆ‡ï¼Œè¿™æ ·å®Œå…¨èƒ½è¾¾åˆ°æˆ‘ä»¬çš„æ•ˆæœï¼Œä½†æ˜¯å¦‚æœä¸€ä¸ªç•Œé¢ä¸Šéœ€è¦åˆ‡åœ†è§’çš„æ§ä»¶å¾ˆå¤šï¼Œå¹¶ä¸”åˆ—è¡¨å¾ˆé•¿çš„æ—¶å€™ï¼Œå°¤å…¶æ˜¯åƒtableViewé‚£æ ·å¦‚æœæ¯ä¸€ä¸ªcellä¸Šéƒ½æœ‰å¤§é‡çš„æ§ä»¶éœ€è¦åˆ‡ï¼Œé‚£ä¹ˆå°±ä¼šéå¸¸å¡é¡¿ï¼Œå¸§æ•°ä¸¥é‡ä¸‹é™ ã€‚å…¶å®åŸå› å°±æ˜¯è¿™æ ·è®¾ç½®ä¼šè§¦å‘ç¦»å±æ¸²æŸ“ï¼Œæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ã€‚æ³¨æ„ï¼špngå›¾ç‰‡UIImageViewå¤„ç†åœ†è§’æ˜¯ä¸ä¼šäº§ç”Ÿç¦»å±æ¸²æŸ“çš„ã€‚ï¼ˆios9.0ä¹‹åä¸ä¼šç¦»å±æ¸²æŸ“ï¼Œios9.0ä¹‹å‰è¿˜æ˜¯ä¼šç¦»å±æ¸²æŸ“ï¼‰ã€‚è¿™é‡Œå…ˆè¯´ä¸‹ç¦»å±æ¸²æŸ“ï¼š iOSçš„æ¸²æŸ“æœºåˆ¶ï¼š CPU è®¡ç®—å¥½æ˜¾ç¤ºå†…å®¹æäº¤åˆ° GPUï¼ŒGPU æ¸²æŸ“å®Œæˆåå°†æ¸²æŸ“ç»“æœæ”¾å…¥å¸§ç¼“å†²åŒºï¼Œéšåè§†é¢‘æ§åˆ¶å™¨ä¼šé€è¡Œè¯»å–å¸§ç¼“å†²åŒºçš„æ•°æ®ï¼Œç»è¿‡å¯èƒ½çš„æ•°æ¨¡è½¬æ¢ä¼ é€’ç»™æ˜¾ç¤ºå™¨æ˜¾ç¤ºã€‚GPUå±å¹•æ¸²æŸ“æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼ï¼šOn-Screen Renderingæ„ä¸ºå½“å‰å±å¹•æ¸²æŸ“ï¼ŒæŒ‡çš„æ˜¯GPUçš„æ¸²æŸ“æ“ä½œæ˜¯åœ¨å½“å‰ç”¨äºæ˜¾ç¤ºçš„å±å¹•ç¼“å†²åŒºä¸­è¿›è¡Œã€‚Off-Screen Renderingæ„ä¸ºç¦»å±æ¸²æŸ“ï¼ŒæŒ‡çš„æ˜¯GPUåœ¨å½“å‰å±å¹•ç¼“å†²åŒºä»¥å¤–æ–°å¼€è¾Ÿä¸€ä¸ªç¼“å†²åŒºè¿›è¡Œæ¸²æŸ“æ“ä½œã€‚ç”±ä»¥ä¸Šå¯ä»¥çœ‹å‡ºç¦»å±æ¸²æŸ“éœ€è¦é‡æ–°å¼€è¾Ÿæ–°çš„ç¼“å­˜ç©ºé—´ï¼Œå¿…å®šè¦æ›´åŠ æ¶ˆè€—èµ„æºã€‚é€šè¿‡æŸ¥èµ„æ–™ç›®å‰çŸ¥é“äº†è®¾ç½®äº†ä»¥ä¸‹å±æ€§æ—¶ï¼Œéƒ½ä¼šè§¦å‘ç¦»å±ç»˜åˆ¶ï¼šshouldRasterizeï¼ˆå…‰æ …åŒ–ï¼‰masksï¼ˆé®ç½©ï¼‰shadowsï¼ˆé˜´å½±ï¼‰edge antialiasingï¼ˆæŠ—é”¯é½¿ï¼‰group opacityï¼ˆä¸é€æ˜ï¼‰å¤æ‚å½¢çŠ¶è®¾ç½®åœ†è§’ç­‰æ¸å˜æˆ‘ç”¨ä¸€ä¸ªç°æœ‰çš„å°DEMOæ¥æµ‹è¯•ä¸‹ï¼Œå› ä¸ºè¿™ä¸ªdemoä¸­æ²¡æœ‰åˆ‡åœ†è§’ï¼Œä½†æ˜¯æœ‰é˜´å½±ï¼Œä¸€æ ·å¯ä»¥å‡ºå‘ç¦»å±æ¸²æŸ“ï¼Œæ‰€ä»¥æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼Œåœ¨tableViewä¸­çš„è‡ªå®šä¹‰cellç±»ä¸­æˆ‘è®¾ç½®äº†é˜´å½±å¦‚å›¾ï¼š ä½¿ç”¨Instrumentsæµ‹è¯•å¾—åˆ°å½“å‰å¸§æ•°åœ¨äºŒä¸‰åå·¦å³ åŒæ—¶å±å¹•æ˜¯ä¹Ÿå‡ºç°äº†é»„è‰²å›¾å±‚ æ‰€æœ‰é»„è‰²çš„é«˜äº®çš„å›¾å±‚éƒ½è¿›è¡Œäº†ç¦»å±æ¸²æŸ“ï¼Œä¹Ÿè¡¨ç¤ºè¿™äº›å›¾å±‚å­˜åœ¨ç€é—®é¢˜ï¼Œå½±å“æ€§èƒ½ã€‚è€Œä¸”å¸§æ•°è¿‡ä½ä¹Ÿä¼šç›´æ¥å½±å“æˆ‘ä»¬å¯¹APPçš„ä½“éªŒã€‚ å¦‚ä½•é¿å…ç¦»å±æ¸²æŸ“ï¼š æ–¹æ³•ä¸€ï¼šä½¿ç”¨å…‰æ …åŒ–ï¼Œ.layer.shouldRasterize = YES; -&gt; .layer.rasterizationScale=[UIScreen mainScreen].scale;è®¾ç½®å…‰æ …åŒ–ï¼Œå¯ä»¥ä½¿ç¦»å±æ¸²æŸ“çš„ç»“æœç¼“å­˜åˆ°å†…å­˜ä¸­å­˜ä¸ºä½å›¾ï¼Œä½¿ç”¨çš„æ—¶å€™ç›´æ¥ä½¿ç”¨ç¼“å­˜ï¼ŒèŠ‚çœäº†ä¸€ç›´ç¦»å±æ¸²æŸ“æŸè€—çš„æ€§èƒ½ã€‚ä½†æ˜¯å¦‚æœlayeråŠsublayerså¸¸å¸¸æ”¹å˜çš„è¯ï¼Œå®ƒå°±ä¼šä¸€ç›´ä¸åœçš„æ¸²æŸ“åŠåˆ é™¤ç¼“å­˜é‡æ–°åˆ›å»ºç¼“å­˜ï¼Œæ‰€ä»¥è¿™ç§æƒ…å†µä¸‹å»ºè®®ä¸è¦ä½¿ç”¨å…‰æ …åŒ–ï¼Œè¿™æ ·ä¹Ÿæ˜¯æ¯”è¾ƒæŸè€—æ€§èƒ½çš„ã€‚ æ–¹æ³•äºŒï¼šæœ€ç®€å•çš„æ–¹æ³•ï¼Œå°±æ˜¯å›¾ç‰‡ä¸ä½œå¤„ç†ï¼Œç›´æ¥è¦†ç›–ä¸€å¼ ä¸­é—´ä¸ºåœ†å½¢é€æ˜çš„å›¾ç‰‡ï¼ˆæ¨èä½¿ç”¨ï¼‰è¿™ç§æ–¹æ³•GPUè®¡ç®—å¤šå±‚çš„æ··åˆæ¸²æŸ“blendingä¹Ÿæ˜¯ä¼šæ¶ˆè€—ä¸€ç‚¹æ€§èƒ½çš„ï¼Œä½†æ¯”ç¬¬ä¸€ç§æ–¹æ³•è¿˜æ˜¯å¥½ä¸Šå¾ˆå¤šçš„ æ–¹æ³•ä¸‰ï¼šCore Graphicsç»˜åˆ¶åœ†è§’ã€‚è¿™ç§æ–¹å¼GPUæŸè€—æœ€ä½ï¼Œå¯ä»¥ç”¨UIimageViewæ·»åŠ ä¸ªç‚¹å‡»æ‰‹åŠ¿å½“åšUIButtonä½¿ç”¨ã€‚UIGraphicsBeginImageContextWithOptions(avatarImageView.bounds.size, NO, [UIScreen mainScreen].scale);[[UIBezierPath bezierPathWithRoundedRect:avatarImageView.bounds cornerRadius:50] addClip];[image drawInRect:avatarImageView.bounds];avatarImageView.image = UIGraphicsGetImageFromCurrentImageContext();UIGraphicsEndImageContext();è¿™æ®µæ–¹æ³•å¯ä»¥å†™åœ¨SDWebImageçš„completedå›è°ƒé‡Œï¼Œåœ¨ä¸»çº¿ç¨‹å¼‚æ­¥ç»˜åˆ¶ã€‚ä¹Ÿå¯ä»¥å°è£…åˆ°UIImageViewé‡Œï¼Œå†™äº†ä¸ªDSRoundImageViewã€‚åå°çº¿ç¨‹å¼‚æ­¥ç»˜åˆ¶ï¼Œä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹ã€‚ç›®å‰è¿™ç§æ–¹æ³•åªç”¨åœ¨imageViewä¸Šï¼Œå…¶ä»–åœ°æ–¹å‘¢ä¸çŸ¥é“æ€ä¹ˆç”¨ï¼Œä¸è¿‡è¿™ç§æ–¹æ³•ä¼šè€—è´¹å¤§é‡çš„CPUèµ„æºå’Œå ç”¨å†…å­˜ï¼Œæœ¬äººä¸å¤ªå»ºè®®ä½¿ç”¨ã€‚ æœ€åç»™å¤§å®¶æµ‹è¯•ä¸‹ï¼Œå› ä¸ºæˆ‘ä¹‹å‰çš„demoæ²¡æœ‰åˆ‡åœ†è§’ï¼Œè€Œæ˜¯ä½¿ç”¨çš„é˜´å½±ï¼Œæ‰€ä»¥æˆ‘å°±ç”¨ç¬¬ä¸€ç§æ–¹æ³•ç»™å¤§å®¶æµ‹ä¸€ä¸‹ã€‚ ç„¶åè¿è¡Œï¼Œæ‰“å¼€Instrumentsï¼Œç„¶åçœ‹å±å¹• å›¾å±‚éƒ½æ˜¯ç»¿è‰²æ²¡é—®é¢˜ï¼Œæˆ‘ä»¬å†æ¥çœ‹å¸§æ•°ï¼Œå‡ ä¹åˆ°60 ï¼Œæ•ˆæœå¾ˆæ˜æ˜¾ã€‚ ç”±æ­¤å¯è§ä»¥åå¤§å®¶å†åˆ‡åœ†è§’çš„æ—¶å€™å¤šæ³¨æ„ä¸‹ï¼Œåˆšæ‰å°±ç ”ç©¶äº†è¿™ä¹ˆå¤šï¼Œæœ‰ä»€ä¹ˆé—®é¢˜åŠæ—¶ä¸æˆ‘äº¤æµå§ã€‚ã€‚ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>UI</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CFNetworkçš„ä»‹ç»å’Œä½¿ç”¨]]></title>
    <url>%2F2018%2F01%2F23%2FCFNetwork%E7%9A%84%E4%BB%8B%E7%BB%8D%E5%92%8C%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[CFNetworkèƒŒæ™¯ç®€ä»‹CFNetworkæ˜¯ISOä¸­ä¸€ä¸ªæ¯”è¾ƒåº•å±‚çš„ç½‘ç»œæ¡†æ¶ï¼ŒCè¯­è¨€ç¼–å†™ï¼Œå¯ä»¥æ§åˆ¶ä¸€äº›æ›´åº•å±‚çš„ä¸œè¥¿ï¼Œå¦‚å„ç§å¸¸ç”¨ç½‘ç»œåè®®ã€socketé€šè®¯ç­‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„NSURLåˆ™æ›´å€¾å‘äºAPIæ•°æ®è¯·æ±‚ç­‰ï¼Œè™½ç„¶æ¡†æ¶ä¹Ÿæä¾›äº†ä¸€äº›æ“ä½œï¼Œä½†æ˜¯è¿œä¸å¦‚CFNetworkä¸°å¯Œã€‚CFNetworkå·²ç»æ¥è¿‘äºUNIXç³»ç»Ÿçš„socketé€šä¿¡äº†ï¼Œä½¿ç”¨CFHttpMessageRefè¿›è¡ŒHTTPè¿æ¥çš„å¥½å¤„å°±æ˜¯æ§åˆ¶çš„ç²’åº¦æ›´ç»†äº†ï¼Œä¾‹å¦‚ä½ å¯ä»¥è®¾ç½®SSLè¿æ¥çš„PeerNameï¼Œè¯ä¹¦éªŒè¯çš„æ–¹å¼ï¼Œè¿˜å¯ä»¥æ§åˆ¶æ¯ä¸ªå“åº”åŒ…çš„æ¥æ”¶ã€‚ä¸è¿‡CFNetworkæœ¬è´¨ä¸Šè¿˜æ˜¯åº”ç”¨å±‚ä¸Šçš„å°è£…çš„é€šç”¨APIã€‚ä½¿ç”¨è€…å¯ä»¥ä¸ç”¨å…³å¿ƒåº•å±‚åè®®çš„å®é™…ç»†èŠ‚ã€‚ä¸‹å›¾æ˜¯CFNetworkåœ¨iOSç³»ç»Ÿä¸­çš„ä½ç½®(å›¾ç‰‡æ¥æºäºå®˜æ–¹æ–‡æ¡£)ã€‚ ç”±ä¸Šå›¾å¯ä»¥çœ‹å‡ºç›®å‰iOSçš„ç½‘ç»œç¼–ç¨‹åˆ†å››å±‚ï¼š WebKitï¼šå±äºCocoaå±‚ï¼Œè‹¹æœå¾ˆå¤šåœ°æ–¹ç”¨åˆ°çš„é¡µé¢æ¸²æŸ“å¼•æ“WKWebviewï¼› NSURLï¼šä¹Ÿå±äºCocoaå±‚ï¼Œå¯¹å„ç±»URLè¯·æ±‚çš„å°è£…(NSURLRequest)ï¼› CFNetworkï¼šå±äºCore Foundationå±‚ï¼ŒåŸºäºCçš„å°è£…ï¼ŒåŒæ ·çš„è¿˜æœ‰CFNetServices(write/readstream)ï¼› BSD socketsï¼šå±äºOSå±‚ï¼Œä¹Ÿæ˜¯åŸºäºCçš„å°è£…ï¼› CFNetworkç»“æ„ä¸Šå›¾ä¹Ÿæ˜¯å®˜æ–¹æ–‡æ¡£çš„å›¾ç‰‡ï¼Œæè¿°äº†CFNetworkçš„ç»“æ„ï¼Œä¸‹é¢é€ä¸€è®²è§£ã€‚ CFSocket APISocketæ˜¯ç½‘ç»œé€šè®¯çš„åº•å±‚åŸºç¡€ï¼Œä¸¤ä¸ªsocketç«¯å£å¯ä»¥äº’å‘æ•°æ®ã€‚æˆ‘ä»¬é€šå¸¸ä½¿ç”¨çš„æ˜¯BSD socketï¼ŒCFSocketåˆ™æ˜¯BSD socketçš„æŠ½è±¡ï¼ŒåŸºæœ¬ä¸Šå®ç°äº†å‡ ä¹æ‰€æœ‰BSD socketçš„åŠŸèƒ½ï¼Œå¹¶ä¸”è¿˜èå…¥äº†run loopã€‚ CFStream APICFStream APIæä¾›äº†æ•°æ®è¯»å†™çš„æ–¹æ³•ï¼Œå³è¯»å†™æµï¼Œä½¿ç”¨å®ƒå¯ä»¥ä¸ºå†…å­˜ã€æ–‡ä»¶ã€ç½‘ç»œï¼ˆä½¿ç”¨socketï¼‰çš„æ•°æ®å»ºç«‹streamï¼Œæˆ‘ä»¬è¿›è¡Œç½‘ç»œè¯·æ±‚å°±æ˜¯å¯¹æ•°æ®çš„è¯»å†™ï¼ŒCFStreamæä¾›APIå¯¹ä¸¤ç§CFTypeå¯¹è±¡æä¾›æŠ½è±¡ï¼šCFReadStream and CFWriteStreamã€‚å®ƒåŒæ—¶ä¹Ÿæ˜¯CFHTTPå’ŒCFFTPçš„åŸºç¡€ã€‚streamæœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„ç‰¹æ€§å°±æ˜¯ä¸€æ—¦æ•°æ®æµè¢«æä¾›æˆ–è€…è¢«æ¶ˆè€—ï¼Œå°±ä¸èƒ½ä»æµä¸­é‡æ–°å–å‡ºã€‚æ¯”å¦‚è¿™æ · uint8_t d[1024] = &#123;0&#125;;//å¾ªç¯æ¡ä»¶ï¼šæµä¸­æ˜¯å¦æœ‰å¯ç”¨æ•°æ®(è¢«è¯»è¿‡çš„æ•°æ®ä¸å¯ç”¨äº†)while ([self.inputStream hasBytesAvailable]) &#123; //è¯»å–ç›¸åº”é•¿åº¦çš„æ•°æ®æ•°æ® NSInteger len = [self.inputStream read:d maxLength:1024]; //å¦‚æœè¯»å–åˆ°æ•°æ®ï¼Œä¾¿å°†æ•°æ®å¿«æ‹¼æ¥ if (len &gt; 0 &amp;&amp; !self.inputStream.streamError) &#123; [data appendBytes:(void *)d length:len]; &#125; else &#123; break; &#125;&#125; CFFTP APIå¯¹ç”¨FTPåè®®é€šä¿¡çš„å°è£…ï¼Œèƒ½ä¸‹è½½ã€ä¸Šä¼ æ–‡ä»¶å’Œç›®å½•åˆ°FTPæœåŠ¡å™¨ã€‚CFFTPå»ºç«‹çš„è¿æ¥å¯ä»¥æ˜¯åŒæ­¥æˆ–è€…å¼‚æ­¥ï¼Œæ­¤æ¬¡ä¸åšè¯¦è§£ã€‚ CFHTTP APIæ˜¯HTTPåè®®çš„æŠ½è±¡ï¼Œä¸»è¦å¯¹è±¡æ˜¯CFHTTPMessageRef(ç±»ä¼¼äºæˆ‘ä»¬é€šå¸¸çš„NSURLRequest)æˆ‘ä»¬éœ€è¦åƒæ„å»ºNSURLRequesté‚£æ ·æ¥æ„å»ºCFHTTPMessageRefï¼ŒåŒæ ·åŒ…å«ä¸€ä¸‹å‡ ä¸ªå…ƒç´  å¿…é¡»å…ƒç´  è¯·æ±‚æ–¹æ³• (ç±»å‹ä¸ºCFStringRef)ï¼šPOSTã€GETã€DELETEç­‰.. è¯·æ±‚çš„URLåœ°å€ (ç±»å‹ä¸ºCFURLRef)ï¼šhttps://www.baidu.com è¯·æ±‚çš„HTTPç‰ˆæœ¬(ç±»å‹ä¸ºCFStringRef)ï¼šé€šå¸¸ä½¿ç”¨kCFHTTPVersion1_1 kCFAllocatorDefaultï¼šç”¨äºåˆ›å»ºæ¶ˆæ¯å¼•ç”¨çš„æŒ‡å®šé»˜è®¤çš„ç³»ç»Ÿå†…å­˜åˆ†é…å™¨ã€‚ å¯é€‰å‚æ•° bodyä½“(ç±»å‹ä¸ºCFDataRef) CFHTTPMessageSetBody(CFHTTPMessageRef message, CFDataRef bodyData) CF_AVAILABLE(10_1, 2_0); æ¶ˆæ¯å¤´éƒ¨ï¼Œå¦‚User-Agentç­‰ï¼› CFHTTPMessageSetHeaderFieldValue(CFHTTPMessageRef message, CFStringRef headerField, CFStringRef __nullable value) CF_AVAILABLE(10_1, 2_0); CFNetworkè¯·æ±‚è¿‡ç¨‹1ï¼šæ„é€ å¹¶åˆ›å»ºCFHTTPMessageRefå¯¹è±¡//æ„é€ çš„æ–¹å¼ä¸Šä¸€æ­¥å·²è®²CFHTTPMessageCreateRequest(CFAllocatorRef __nullable alloc, CFStringRef requestMethod, CFURLRef url, CFStringRef httpVersion) CF_AVAILABLE(10_1, 2_0); 2ï¼šä½¿ç”¨CFHTTPMessageRefå¯¹è±¡åˆ›å»ºè¾“å…¥æµ//ç¬¬ä¸€ä¸ªå‚æ•°ä¼ é»˜è®¤CFReadStreamCreateForHTTPRequest(CFAllocatorRef __nullable alloc, CFHTTPMessageRef request) CF_DEPRECATED(10_2, 10_11, 2_0, 9_0, "Use NSURLSession API for http requests"); 3ï¼šé€‚é…SNIç¯å¢ƒï¼ˆä¸€ä¸ª IP åœ°å€ä¸Šå¯ä»¥ä¸ºä¸åŒåŸŸååˆ†é…ä½¿ç”¨ä¸åŒçš„ SSL è¯ä¹¦ï¼›è¿™åŒæ—¶æ„å‘³ç€ï¼Œå…±äº« IP çš„è™šæ‹Ÿä¸»æœºä¹Ÿå¯å®ç° SSL/TLS è¿æ¥ã€‚ï¼‰å› ä¸ºé…ç½®sniç¯å¢ƒçš„æ‰€æœ‰é…ç½®éƒ½æ˜¯åŸºäºè¾“å…¥æµæ¥æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬æ„å»ºå®Œæˆè¾“å…¥æµä¹‹åæ¥å¤„ç†sniï¼Œåƒè¿™æ ·[self.inputStream setProperty:NSStreamSocketSecurityLevelNegotiatedSSL forKey:NSStreamSocketSecurityLevelKey];//è¯·æ±‚çš„URLçš„HostNSDictionary *sslProperties = @&#123; (__bridge id) kCFStreamSSLPeerName : host &#125;;[self.inputStream setProperty:sslProperties forKey:(__bridge_transfer NSString *) kCFStreamPropertySSLSettings]; 4ï¼šæ‰“å¼€è¾“å…¥æµæ‰“å¼€è¾“å…¥æµåˆ†ä¸ºä¸¤æ­¥ è®¾ç½®ä»£ç†ï¼š[self.inputStream setDelegate:weakSelf] åŠ å…¥å½“å‰çš„runloopï¼š [_inputStream removeFromRunLoop:self.runloop forMode:[self runloopMode]]; è°ƒç”¨Openæ–¹æ³• 5ï¼šæ”¶åˆ°ä»£ç†æ•°æ®å›è°ƒ- (void)stream:(NSStream *)aStream handleEvent:(NSStreamEvent)eventCode; å…¶ä¸­åˆ†ä¸ºå‡ ä¸ªçŠ¶æ€typedef NS_OPTIONS(NSUInteger, NSStreamEvent) &#123; NSStreamEventNone = 0, NSStreamEventOpenCompleted = 1UL &lt;&lt; 0, NSStreamEventHasBytesAvailable = 1UL &lt;&lt; 1, NSStreamEventHasSpaceAvailable = 1UL &lt;&lt; 2, NSStreamEventErrorOccurred = 1UL &lt;&lt; 3, NSStreamEventEndEncountered = 1UL &lt;&lt; 4&#125;; é€šå¸¸æˆ‘ä»¬ä¼šå…³å¿ƒNSStreamEventOpenCompletedã€NSStreamEventHasBytesAvailableã€NSStreamEventErrorOccurredã€ç”±äºæ•°æ®æ˜¯ä»¥æµçš„å½¢å¼å›æ¥ï¼Œæˆ‘ä»¬éœ€è¦åœ¨åœ¨NSStreamEventHasBytesAvailableä¸‹å–å‡ºæ•°æ®ç„¶ååšæ•°æ®æ‹¼æ¥ï¼Œæ‹¼æ¥å¥½å®Œæ•´çš„æ•°æ®æ‰å¯ä½¿ç”¨ï¼Œåƒè¿™æ · case NSStreamEventHasBytesAvailable:&#123; UInt8 buffer[BUFFER_SIZE]; //è®¾ç½®ç¼“å­˜åŒº NSInteger numBytesRead = 0; NSInputStream *inputstream = (NSInputStream *) aStream; // Read data do &#123; numBytesRead = [inputstream read:buffer maxLength:sizeof(buffer)]; if (numBytesRead &gt; 0) &#123; [self.resultData appendBytes:buffer length:numBytesRead]; &#125; &#125; while (numBytesRead &gt; 0);&#125;break; å¾ªç¯ç»“æŸåæˆ‘ä»¬çš„resultDataå°±æ˜¯å®Œæ•´çš„è¿”å›æ•°æ®äº†ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>ç½‘ç»œ</tag>
        <tag>åº•å±‚</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ·±å…¥ç†è§£Httpè¯·æ±‚ã€DNSåŠ«æŒä¸è§£æ]]></title>
    <url>%2F2018%2F01%2F23%2F%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Http%E8%AF%B7%E6%B1%82%E3%80%81DNS%E5%8A%AB%E6%8C%81%E4%B8%8E%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯å‰æ®µæ—¶é—´åœ¨å¤„ç†iOSç«¯çš„HTTPDNSç›¸å…³SDKï¼Œåœ¨æ¥å…¥å’Œæµ‹è¯•ç¯èŠ‚å‘ç°å¤§å®¶å¯¹HTTPçš„æ•´ä½“è¯·æ±‚æµç¨‹åŒ…æ‹¬HTTPåŠ«æŒåŸç†ä»¥åŠHTTPDNSçš„å·¥ä½œåŸç†å¹¶ä¸æ˜¯å¤ªæ¸…æ¥šï¼Œæ‰€ä»¥å†™ä¸‹è¿™è¾¹æ–‡ç« å¸®åŠ©å¤§å®¶æ·±å…¥webè¯·æ±‚è¿‡ç¨‹ï¼šå¦‚ä½•å‘èµ·è¯·æ±‚ï¼ŒHTTPåè®®è§£æï¼ŒDNSåŸŸåè§£æã€‚ HTTPå‘èµ·ä¸€ä¸ªè¯·æ±‚è¿‡ç¨‹å½“æˆ‘ä»¬åœ¨æ‰‹æœºç«¯è¯·æ±‚ä¸€ä¸ª@â€www.baidu.comâ€çš„åŸŸåçš„æ—¶å€™ 1.è¯·æ±‚åˆ°è¾¾è¿è¥å•†çš„DNSæœåŠ¡å™¨å¹¶ç”±å…¶æŠŠè¿™ä¸ªåŸŸåè§£ææˆå¯¹åº”çš„IPåœ°å€ã€‚ 2.æ ¹æ®IPåœ°å€åœ¨äº’è”ç½‘ä¸Šæ‰¾åˆ°å¯¹åº”çš„æœåŠ¡å™¨ï¼Œå‘è¿™ä¸ªæœåŠ¡å™¨å‘èµ·ä¸€ä¸ªget\postè¯·æ±‚ã€‚ 3.ç”±è¿™ä¸ªæœåŠ¡å™¨æ‰¾åˆ°å¯¹åº”çš„èµ„æºåŸè·¯è¿”å›ç»™è®¿é—®çš„ç”¨æˆ·ã€‚ è¿™é‡Œåªæ˜¯ä¸€ä¸ªå¤§æ¦‚çš„æµç¨‹å®é™…æ¯ä¸€æ­¥éƒ½æœ‰å¤æ‚çš„ç»“æ„å’Œé€»è¾‘ä¾‹å¦‚ï¼šæœåŠ¡å™¨å¯èƒ½æœ‰å¾ˆå¤šå°ï¼Œåˆ°åº•æŒ‡å®šå“ªå°æœåŠ¡å™¨æ¥å¤„ç†è¯·æ±‚ï¼Œéœ€è¦ä¸€ä¸ªè´Ÿè½½å‡è¡¡è®¾å¤‡æ¥å¹³å‡åˆ†é…æ‰€æœ‰ç”¨æˆ·çš„è¯·æ±‚ã€‚è¯·æ±‚çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨åˆ†å¸ƒå¼ç¼“å­˜ä¸­è¿˜æ˜¯ä¸€ä¸ªé™æ€æ–‡ä»¶ä¸­ï¼Œæˆ–æ˜¯åœ¨æ•°æ®åº“é‡Œã€‚å½“æ•°æ®è¿”å›æµè§ˆå™¨æ—¶ï¼Œæµè§ˆå™¨è§£ææ•°æ®å‘ç°è¿˜æœ‰ä¸€äº›é™æ€èµ„æºï¼ˆå¦‚CSSã€JSæˆ–è€…å›¾ç‰‡ï¼‰æ—¶åˆä¼šå‘èµ·å¦å¤–çš„HTTPè¯·æ±‚ï¼Œè€Œè¿™äº›è¯·æ±‚å¾ˆå¯èƒ½ä¼šåœ¨CDNä¸Šï¼Œé‚£ä¹ˆCDNæœåŠ¡å™¨ä¸Šåˆä¼šå¤„ç†è¿™ä¸ªç”¨æˆ·çš„è¯·æ±‚ã€‚ HTTPåŠ«æŒæˆ‘ä»¬ä½¿ç”¨HTTPDNSçš„ä¸»è¦ç›®çš„å°±æ˜¯è§£å†³HTTPåŠ«æŒé—®é¢˜ã€‚HTTPçš„åŠ«æŒåˆ†ä¸¤ç§ç¬¬ä¸€ç§æ˜¯DNSåŠ«æŒï¼Œç¬¬äºŒç§æ˜¯å†…å®¹åŠ«æŒï¼Œåè€…æ˜¯åŸºäºå‰è€…çš„åŸºç¡€ä¸Šå‘å±•å‡ºæ¥ï¼Œæ˜¯æ¯”è¾ƒé«˜çº§çš„åŠ«æŒæ‰‹æ®µï¼Œç›®å‰æ— è§£ï¼Œä¸‹é¢æ¥åˆ†å¼€è®²è§£ï¼š 1ï¼šDNSåŠ«æŒ åŠ«æŒæµç¨‹DNSåŠ«æŒåˆç§°åŸŸååŠ«æŒï¼Œæ˜¯æŒ‡åœ¨åŠ«æŒçš„ç½‘ç»œèŒƒå›´å†…æ‹¦æˆªåŸŸåè§£æçš„è¯·æ±‚ï¼Œåˆ†æè¯·æ±‚çš„åŸŸåï¼ŒæŠŠå®¡æŸ¥èŒƒå›´ä»¥å¤–çš„è¯·æ±‚æ”¾è¡Œï¼Œå¦åˆ™è¿”å›å‡çš„IPåœ°å€æˆ–è€…ä»€ä¹ˆéƒ½ä¸åšä½¿è¯·æ±‚å¤±å»å“åº”ï¼Œå…¶æ•ˆæœå°±æ˜¯å¯¹ç‰¹å®šçš„ç½‘ç»œä¸èƒ½è®¿é—®æˆ–è®¿é—®çš„æ˜¯å‡ç½‘å€ã€‚å…¶å®æœ¬è´¨å°±æ˜¯å¯¹DNSè§£ææœåŠ¡å™¨åšæ‰‹è„šï¼Œæˆ–è€…æ˜¯ä½¿ç”¨ä¼ªé€ çš„DNSè§£ææœåŠ¡å™¨å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥å±•ç¤º ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºçº¢è‰²çš„æ˜¯åŠ«æŒçš„æµç¨‹ï¼ŒåŠ«æŒåå°†ä½ çš„è¯·æ±‚è½¬å‘åˆ°ä¸€ä¸ªè™šå‡çš„æœåŠ¡å™¨ã€‚ è§£å†³åŠæ³• DNSçš„åŠ«æŒè¿‡ç¨‹æ˜¯é€šè¿‡æ”»å‡»è¿è¥å•†çš„è§£ææœåŠ¡å™¨æ¥è¾¾åˆ°ç›®çš„ã€‚æˆ‘ä»¬å¯ä»¥ä¸ç”¨è¿è¥å•†çš„DNSè§£æè€Œä½¿ç”¨è‡ªå·±çš„è§£ææœåŠ¡å™¨æˆ–è€…æ˜¯æå‰åœ¨è‡ªå·±çš„Appä¸­å°†è§£æå¥½çš„åŸŸåä»¥IPçš„å½¢å¼å‘å‡ºå»å°±å¯ä»¥ç»•è¿‡è¿è¥å•†DNSè§£æï¼Œè¿™æ ·ä¸€æ¥ä¹Ÿé¿å…äº†DNSåŠ«æŒçš„é—®é¢˜ã€‚ HttpDNSæ˜¯ä½¿ç”¨HTTPåè®®å‘DNSæœåŠ¡å™¨çš„80ç«¯å£è¿›è¡Œè¯·æ±‚ï¼Œä»£æ›¿ä¼ ç»Ÿçš„DNSåè®®å‘DNSæœåŠ¡å™¨çš„53ç«¯å£è¿›è¡Œè¯·æ±‚,ç»•å¼€äº†è¿è¥å•†çš„Local DNSï¼Œä»è€Œé¿å…äº†ä½¿ç”¨è¿è¥å•†Local DNSé€ æˆçš„åŠ«æŒå’Œè·¨ç½‘é—®é¢˜ 2ï¼šå†…å®¹åŠ«æŒ åŠ«æŒæµç¨‹å†…å®¹åŠ«æŒç½‘ä¸Šå¾ˆå°‘æœ‰æåˆ°ï¼Œè¿™ä¹Ÿæ˜¯åœ¨åšhttpDNS SDKæ‰€é‡åˆ°çš„ä¸€ä¸ªé—®é¢˜ï¼Œå…¶å®å†…å®¹åŠ«æŒä¸€å¼€å§‹çš„å‡ºå‘ç‚¹æ˜¯å¥½çš„ï¼Œæ˜¯è¿è¥å•†ä¸ºäº†åŠ å¿«ç”¨æˆ·çš„è®¿é—®é€Ÿåº¦åŒæ—¶å‡å°‘è‡ªå·±çš„æµé‡æŸè€—è€Œåšçš„ä¸€ä¸ªç¼“å­˜æœºåˆ¶ï¼Œç”¨æˆ·åœ¨åƒæœåŠ¡å™¨è¯·æ±‚æ•°æ®çš„æ—¶å€™è¿è¥å•†ä¼šæŠŠç”¨æˆ·çš„è¯·æ±‚è½¬ç§»åˆ°è¿™ä¸ªç¼“å­˜æ± ä¸­ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰å°±ç›´æ¥è¿”å›ï¼Œæ²¡æœ‰çš„è¯å†å»åƒæœåŠ¡å™¨è¯·æ±‚ç„¶åæ‹¦æˆªå¹¶ç¼“å­˜æœåŠ¡ç«¯ç»™ç”¨æˆ·çš„å›è°ƒæ•°æ®ï¼Œè¿™æ ·ä¸€æ¥å¯ä»¥æå¤§çš„é™ä½è¿è¥å•†åƒæœåŠ¡å™¨è¯·æ±‚çš„æ¬¡æ•°ï¼Œä¹Ÿèƒ½åŠ å¿«ç”¨æˆ·çš„è®¿é—®ï¼Œæ‰€ä»¥å‡ºå‘ç‚¹æ˜¯å¥½ï¼Œä½†æ˜¯ä¸€äº›éæ³•çš„å•†å®¶å¯¹ç¼“å­˜æ± å†…éƒ¨åšä¸€äº›å¤„ç†å°±æ˜¯ç›´æ¥å¯¹è¿”å›çš„å†…å®¹è¿›è¡Œä¿®æ”¹ï¼Œè¿™æ ·ä¸€æ¥æˆ‘ä»¬å°±ä¼šæ¥å—åˆ°é”™è¯¯çš„æ•°æ® é»„è‰²çº¿æ¡å°±æ˜¯æ¯”ä»·å±é™©çš„äº†ï¼Œå› ä¸ºå›è°ƒçš„æ•°æ®å¾ˆå¯èƒ½å·²ç»è¢«ç¯¡æ”¹è¿‡ã€‚ è§£å†³åŠæ³•ï¼šç°åœ¨æš‚æ—¶æ— æ³•é€šè¿‡HTTPdnså’Œå…¶ä»–æ‰‹æ®µè§£å†³ï¼Œä¸è¿‡è¿™æ ·çš„åŠ«æŒä¸æ˜¯å¾ˆå¤šã€‚ DNSè§£æè¿‡ç¨‹å¦‚æœæ˜¯iOSè®¾å¤‡è¯·ç›´æ¥è·³åˆ°ç¬¬ä¸‰æ­¥éª¤ 1.ç³»ç»Ÿä¼šæ£€æŸ¥æµè§ˆå™¨ç¼“å­˜ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåå¯¹åº”çš„è§£æè¿‡çš„IPåœ°å€ï¼Œå¦‚æœç¼“å­˜ä¸­æœ‰ï¼Œè¿™ä¸ªè§£æè¿‡ç¨‹å°±å°†ç»“æŸã€‚æµè§ˆå™¨ç¼“å­˜æ˜¯å—è¿™ä¸ªåŸŸåçš„å¤±æ•ˆæ—¶é—´å’Œç¼“å­˜çš„ç©ºé—´å¤§å°æ§åˆ¶çš„ã€‚ 2.å¦‚æœç”¨æˆ·çš„æµè§ˆå™¨ç¼“å­˜ä¸­æ²¡æœ‰ï¼Œæµè§ˆå™¨ä¼šæŸ¥æ‰¾æ“ä½œç³»ç»Ÿç¼“å­˜ä¸­å³ä¸ºæœ¬åœ°çš„Hostæ–‡ä»¶ã€‚ 3.å¦‚æœæœ¬åœ°Hostæ–‡ä»¶ä¸­æ²¡æœ‰é‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šæŠŠè¿™ä¸ªåŸŸåå‘é€ç»™è¿™é‡Œè®¾ç½®çš„LocalDNSï¼Œä¹Ÿå°±æ˜¯æœ¬åœ°åŒºçš„åŸŸåæœåŠ¡å™¨ã€‚è¿™ä¸ªDNSé€šå¸¸éƒ½æä¾›ç»™ä½ æœ¬åœ°äº’è”ç½‘æ¥å…¥çš„ä¸€ä¸ªDNSè§£ææœåŠ¡ã€‚è¿™ä¸ªä¸“é—¨çš„åŸŸåè§£ææœåŠ¡å™¨æ€§èƒ½éƒ½ä¼šå¾ˆå¥½ï¼Œå®ƒä»¬ä¸€èˆ¬éƒ½ä¼šç¼“å­˜åŸŸåè§£æç»“æœï¼Œå½“ç„¶ç¼“å­˜æ—¶é—´æ˜¯å—åŸŸåçš„å¤±æ•ˆæ—¶é—´æ§åˆ¶çš„ï¼Œä¸€èˆ¬ç¼“å­˜ç©ºé—´ä¸æ˜¯å½±å“åŸŸåå¤±æ•ˆçš„ä¸»è¦å› ç´ ã€‚å¤§çº¦90%çš„åŸŸåè§£æéƒ½åˆ°è¿™é‡Œå°±å·²ç»å®Œæˆäº†ï¼Œæ‰€ä»¥LDNSä¸»è¦æ‰¿æ‹…äº†åŸŸåçš„è§£æå·¥ä½œã€‚ 4.å¦‚æœLDNSä»ç„¶æ²¡æœ‰å‘½ä¸­ï¼Œå°±ç›´æ¥åˆ°Root ServeråŸŸåæœåŠ¡å™¨è¯·æ±‚è§£æ 5.æ ¹åŸŸåæœåŠ¡å™¨è¿”å›ç»™æœ¬åœ°åŸŸåæœåŠ¡å™¨ä¸€ä¸ªæ‰€æŸ¥è¯¢çš„åŸŸçš„ä¸»åŸŸåæœåŠ¡å™¨ï¼ˆgTLD Serverï¼‰åœ°å€ã€‚gTLDæ˜¯å›½é™…é¡¶çº§åŸŸåæœåŠ¡å™¨ï¼Œå¦‚.comï¼Œ.cnã€.orgç­‰ã€‚å…¨çƒåªæœ‰13å°å·¦å³ã€‚ 6.æœ¬åœ°åŸŸåæœåŠ¡å™¨ï¼ˆLocal DNS Serverï¼‰å†å‘ä¸Šä¸€æ­¥è¿”å›çš„gTLDæœåŠ¡å™¨å‘é€è¯·æ±‚ã€‚ 7.æ¥å—è¯·æ±‚çš„gTLDæœåŠ¡å™¨æŸ¥æ‰¾å¹¶è¿”å›æ­¤åŸŸåå¯¹åº”çš„Name ServeråŸŸåæœåŠ¡å™¨çš„åœ°å€ï¼Œè¿™ä¸ªName Serveré€šå¸¸å°±æ˜¯ä½ æ³¨å†Œçš„åŸŸåæœåŠ¡å™¨ï¼Œä¾‹å¦‚ä½ åœ¨æŸä¸ªåŸŸåæœåŠ¡æä¾›å•†ç”³è¯·çš„åŸŸåï¼Œé‚£ä¹ˆè¿™ä¸ªåŸŸåè§£æä»»åŠ¡å°±ç”±è¿™ä¸ªåŸŸåæä¾›å•†çš„æœåŠ¡å™¨æ¥å®Œæˆ 8.Name ServeråŸŸåæœåŠ¡å™¨ä¼šæŸ¥è¯¢å­˜å‚¨çš„åŸŸåå’ŒIPçš„æ˜ å°„å…³ç³»è¡¨ï¼Œæ­£å¸¸æƒ…å†µä¸‹éƒ½æ ¹æ®åŸŸåå¾—åˆ°ç›®æ ‡IPè®°å½•ï¼Œè¿åŒä¸€ä¸ªTTLå€¼è¿”å›ç»™DNS ServeråŸŸåæœåŠ¡å™¨ã€‚ 9.è¿”å›è¯¥åŸŸåå¯¹åº”çš„IPå’ŒTTLå€¼ï¼ŒLocal DNS Serverä¼šç¼“å­˜è¿™ä¸ªåŸŸåå’ŒIPçš„å¯¹åº”å…³ç³»ï¼Œç¼“å­˜çš„æ—¶é—´ç”±TTLå€¼æ§åˆ¶ã€‚ 10.æŠŠè§£æçš„ç»“æœè¿”å›ç»™ç”¨æˆ·ï¼Œç”¨æˆ·æ ¹æ®TTLå€¼ç¼“å­˜åœ¨æœ¬åœ°ç³»ç»Ÿç¼“å­˜ä¸­ï¼ŒåŸŸåè§£æè¿‡ç¨‹ç»“æŸã€‚ä»¥ä¸Šçš„æµç¨‹å¯ä»¥ç®€åŒ–ä¸ºä¸‹å›¾ ç»¿è‰²çš„ä¸ºéiOSè®¾å¤‡çš„æ“ä½œæµç¨‹ CDNå·¥ä½œæœºåˆ¶CDNç®€ä»‹CDNï¼Œå…¨ç§°Content Delivery Networkï¼Œæ ¹æœ¬çš„ä½œç”¨æ˜¯å°†ç½‘ç«™çš„å†…å®¹å‘å¸ƒåˆ°æœ€æ¥è¿‘ç”¨æˆ·çš„ç½‘ç»œâ€œè¾¹ç¼˜â€ï¼Œä½¿ç”¨æˆ·å¯ä»¥å°±è¿‘å–å¾—æ‰€éœ€çš„å†…å®¹ï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦ã€‚ä»–-æœ‰åˆ«äºé•œåƒï¼Œå®ƒæ¯”é•œåƒæ›´æ™ºèƒ½ï¼Œå¯ä»¥è¿™æ ·åšä¸€ä¸ªæ¯”å–»ï¼šCDN=é•œåƒï¼ˆMirrorï¼‰ + ç¼“å­˜ï¼ˆcacheï¼‰ + æ•´ä½“è´Ÿè½½å‡è¡¡ï¼ˆGSLBï¼‰ï¼Œå› è€Œï¼ŒCDNå¯ä»¥æ˜æ˜¾æé«˜Internetä¸­ä¿¡æ¯æµåŠ¨çš„æ•ˆç‡ã€‚ç›®å‰CDNéƒ½ä»¥ç¼“å­˜ç½‘ç«™ä¸­çš„é™æ€æ•°æ®ä¸ºä¸»ï¼Œå¦‚CSSã€JSã€å›¾ç‰‡å’Œé™æ€ç½‘é¡µç­‰æ•°æ®ã€‚ç”¨æˆ·åœ¨ä»ä¸»ç«™æœåŠ¡å™¨è¯·æ±‚åˆ°åŠ¨æ€å†…å®¹åå†ä»CDNä¸Šä¸‹è½½è¿™äº›é™æ€æ•°æ®ï¼Œä»è€ŒåŠ é€Ÿç½‘é¡µæ•°æ®å†…å®¹çš„ä¸‹è½½é€Ÿåº¦ï¼Œå¦‚æ·˜å®æœ‰90%ä»¥ä¸Šçš„æ•°æ®éƒ½æ˜¯ç”±CDNæ¥æä¾›çš„ã€‚è¿™é‡Œå¼•ç”¨ä¸€ä¸ªç½‘ä¸Šæ¯”è¾ƒå½¢è±¡çš„ä¾‹å­ï¼šAå®¶çš„ç½‘é€Ÿ 100Mçš„ï¼Œä½†ä»–åªç”¨äº†10Mçš„é€Ÿåº¦ï¼ŒBå®¶çš„ç½‘é€Ÿæ˜¯10Mçš„ï¼Œä½†æ˜¯ä»–éœ€è¦15Mçš„é€Ÿåº¦æ‰è¡Œã€‚æ€ä¹ˆåŠå‘¢ã€‚ Cæ˜¯ä¸€å®¶CDNæœåŠ¡å•†ï¼Œåœ¨Aå®¶æœ‰ä¸ªèŠ‚ç‚¹ï¼ˆå°±åƒAæ˜¯ä¸€ä¸ªèµåŠ©å•†ä¸€æ ·ï¼‰Båœ¨Cå®¶ä¹°äº†CDNåŠ é€ŸæœåŠ¡ã€‚å½“Bçš„é€Ÿåº¦ä¸å¤Ÿçš„æ—¶å€™ï¼ŒCDNåŠ é€Ÿå°±ä¼šé€‰æ‹©æœ‰èŠ‚ä½™çš„èŠ‚ç‚¹æ¥å¸®Bï¼Œæé«˜Bçš„é€Ÿåº¦ã€‚è¿™æ ·Bçš„é€Ÿåº¦å°±èƒ½è¾¾åˆ°æˆ–è¶…è¿‡15M ï¼ŒAæ²¡æµªè´¹ï¼ŒBé€Ÿåº¦æœ‰äº†ï¼ŒCèµšäº†é’±ï¼Œçš†å¤§æ¬¢å–œã€‚ å½“Cçš„èŠ‚ç‚¹åœ¨å…¨å›½éƒ½æœ‰ï¼Œéå¸¸å¤šçš„æ—¶å€™ã€‚é‚£ä¹ˆä½ ç”¨Cå®¶çš„CDNåŠ é€ŸæœåŠ¡ï¼Œä½ å°±ä¼šå¥æ­¥å¦‚é£äº†ã€‚ CDNå·¥ä½œæµç¨‹ä¸€ä¸ªç”¨æˆ·è®¿é—®æŸä¸ªé™æ€æ–‡ä»¶ï¼ˆå¦‚CSSï¼‰ï¼Œè¿™ä¸ªé™æ€æ–‡ä»¶çš„åŸŸåå‡å¦‚æ˜¯www.baidu.comï¼Œè€Œè¿™ä¸ªåŸŸåæœ€ç»ˆä¼šè¢«æŒ‡å‘CDNå…¨å±€ä¸­CDNè´Ÿè½½å‡è¡¡æœåŠ¡å™¨ï¼Œå†ç”±è¿™ä¸ªè´Ÿè½½å‡è¡¡æœåŠ¡å™¨æ¥æœ€ç»ˆåˆ†é…æ˜¯å“ªä¸ªåœ°æ–¹çš„è®¿é—®ç”¨æˆ·ï¼Œè¿”å›ç»™ç¦»è¿™ä¸ªè®¿é—®ç”¨æˆ·æœ€è¿‘çš„CDNèŠ‚ç‚¹ã€‚ä¹‹åç”¨æˆ·å°±ç›´æ¥å»è¿™ä¸ªCDNèŠ‚ç‚¹è®¿é—®è¿™ä¸ªé™æ€æ–‡ä»¶äº†ï¼Œå¦‚æœè¿™ä¸ªèŠ‚ç‚¹ä¸­è¯·æ±‚çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°±ä¼šå†å›åˆ°æºç«™å»è·å–è¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åå†è¿”å›ç»™ç”¨æˆ·ã€‚ è´Ÿè½½å‡è¡¡è´Ÿè½½å‡è¡¡å°±æ˜¯å¯¹å·¥ä½œä»»åŠ¡è¿›è¡Œå¹³è¡¡ã€åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒä¸Šæ‰§è¡Œï¼Œå¦‚å›¾ç‰‡æœåŠ¡å™¨ã€åº”ç”¨æœåŠ¡å™¨ç­‰ï¼Œå…±åŒå®Œæˆå·¥ä½œä»»åŠ¡ã€‚å®ƒå¯ä»¥æé«˜æœåŠ¡å™¨å“åº”é€Ÿåº¦åŠåˆ©ç”¨æ•ˆç‡ï¼Œé¿å…è½¯ä»¶æˆ–è€…ç¡¬ä»¶æ¨¡å—å‡ºç°å•ç‚¹å¤±æ•ˆï¼Œè§£å†³ç½‘ç»œæ‹¥å¡é—®é¢˜ï¼Œå®ç°åœ°ç†ä½ç½®æ— å…³æ€§ï¼Œä¸ºç”¨æˆ·æä¾›è¾ƒä¸€è‡´çš„è®¿é—®è´¨é‡ã€‚CDNæ•´ä½“çš„å·¥ä½œæµç¨‹å¯ä»¥å¤§æ¦‚å½’ä¸ºä¸‹å›¾ï¼š æ€»ç»“ä»¥ä¸Šå°±æ˜¯Httpè¯·æ±‚çš„ä¸€äº›ç†è§£ï¼Œå¦‚æœæœ‰ä¸å¯¹çš„åœ°æ–¹åŠæ—¶ä¸æˆ‘æ¥æ²Ÿé€šã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[åœ¨iOS11ä¸‹appå›¾æ ‡å˜ç©ºç™½çš„é—®é¢˜è§£å†³]]></title>
    <url>%2F2018%2F01%2F23%2F%E5%9C%A8iOS11%E4%B8%8Bapp%E5%9B%BE%E6%A0%87%E5%8F%98%E7%A9%BA%E7%99%BD%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯ï¼šæœ€è¿‘åœ¨åšé¡¹ç›®çš„æ—¶å€™å‘ç°è¿è¡Œåœ¨æ¨¡æ‹Ÿå™¨ä¸Šå›¾æ ‡ä¸¢å¤±ï¼Œå˜æˆäº†è‹¹æœé»˜è®¤çš„ç™½æ¿å›¾æ ‡ã€‚å› ä¸ºä¸€å¼€å§‹åªåœ¨æ¨¡æ‹Ÿå™¨ä¸Šå‡ºç°ï¼Œè€Œä¸”ä¹Ÿç¡®è®¤æ²¡æœ‰äººåŠ¨è¿‡å›¾æ ‡æ–‡ä»¶ï¼Œæ‰€ä»¥æ²¡æœ‰åœ¨æ„ï¼Œåæ¥æ…¢æ…¢çš„è¯¥é—®é¢˜å‡ºç°åœ¨çœŸæœºä¸Šï¼Œä¸€å¼€å§‹æ˜¯åªæœ‰iPhone Xï¼Œç„¶åå°±æ˜¯iPhone 8ï¼Œæ…¢æ…¢çš„å˜æˆä¸ç®¡æ˜¯æ¨¡æ‹Ÿå™¨è¿˜æ˜¯çœŸæœºï¼Œæ‰€æœ‰iOS11 ç³»ç»Ÿçš„å›¾æ ‡éƒ½æ²¡æœ‰äº†ã€‚æ¥ä¸‹æ¥å½±å“åˆ°çš„æœºå‹å’Œç³»ç»Ÿè¶Šæ¥è¶Šå¤šã€‚ å°è¯•ï¼š1ï¼šä¸€å¼€å§‹æƒ³åˆ°çš„æ˜¯å¯èƒ½æœ‰äººè¯¯æ”¹äº†å›¾æ ‡æ–‡ä»¶ï¼Œäºæ˜¯åˆ é™¤äº†images.xcassestä¸­çš„AppIconæ–‡ä»¶ï¼Œä»æ–°ç”Ÿæˆâ†’æ·»åŠ å›¾æ ‡ï¼Œä½†æ˜¯ä¾ç„¶æœªè§£å†³ã€‚ï¼ˆâœ˜ï¼‰ 2ï¼šæƒ³åˆ°æ˜¯å›¾ç‰‡æ ¼å¼/å°ºå¯¸çš„é—®é¢˜ï¼Œäºæ˜¯æ‰€æœ‰å›¾ç‰‡æŒ‰ç…§è§„å®šé‡æ–°ç”Ÿæˆï¼Œä½†æ˜¯ä»ç„¶æ— æµäºäº‹ã€‚ï¼ˆâœ˜ï¼‰ 3ï¼šå› ä¸ºè®¾ç½®å›¾æ ‡çš„æ–¹æ³•é™¤äº†åœ¨images.xcassestä¸­çš„AppIconæ–‡ä»¶ä¸­è®¾ç½®è¿˜å¯ä»¥åœ¨info.plistè®¾ç½®ã€æˆ–è€…ç›´æ¥åœ¨å·¥ç¨‹é‡Œé¢æ”¾ä¸€ä¸ªicon.pngçš„å›¾ç‰‡æ¥è®¾ ç½®ï¼Œæ‰€ä»¥éƒ½æ£€æŸ¥äº†ä¸€ä¾¿å‘ç°ä¹Ÿä¸æ˜¯è¿™ä¸ªåŸå› ï¼ˆâœ˜ï¼‰ 3ï¼šé‡ç½®æ‰‹æœºã€‚(âœ˜) è§£å†³ï¼šgoogleäº†ä¸‹å‘ç°å¥½å¤šå›½å¤–çš„å¼€å‘é‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œå¹¶ä¸”éƒ½æ˜¯ä½¿ç”¨xcode9.X.Xç‰ˆæœ¬ï¼Œæ‰€ä»¥æ€€ç–‘æ˜¯è‹¹æœçš„BUG ä¸è¿‡è¿™ä¸ªé—®é¢˜å¹¶ä¸æ˜¯è°éƒ½ä¼šå‡ºç°ä¹Ÿä¸æ˜¯æ‰€æœ‰ä½¿ç”¨xcode9 + iOS11çš„è®¾å¤‡éƒ½ä¼šå‡ºç° åæ¥ç»è¿‡å¤§å®¶çš„è®¨è®ºç»ˆäºæœ‰äººè¯´è¿™ä¸ªå…¶å®æ˜¯cocoapodsçš„BUGï¼Œæš‚æ—¶å¹¶ä¸èƒ½é€šè¿‡æ›´æ–°cocoapodsæ›´æ–°æ¥è§£å†³ï¼Œå› ä¸ºæœ€æ–°ç‰ˆçš„cocoapods ä¹Ÿå­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š åœ¨ä½ çš„podfileä¸­åŠ å…¥ä»¥ä¸‹ä»£ç å°±å¯ä»¥äº† post_install do |installer| copy_pods_resources_path = "Pods/Target Support Files/Pods-å·¥ç¨‹å/Pods-å·¥ç¨‹å-resources.sh" string_to_replace = '--compile "$&#123;BUILT_PRODUCTS_DIR&#125;/$&#123;UNLOCALIZED_RESOURCES_FOLDER_PATH&#125;"' assets_compile_with_app_icon_arguments = '--compile "$&#123;BUILT_PRODUCTS_DIR&#125;/$&#123;UNLOCALIZED_RESOURCES_FOLDER_PATH&#125;" --app-icon "$&#123;ASSETCATALOG_COMPILER_APPICON_NAME&#125;" --output-partial-info-plist "$&#123;BUILD_DIR&#125;/assetcatalog_generated_info.plist"' text = File.read(copy_pods_resources_path) new_contents = text.gsub(string_to_replace, assets_compile_with_app_icon_arguments) File.open(copy_pods_resources_path, "w") &#123;|file| file.puts new_contents &#125;end åƒè¿™æ ·ï¼š]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>xcode</tag>
        <tag>cocoapods</tag>
        <tag>podfile</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[IOSä¸‹ä¸‰ç§DNSè§£ææ–¹å¼åˆ†æï¼ˆLocalDnsï¼‰]]></title>
    <url>%2F2018%2F01%2F23%2FIOS%E4%B8%8B%E4%B8%89%E7%A7%8DDNS%E8%A7%A3%E6%9E%90%E6%96%B9%E5%BC%8F%E5%88%86%E6%9E%90%EF%BC%88LocalDns%EF%BC%89%2F</url>
    <content type="text"><![CDATA[èƒŒæ™¯æœ€è¿‘åœ¨åšiOSçš„DNSè§£æï¼Œé¡ºä¾¿ç ”ç©¶äº†ä¸‹iOSç«¯æœ¬åœ°çš„DNSè§£ææ–¹å¼ï¼ˆlocalDNSï¼‰,ä¹Ÿå°±æ˜¯ä¸ä¾èµ–Httpè¯·æ±‚ï¼Œè€Œæ˜¯ç”¨åŸå§‹çš„APIè¿›è¡Œè§£æï¼Œè™½ç„¶æœ‰HttpDNSä½†æ˜¯è€ƒè™‘åˆ°æˆæœ¬ã€ç¬¬ä¸‰æ–¹æœåŠ¡ç¨³å®šæ€§çš„é—®é¢˜ï¼ŒLocalDNSä»ç„¶æ˜¯ä¸€ä¸ªå¾ˆé‡è¦çš„éƒ¨åˆ†ï¼Œåœ¨iOSç³»ç»Ÿä¸‹ï¼ŒlocalDNSçš„è§£ææ–¹å¼æœ‰ä¸‰ç§ï¼Œä¸‹é¢ä¸»è¦å¯¹ä¸‰ç§æ–¹å¼è¿›è¡Œä¸‹åˆ©å¼Šåˆ†æåŠç®€å•çš„åŸç†ä»‹ç»ã€‚ æ–¹å¼ä¸€è¿™ä¸ªä¹Ÿæ˜¯æˆ‘ä¸€å¼€å§‹åœ¨é¡¹ç›®ä¸­ä½¿ç”¨çš„æ–¹å¼ã€‚1ï¼šstruct hostent *gethostbyname(const char *);2ï¼šstruct hostent *gethostbyname2(const char *, int); ä¸¤ä¸ªå‡½æ•°ä½œç”¨å®Œå…¨ä¸€æ ·ï¼Œè¿”å›å€¼ä¸€æ ·ï¼Œä½†æ˜¯ç¬¬ä¸€ä¸ªåªèƒ½ç”¨äºIPV4çš„ç½‘ç»œç¯å¢ƒï¼Œè€Œç¬¬äºŒä¸ªåˆ™IPV4å’ŒIPV6éƒ½å¯ä½¿ç”¨ï¼Œå¯ä»¥é€šè¿‡ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥å½“å‰çš„ç½‘ç»œç¯å¢ƒã€‚ ä½¿ç”¨æ–¹å¼ï¼šCFAbsoluteTime start = CFAbsoluteTimeGetCurrent(); char *ptr, **pptr; struct hostent *hptr; char str[32]; ptr = "www.meitu.com"; NSMutableArray * ips = [NSMutableArray array]; if((hptr = gethostbyname(ptr)) == NULL) &#123; return; &#125; for(pptr=hptr-&gt;h_addr_list; *pptr!=NULL; pptr++) &#123; NSString * ipStr = [NSString stringWithCString:inet_ntop(hptr-&gt;h_addrtype, *pptr, str, sizeof(str)) encoding:NSUTF8StringEncoding]; [ips addObject:ipStr?:@""]; &#125; CFAbsoluteTime end = CFAbsoluteTimeGetCurrent(); NSLog(@"22222 === ip === %@ === time cost: %0.3fs", ips,end - start); ä½¿ç”¨gethostbynameæ–¹æ³•åä¼šå¾—åˆ°ä¸€ä¸ªstruct,ä¹Ÿå°±æ˜¯ä¸Šæ–‡çš„struct hostent *hptrï¼šstruct hostent &#123; char *h_name; /* official name of host */ char **h_aliases; /* alias list */ int h_addrtype; /* host address type */ int h_length; /* length of address */ char **h_addr_list; /* list of addresses from name server */#if !defined(_POSIX_C_SOURCE) || defined(_DARWIN_C_SOURCE)#define h_addr h_addr_list[0] /* address, for backward compatibility */#endif /* (!_POSIX_C_SOURCE || _DARWIN_C_SOURCE) */&#125;; å‚æ•°è§£æï¼š hostent-&gt;h_nameè¡¨ç¤ºçš„æ˜¯ä¸»æœºçš„è§„èŒƒåã€‚ä¾‹å¦‚www.baidu.comçš„è§„èŒƒåå…¶å®æ˜¯www.a.shifen.comã€‚ hostent-&gt;h_aliasesè¡¨ç¤ºçš„æ˜¯ä¸»æœºçš„åˆ«åwww.baidu.comçš„åˆ«åå°±æ˜¯ä»–è‡ªå·±ã€‚æœ‰çš„æ—¶å€™ï¼Œæœ‰çš„ä¸»æœºå¯èƒ½æœ‰å¥½å‡ ä¸ªåˆ«åï¼Œè¿™äº›ï¼Œå…¶å®éƒ½æ˜¯ä¸ºäº†æ˜“äºç”¨æˆ·è®°å¿†è€Œä¸ºè‡ªå·±çš„ç½‘ç«™å¤šå–çš„åå­—ã€‚ hostent-&gt;h_addrtypeè¡¨ç¤ºçš„æ˜¯ä¸»æœºipåœ°å€çš„ç±»å‹ï¼Œåˆ°åº•æ˜¯ipv4(AF_INET)ï¼Œè¿˜æ˜¯pv6(AF_INET6) hostent-&gt;h_lengthè¡¨ç¤ºçš„æ˜¯ä¸»æœºipåœ°å€çš„é•¿åº¦ hostent-&gt;h_addr_lisstè¡¨ç¤ºçš„æ˜¯ä¸»æœºçš„ipåœ°å€ï¼Œæ³¨æ„ï¼Œè¿™ä¸ªæ˜¯ä»¥ç½‘ç»œå­—èŠ‚åºå­˜å‚¨çš„ã€‚ä¸è¦ç›´æ¥ç”¨printfå¸¦%så‚æ•°æ¥æ‰“è¿™ä¸ªä¸œè¥¿ï¼Œä¼šæœ‰é—®é¢˜çš„å“‡ã€‚æ‰€ä»¥åˆ°çœŸæ­£éœ€è¦æ‰“å°å‡ºè¿™ä¸ªIPçš„è¯ï¼Œéœ€è¦è°ƒç”¨const char *inet_ntop(int af, const void *src, char *dst, socklen_t cnt)ï¼Œæ¥æŠŠå®ƒè½¬æˆcharã€‚è¯¦ç»†ä½¿ç”¨è§ä¸Šæ–‡ ç¼ºç‚¹ï¼š åœ¨è¿›è¡Œç½‘ç»œåˆ‡æ¢çš„æ—¶å€™å°æ¦‚ç‡å¡æ­»ï¼Œè‡ªæµ‹åæ¬¡æœ‰ä¸€ä¸¤æ¬¡å·¦å³ã€‚ åœ¨æœ¬åœ°çš„LocalDnsè¢«ç ´åçš„æ—¶å€™ä¼šå¿…å¡æ­»30ç§’ï¼Œç„¶åè¿”å›nil ã€‚ ç¼“å­˜æ˜¯ä¸ªç„å­¦ä¸œè¥¿ï¼Œä»–ä¼šå¯¹è‡ªå·±è§£æå‡ºæ¥çš„IPè¿›è¡Œç¼“å­˜ï¼ˆå¯èƒ½æ˜¯è¿è¥å•†ç¼“å­˜ï¼‰ç¼“å­˜æ—¶é—´ä¸ç¡®å®šï¼Œæœ‰å¯èƒ½æˆ‘å³ä½¿åˆ‡æ¢äº†æ— æ•°ä¸ªç½‘ç»œï¼Œä½†æ˜¯ä»æ—©åˆ°æ™šåŒä¸€ä¸ªåŸŸåæ€»æ˜¯è§£æå‡ºåŒæ ·çš„IPï¼Œ ç½‘ä¸Šè¯´çš„æ¯”è¾ƒå¤šçš„é—®é¢˜ æ–¹å¼äºŒé™¤äº†ç»å¸¸ç”¨åˆ°çš„gethostbyname(3)å’Œgethostbyaddr(3)å‡½æ•°ä»¥å¤–, Linux(ä»¥åŠå…¶å®ƒUNIX/UNIX-likeç³»ç»Ÿ)è¿˜æä¾›äº†ä¸€å¥—ç”¨äºåœ¨åº•å±‚å¤„ç†DNSç›¸å…³é—®é¢˜çš„å‡½æ•°(è¿™é‡Œæ‰€è¯´çš„åº•å±‚ä»…æ˜¯ç›¸å¯¹gethostbynameå’Œgethostbyaddrä¸¤ä¸ªå‡½æ•°è€Œè¨€). è¿™å¥—å‡½æ•°è¢«ç§°ä¸ºåœ°å€è§£æå‡½æ•°(resolver functions)ã€‚æ›¾ç»å°è¯•è¿‡è¿™ä¸ªæ–¹å¼â€¦int res_query __P((const char *, int, int, u_char *, int));å‡½æ•°åŸå‹ä¸ºï¼šint res_query(const char *dname, int class, int type, unsigned char *answer, int anslen) è¿™ä¸ªæ–¹å¼éœ€è¦åœ¨é¡¹ç›®ä¸­æ·»åŠ libresolv.tbdåº“ï¼Œå› ä¸ºè¦ä¾èµ–äºåº“ä¸­çš„å‡½æ•°å»è§£æã€‚res_queryç”¨æ¥å‘å‡ºä¸€ä¸ªæŒ‡å®šç±»(ç”±å‚æ•°classæŒ‡å®š)å’Œç±»å‹(ç”±å‚æ•°typeæŒ‡å®š)çš„DNSè¯¢é—®. dnameæ˜¯è¦æŸ¥è¯¢çš„ä¸»æœºå. è¿”å›ä¿¡æ¯è¢«å­˜å‚¨åœ¨answseræŒ‡å‘çš„å†…å­˜åŒºåŸŸä¸­. ä¿¡æ¯çš„é•¿åº¦ä¸èƒ½å¤§äºanslenä¸ªå­—èŠ‚. è¿™ä¸ªå‡½æ•°ä¼šåˆ›å»ºä¸€ä¸ªDNSæŸ¥è¯¢æŠ¥æ–‡å¹¶æŠŠå®ƒå‘é€åˆ°æŒ‡å®šçš„DNSæœåŠ¡å™¨ã€‚ ä½¿ç”¨æ–¹å¼CFAbsoluteTime start = CFAbsoluteTimeGetCurrent(); unsigned char auResult[512]; int nBytesRead = 0; nBytesRead = res_query("www.meitu.com", ns_c_in, ns_t_a, auResult, sizeof(auResult)); ns_msg handle; ns_initparse(auResult, nBytesRead, &amp;handle); NSMutableArray *ipList = nil; int msg_count = ns_msg_count(handle, ns_s_an); if (msg_count &gt; 0) &#123; ipList = [[NSMutableArray alloc] initWithCapacity:msg_count]; for(int rrnum = 0; rrnum &lt; msg_count; rrnum++) &#123; ns_rr rr; if(ns_parserr(&amp;handle, ns_s_an, rrnum, &amp;rr) == 0) &#123; char ip1[16]; strcpy(ip1, inet_ntoa(*(struct in_addr *)ns_rr_rdata(rr))); NSString *ipString = [[NSString alloc] initWithCString:ip1 encoding:NSASCIIStringEncoding]; if (![ipString isEqualToString:@""]) &#123; //å°†æå–åˆ°çš„IPåœ°å€æ”¾åˆ°æ•°ç»„ä¸­ [ipList addObject:ipString]; &#125; &#125; &#125; CFAbsoluteTime end = CFAbsoluteTimeGetCurrent(); NSLog(@"11111 === ip === %@ === time cost: %0.3fs", ipList,end - start); &#125; å‚æ•°è§£æç”±äºè¯¥é€»è¾‘æ˜¯Linuxåº•å±‚æä¾›çš„ä»£ç ï¼Œè‹¹æœç”¨å®åšäº†ä¸€æ¬¡å°è£…ï¼Œå…·ä½“çš„å‡½æ•°å«ä¹‰è¿˜éœ€è¦å¯¹Linuxå†…æ ¸çš„ç†è§£ï¼Œè¿™é‡Œæ”¾ä¸€ç¯‡å‚è€ƒèµ„æ–™ ä¼˜ç‚¹ï¼š åœ¨LocalDnsè¢«ç ´åæ‰çš„æƒ…å†µä¸‹èƒ½åŠæ—¶å“åº”ä¸ä¼šå»¶è¿Ÿã€‚ æ²¡æœ‰ç¼“å­˜ï¼Œç¼“å­˜ç”±å¼€å‘è€…æ§åˆ¶ç¼ºç‚¹ åœ¨è¿›è¡Œç½‘ç»œåˆ‡æ¢æ—¶å€™3G/4Gåˆ‡wifyé«˜æ¦‚ç‡å‡ºç°å¡æ­»è¿™ä¸€ä¸ªç¼ºç‚¹æ˜¯æ¯”è¾ƒè‡´å‘½çš„ï¼Œæ‰€ä»¥æ²¡æœ‰å†ç»§ç»­ä½¿ç”¨ã€‚ æ–¹å¼ä¸‰è‹¹æœåŸç”Ÿçš„DNSè§£æ Boolean CFHostStartInfoResolution (CFHostRef theHost, CFHostInfoType info, CFStreamError *error); ä½¿ç”¨æ–¹æ³•ï¼šBoolean result,bResolved;CFHostRef hostRef;CFArrayRef addresses = NULL;NSMutableArray * ipsArr = [[NSMutableArray alloc] init];CFStringRef hostNameRef = CFStringCreateWithCString(kCFAllocatorDefault, "www.meitu.com", kCFStringEncodingASCII);hostRef = CFHostCreateWithName(kCFAllocatorDefault, hostNameRef);CFAbsoluteTime start = CFAbsoluteTimeGetCurrent();result = CFHostStartInfoResolution(hostRef, kCFHostAddresses, NULL);if (result == TRUE) &#123; addresses = CFHostGetAddressing(hostRef, &amp;result);&#125;bResolved = result == TRUE ? true : false;if(bResolved)&#123; struct sockaddr_in* remoteAddr; for(int i = 0; i &lt; CFArrayGetCount(addresses); i++) &#123; CFDataRef saData = (CFDataRef)CFArrayGetValueAtIndex(addresses, i); remoteAddr = (struct sockaddr_in*)CFDataGetBytePtr(saData); if(remoteAddr != NULL) &#123; //è·å–IPåœ°å€ char ip[16]; strcpy(ip, inet_ntoa(remoteAddr-&gt;sin_addr)); NSString * ipStr = [NSString stringWithCString:ip encoding:NSUTF8StringEncoding]; [ipsArr addObject:ipStr]; &#125; &#125;&#125;CFAbsoluteTime end = CFAbsoluteTimeGetCurrent();NSLog(@"33333 === ip === %@ === time cost: %0.3fs", ipsArr,end - start);CFRelease(hostNameRef);CFRelease(hostRef); å‚æ•°è§£æï¼š/* * CFHostStartInfoResolution() * * Discussion: * Performs a lookup for the given host. It will search for the * requested information if there is no other active request. * Previously cached information of the given type will be released. * * Mac OS X threading: * Thread safe * * Parameters: * * theHost: //éœ€è¦è¢«è§£å†³çš„CFHostRefçš„å¯¹è±¡ * The CFHostRef which should be resolved. Must be non-NULL. If * this reference is not a valid CFHostRef, the behavior is * undefined. * * info: è¿”å›å€¼çš„ç±»å‹ æ•°ç»„/Data/string.. * The enum representing the type of information to be retrieved. * If the value is not a valid type, the behavior is undefined. * * error: é”™è¯¯ * A reference to a CFStreamError structure which will be filled * with any error information should an error occur. May be set * to NULL if error information is not wanted. * * Result: è§£æç»“æœæˆåŠŸè¿˜æ˜¯å¤±è´¥ * Returns TRUE on success and FALSE on failure. In asynchronous * mode, this function will return immediately. In synchronous * mode, it will block until the resolve has completed or until the * resolve is cancelled. * */CFN_EXPORT __nullable CFArrayRefCFHostGetAddressing(CFHostRef theHost, Boolean * __nullable hasBeenResolved) CF_AVAILABLE(10_3, 2_0); ä¼˜ç‚¹ï¼š åœ¨ç½‘ç»œåˆ‡æ¢æ—¶å€™ä¸ä¼šå¡é¡¿ã€‚ç¼ºç‚¹ï¼š åœ¨æœ¬åœ°DNSè¢«ç ´åçš„æƒ…å†µä¸‹ä¼šå‡ºç°å¡æ­»çš„ç°è±¡(å¡30s)æ€»ç»“ï¼šä»¥ä¸Šä¸‰ä¸ªæ–¹æ³•é™¤äº†ç¬¬äºŒä¸ªæ–¹æ³•ä¼šåœ¨ç½‘ç»œåˆ‡æ¢æ—¶å€™å¡æ­»ä¸å¯ç”¨ä¹‹å¤–ï¼Œå…¶ä»–ä¸¤ä¸ªæ–¹æ³•éƒ½æ˜¯å¯é€‰æ‹©çš„ï¼Œå…³äºé‚£ä¸ªæœ¬åœ°LocalDnsç ´åä¼šå¡æ­»çš„é—®é¢˜çœ‹æ¥æ˜¯æ— æ³•é¿å…ï¼Œä¸è¿‡å¼€å‘è€…å¯ä»¥è‡ªè¡Œé€šè¿‡pingç­‰æ–¹å¼æ¥åˆ¤æ–­LocalDnsçš„æ­£ç¡®æ€§ï¼Œåœ¨è¢«ç ´åçš„æƒ…å†µä¸‹ä½¿ç”¨httpDnsæ¥è¿›è¡Œè§£æå³å¯ã€‚å…·ä½“çš„demoå¯ä»¥åˆ°è¿™é‡ŒæŸ¥çœ‹]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>DNSè§£æ</tag>
        <tag>LocalDNS</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Welcome To My Site]]></title>
    <url>%2F2018%2F01%2F19%2Ftest-source%2F</url>
    <content type="text"><![CDATA[Todayyouâ€™ll view the world differently welcome !!! var options = {"narrow":false,"autoplay":true,"showlrc":3,"mutex":true,"music":[{"title":"å¤§é±¼","author":"å‘¨æ·±","url":"https://molier-1256056152.cos.ap-guangzhou.myqcloud.com/bigfish.mp3","pic":"https://y.gtimg.cn/music/photo_new/T002R300x300M000004Y7V4s3ug4cC.jpg?max_age=2592000","lrc":"https://demo.meting.api.meto.moe/action/metingapi?server=tencent&type=lrc&id=004OQ5Mt0EmEzv"}]}; options.element = document.getElementById("aplayer0"); new APlayer(options);]]></content>
      <categories>
        <category>å…¶ä»–</category>
      </categories>
      <tags>
        <tag>æ¬¢è¿é¡µ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½è¿ç®—çš„ç®€å•ç†è§£ğŸ˜Š]]></title>
    <url>%2F2018%2F01%2F19%2F%E4%BD%8D%E8%BF%90%E7%AE%97%E7%9A%84%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%F0%9F%98%8A%2F</url>
    <content type="text"><![CDATA[1ï¼šèƒŒæ™¯ä»ç°ä»£è®¡ç®—æœºä¸­æ‰€æœ‰çš„æ•°æ®äºŒè¿›åˆ¶çš„å½¢å¼å­˜å‚¨åœ¨è®¾å¤‡ä¸­ã€‚å³0ã€1ä¸¤ç§çŠ¶æ€ï¼Œè®¡ç®—æœºå¯¹äºŒè¿›åˆ¶æ•°æ®è¿›è¡Œçš„è¿ç®—(+ã€-ã€*ã€/)éƒ½æ˜¯å«ä½è¿ç®—ï¼Œå³å°†ç¬¦å·ä½å…±åŒå‚ä¸è¿ç®—çš„è¿ç®—ã€‚ æˆ‘ä»¬æ¯ä¸€ç§è¯­è¨€æœ€ç»ˆéƒ½ä¼šé€šè¿‡ç¼–è¯‘å™¨è½¬æ¢æˆæœºå™¨è¯­è¨€æ¥æ‰§è¡Œï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨åº•å±‚çš„è¯­è¨€å°±ä¸éœ€è¦ä¾¿ç¼–è¯‘å™¨çš„è½¬æ¢å·¥ä½œä»è€Œå¾—åˆ°æ›´é«˜çš„æ‰§è¡Œæ•ˆç‡ï¼Œå½“ç„¶å¯è¯»æ€§å¯èƒ½ä¼šé™ä½ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæ±‡ç¼–åœ¨å¤§éƒ¨åˆ†æƒ…å†µä¸‹æœ‰æ›´å¿«çš„é€Ÿåº¦ã€‚é¡¹ç›®ä¸­åˆç†çš„è¿ç”¨ä½è¿ç®—èƒ½æé«˜æˆ‘ä»¬ä»£ç çš„æ‰§è¡Œæ•ˆç‡ã€‚ åœ¨iOSç³»ç»Ÿä¸­ä½è¿ç®—å¤šè§äºæšä¸¾ä¸­ï¼Œå…¶ä»–åœ°æ–¹å¾ˆå°‘è§ï¼Œå› ä¸ºä½è¿ç®—æ˜¯åº•å±‚çš„è®¡ç®—æœºè¯­è¨€ï¼Œè€Œåœ¨iOSå¼€å‘ä¸­ä¸ç®¡æ˜¯Objectiveâ€”Cè¿˜æ˜¯Swiftéƒ½å±äºé«˜çº§çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¤§é‡çš„ä½è¿ç®—éƒ½è¢«è‹¹æœå°è£…äº†èµ·æ¥ï¼Œæˆ‘ä»¬åªå…³å¿ƒè°ƒç”¨çš„æ¥å£ä¸ç”¨å…³å¿ƒå†…éƒ¨çš„å®ç°ã€‚ typedef NS_OPTIONS(NSUInteger, NSLayoutFormatOptions) &#123; NSLayoutFormatAlignAllLeft = (1 &lt;&lt; NSLayoutAttributeLeft), NSLayoutFormatAlignAllRight = (1 &lt;&lt; NSLayoutAttributeRight), NSLayoutFormatAlignAllTop = (1 &lt;&lt; NSLayoutAttributeTop), NSLayoutFormatAlignAllBottom = (1 &lt;&lt; NSLayoutAttributeBottom), NSLayoutFormatAlignAllLeading = (1 &lt;&lt; NSLayoutAttributeLeading), NSLayoutFormatAlignAllTrailing = (1 &lt;&lt; NSLayoutAttributeTrailing),.... &#125; 10ï¼šè®¡ç®—æœºè®¡ç®—åŸç†åŠ æ³•å’Œä¹˜æ³•ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥çœ‹ä¸‹CPUæ˜¯å¦‚ä½•è¿›è¡Œè®¡ç®—çš„ï¼Œæ¯”å¦‚è¿™è¡Œä»£ç  int a = 35;int b = 47;int c = a + b; è®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œï¼Œå› ä¸ºåœ¨è®¡ç®—æœºä¸­éƒ½æ˜¯ä»¥äºŒè¿›åˆ¶æ¥è¿›è¡Œè¿ç®—ï¼Œæ‰€ä»¥ä¸Šé¢æˆ‘ä»¬æ‰€ç»™çš„intå˜é‡ä¼šåœ¨æœºå™¨å†…éƒ¨å…ˆè½¬æ¢ä¸ºäºŒè¿›åˆ¶åœ¨è¿›è¡Œç›¸åŠ  35: 0 0 1 0 0 0 1 147: 0 0 1 0 1 1 1 1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”82: 0 1 0 1 0 0 1 0 å†æ¥çœ‹ä¸‹ä¹˜æ³•ï¼Œæ‰§è¡Œå¦‚ä¸‹çš„ä»£ç  int a = 3;int b = 2;int c = a * b;3: 0 0 0 0 0 0 1 1 * 2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”6: 0 0 0 0 0 1 1 0*********************************************int a = 3;int b = 4;int c = a * b;3: 0 0 0 0 0 0 1 1 * 4â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”12: 0 0 0 0 1 1 0 0*********************************************int a = 3;int b = 8;int c = a * b;3: 0 0 0 0 0 0 1 1 * 8â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”24: 0 0 0 1 1 0 0 0 é€šè¿‡ä»¥ä¸Šè¿ç®—å¯ä»¥çœ‹å‡ºå½“ç”¨aä¹˜bï¼Œä¸”å¦‚æœbæ»¡è¶³2^Nçš„æ—¶å€™ å°±ç›¸å½“äºæŠŠaçš„äºŒè¿›åˆ¶æ•°æ®å‘å·¦ç§»åŠ¨Nä½ï¼Œæ”¾åˆ°ä»£ç ä¸­ æˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å†™ a &lt;&lt; N,æ‰€ä»¥ä¸Šé¢3 2ã€3 4ã€3 * 8å…¶å®æ˜¯å¯ä»¥å†™æˆ3&lt;&lt;1ã€3&lt;&lt;2ã€3&lt;&lt;3ï¼Œè¿ç®—ç»“æœéƒ½æ˜¯ä¸€æ ·çš„ã€‚ é‚£å‡å¦‚ç›¸ä¹˜çš„ä¸¤ä¸ªæ•°éƒ½ä¸æ»¡è¶³2^Næ€ä¹ˆåŠå‘¢ï¼Ÿå…¶å®è¿™ä¸ªæ—¶å€™ç¼–è¯‘å™¨ä¼šå°†å…¶ä¸­ä¸€ä¸ªæ•°æ‹†åˆ†æˆå¤šä¸ªæ»¡è¶³2^Nçš„æ•°ç›¸åŠ çš„æƒ…å†µï¼Œæ‰“ä¸ªæ¯”æ–¹ int a = 15; int a = 15int b = 13; =&gt; int b = (4 + 8 + 1)int c = a * b; int c = a * b æœ€åå…¶å®æ‰§è¡Œç›¸ä¹˜è¿ç®—å°±ä¼šå˜æˆè¿™æ · 15 4 + 15 8 + 15 * 1ï¼ŒæŒ‰ç…§ä¸Šæ–‡è¯´çš„ç§»ä½æ¥è½¬æ¢ä¸ºä½è¿ç®—å°±ä¼šå˜æˆ15 &lt;&lt; 2 + 15 &lt;&lt; 3 + 15 &lt;&lt; 0 å‡æ³•å’Œé™¤æ³•å‡æ³•ä¹Ÿæ˜¯ä¸åŠ æ³•åŒç†åªä¸è¿‡è®¡ç®—æœºå†…å‡æ³•æ“ä½œå°±æ˜¯åŠ ä¸Šä¸€ä¸ªæ•°çš„è´Ÿæ•°å½¢å¼ï¼Œä¸”åœ¨æ“ä½œç³»ç»Ÿä¸­éƒ½æ˜¯ä»¥è¡¥ç çš„å½¢å¼è¿›è¡Œæ“ä½œ(å› ä¸ºæ­£æ•°çš„æºç è¡¥ç åç éƒ½ä¸æœ¬èº«ç›¸åŒ)ã€‚é¦–å…ˆ, å› ä¸ºäººè„‘å¯ä»¥çŸ¥é“ç¬¬ä¸€ä½æ˜¯ç¬¦å·ä½, åœ¨è®¡ç®—çš„æ—¶å€™æˆ‘ä»¬ä¼šæ ¹æ®ç¬¦å·ä½, é€‰æ‹©å¯¹çœŸå€¼åŒºåŸŸçš„åŠ å‡. ä½†æ˜¯å¯¹äºè®¡ç®—æœº, åŠ å‡ä¹˜æ•°å·²ç»æ˜¯æœ€åŸºç¡€çš„è¿ç®—, è¦è®¾è®¡çš„å°½é‡ç®€å•. è®¡ç®—æœºè¾¨åˆ«â€ç¬¦å·ä½â€æ˜¾ç„¶ä¼šè®©è®¡ç®—æœºçš„åŸºç¡€ç”µè·¯è®¾è®¡å˜å¾—ååˆ†å¤æ‚! äºæ˜¯äººä»¬æƒ³å‡ºäº†å°†ç¬¦å·ä½ä¹Ÿå‚ä¸è¿ç®—çš„æ–¹æ³•. æˆ‘ä»¬çŸ¥é“, æ ¹æ®è¿ç®—æ³•åˆ™å‡å»ä¸€ä¸ªæ­£æ•°ç­‰äºåŠ ä¸Šä¸€ä¸ªè´Ÿæ•°, å³: 1-1 = 1 + (-1) = 0 , æ‰€ä»¥æœºå™¨å¯ä»¥åªæœ‰åŠ æ³•è€Œæ²¡æœ‰å‡æ³•, è¿™æ ·è®¡ç®—æœºè¿ç®—çš„è®¾è®¡å°±æ›´ç®€å•äº†. é™¤æ³•çš„è¯å…¶å®å’Œä¹˜æ³•åŸç†ç›¸åŒï¼Œä¸è¿‡ä¹˜æ³•æ˜¯å·¦ç§»è€Œé™¤æ³•æ˜¯å³ç§»ï¼Œä½†æ˜¯é™¤æ³•çš„è®¡ç®—é‡è¦æ¯”ä¹˜æ³•å¤§å¾—å¤šï¼Œå…¶å¤§éƒ¨åˆ†çš„æ¶ˆè€—éƒ½åœ¨æ‹†åˆ†æ•°å€¼ï¼Œå’Œå¤„ç†å°æ•°çš„æ­¥éª¤ä¸Šï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬åœ¨è¿›è¡Œç”Ÿæˆå˜é‡çš„æ—¶å€™å¦‚æœé‡åˆ°å¤šä½çš„å°æ•°æˆ‘ä»¬å°½é‡æŠŠä»–æ¢æˆstringçš„å½¢å¼ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæµ®ç‚¹è¿ç®—ä¼šæ¶ˆè€—å¤§é‡çš„æ—¶é’Ÿå‘¨æœŸ(æ“ä½œç³»ç»Ÿä¸­æ¯è¿›è¡Œä¸€ä¸ªç§»ä½æˆ–è€…åŠ æ³•è¿ç®—çš„è¿‡ç¨‹æ‰€æ¶ˆè€—çš„æ—¶é—´å°±æ˜¯ä¸€ä¸ªæ—¶é’Ÿå‘¨æœŸï¼Œ3.0GHzé¢‘ç‡çš„CPUå¯ä»¥åœ¨ä¸€ç§’æ‰§è¡Œè¿ç®—3.010241024*1024ä¸ªæ—¶é’Ÿå‘¨æœŸ) 11ï¼šä½è¿ç®—ç¬¦ä½¿ç”¨çš„è¿ç®—ç¬¦åŒ…æ‹¬ä¸‹é¢ï¼š å«ä¹‰ è¿ç®—ç¬¦ ä¾‹å­ å·¦ç§» &lt;&lt; 0011 =&gt; 0110 å³ç§» &gt;&gt; 0110 =&gt; 0011 æŒ‰ä½æˆ– ï¸³ 0011 â€”â€”- =&gt; 10111011 æŒ‰ä½ä¸ &amp; 0011 â€”â€”- =&gt; 10111011 æŒ‰ä½å–å ~ 0011 =&gt; 1100 æŒ‰ä½å¼‚æˆ– (ç›¸åŒä¸ºé›¶ä¸åŒä¸ºä¸€) ^ 0011 â€”â€”- =&gt; 10001011 100ï¼šé¢œè‰²è½¬æ¢èƒŒæ™¯ä¸Šé¢è¯´äº†iOSä¸­ç»å¸¸è§åˆ°çš„ä½è¿ç®—çš„åœ°æ–¹æ˜¯åœ¨æšä¸¾ä¸­ï¼Œé‚£ä¹ˆé¢œè‰²è½¬æ¢åº”è¯¥æ˜¯é™¤äº†æšä¸¾ä¹‹å¤–ç¬¬äºŒæ¯”è¾ƒå¸¸ç”¨ä½è¿ç®—çš„åœºæ™¯ã€‚æ‰“ä¸ªæ¯”æ–¹è®¾è®¡å¸ˆå†ç»™æˆ‘ä»¬å‡ºè®¾è®¡ç¨¿çš„æ—¶å€™é€šå¸¸ä¼šåœ¨è®¾è®¡ç¨¿ä¸ŠæŒ‰ç…§16è¿›åˆ¶çš„æ ·å­ç»™æˆ‘ä»¬æ ‡è‰²å€¼ã€‚ä½†æ˜¯iOSä¸­çš„UIColorå¹¶ä¸æ”¯æŒä½¿ç”¨åå…­è¿›åˆ¶çš„æ•°æ®æ¥åˆå§‹åŒ–ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å°†åå…­è¿›åˆ¶çš„è‰²å€¼è½¬æ¢ä¸ºUIColorã€‚ åŸç†åˆ†æUIColorä¸­é€šå¸¸æ˜¯ç”¨ä¼ å…¥RGBçš„æ•°å€¼æ¥åˆå§‹åŒ–ï¼Œè€Œä¸”æ¯ä¸ªé¢œè‰²çš„å–å€¼èŒƒå›´æ˜¯åè¿›åˆ¶ä¸‹çš„0~255ï¼Œè€Œè®¾è®¡åŒå­¦åˆç»™çš„æ˜¯åå…­è¿›åˆ¶æ•°æ®ï¼Œæ‰€ä»¥åœ¨æ“ä½œç³»ç»Ÿä¸­éœ€è¦æŠŠè¿™ä¸¤ç§è¿›åˆ¶çš„æ•°æ®ç»Ÿä¸€æˆäºŒè¿›åˆ¶æ¥è¿›è¡Œè®¡ç®—ï¼Œè¿™å°±ç”¨åˆ°äº†ä½è¿ç®—ã€‚è¿™é‡Œç”¨ä¸€ä¸ªåå…­è¿›åˆ¶çš„è‰²å€¼æ¥ä¸¾ä¾‹å­æ¯”å¦‚0xffa131æˆ‘ä»¬è¦è½¬æ¢å°±è¦å…ˆç†è§£å…¶ç»„æˆ 0xæˆ–è€…0Xï¼šåå…­è¿›åˆ¶çš„æ ‡è¯†ç¬¦ï¼Œè¡¨ç¤ºè¿™ä¸ªåé¢æ˜¯ä¸ªåå…­è¿›åˆ¶çš„æ•°å€¼ï¼Œå¯¹æ•°å€¼æœ¬èº«æ²¡æœ‰ä»»ä½•æ„ä¹‰ ff é¢œè‰²ä¸­çš„Rå€¼,è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä¸º 1111 1111 a1 é¢œè‰²ä¸­çš„Gå€¼,è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä¸º 1010 0001 31 é¢œè‰²ä¸­çš„Bå€¼,è½¬æ¢ä¸ºäºŒè¿›åˆ¶ä¸º 0011 0001 ä¸Šè¿°è‰²å½©å€¼è½¬æ¢ä¸ºäºŒè¿›åˆ¶åä¸º1111 1111 1010 0001 0011 0001(æ¯ä¸€ä½åå…­è¿›åˆ¶çš„å¯¹åº”4ä½äºŒè¿›åˆ¶ï¼Œå¦‚æœä½æ•°ä¸å¤Ÿè®°å¾—é«˜ä½è¡¥é›¶) é€šå¸¸æ¥è®²åå…­è¿›åˆ¶çš„é¢œè‰²æ˜¯æŒ‰ç…§ä¸Šé¢çš„RGBçš„é¡ºåºæ’åˆ—çš„ï¼Œä½†æ˜¯å¹¶ä¸å›ºå®šï¼Œæœ‰æ—¶å€™å¯èƒ½ä¼šåœ¨å…¶ä¸­åŠ A(Alpha)å€¼ï¼Œå…·ä½“æƒ…å†µæŒ‰ç…§è®¾è®¡ä¸ºå‡†ï¼Œæœ¬æ–‡ä»¥é€šç”¨æƒ…å†µä¸¾ä¾‹ã€‚ ç»¼ä¸Šï¼Œæˆ‘ä»¬åªéœ€æŠŠå¯¹åº”ä½çš„å€¼è½¬æ¢ä¸º10è¿›åˆ¶ç„¶å/255.0få°±å¯å¾—åˆ°RGBè‰²å½©å€¼ï¼Œä»è€Œè½¬æ¢ä¸ºUIColor è½¬æ¢ä»£ç å…ˆåˆ—å‡ºä»£ç ï¼Œåç»­è§£æ - (UIColor *)colorWithHex:(long)hexColor alpha:(float)opacity&#123; //å°†ä¼ å…¥çš„åå…­è¿›åˆ¶é¢œè‰²0xffa131 è½¬æ¢ä¸ºUIColor float red = ((hexColor &amp; 0xFF0000) &gt;&gt; 16)/255.0f; float green = ((hexColor &amp; 0xFF00) &gt;&gt; 8)/255.0f; float blue = (hexColor &amp; 0xFF)/255.0f; return [UIColor colorWithRed:red green:green blue:blue alpha:opacity];&#125; å¤§æ¦‚åŸç†å¯ä»¥çœ‹å‡ºå°†RGBæ¯ä¸ªå€¼éƒ½è§£æå‡ºæ¥ç„¶åå˜æˆUIColorï¼Œå…ˆæ‹¿ç¬¬ä¸€æ­¥è½¬æ¢çº¢è‰²å€¼æ¥è¯´ï¼Œæˆ‘ä»¬æŒ‰ç…§è¿ç®—é¡ºåºä¸€æ­¥æ­¥æ¥è®²(é»˜è®¤å°†å‚æ•°ä»£å…¥ï¼Œç”¨0xffa131ä»£æ›¿hexColor) 0xffa131 &amp; 0xFF0000 æˆ‘ä»¬çŸ¥é“çº¢è‰²å€¼æ˜¯å‰ä¸¤ä½ä¹Ÿå°±æ˜¯ffï¼Œæ‰€ä»¥è¿™ä¸€æ­¥æˆ‘ä»¬æ—¢ç„¶è¦å–å‡ºçº¢è‰²å€¼å°±è¦æŠŠå…¶ä»–ä½å…¨éƒ¨ç½®é›¶æ¥æ’é™¤å¹²æ‰°ï¼Œè¿™æ­¥æ“ä½œä¾¿æ˜¯å¦‚æ­¤ï¼Œåœ¨è®¡ç®—æœºç³»ç»Ÿå†…æ˜¯äºŒè¿›åˆ¶æ¥å®ç°çš„ï¼Œå³ï¼š 1111 1111 1010 0001 0011 0001â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”- =&gt; &amp; =&gt; 1111 1111 0000 0000 0000 1111 1111 0000 0000 0000 0000è¿™éƒ¨æ“ä½œåšå®Œåå¯ä»¥çœ‹å‡ºå°†é™¤äº†Rå€¼ä¹‹å¤–çš„Gå€¼Bå€¼å…¨éƒ¨ç½®é›¶äº†ï¼Œä½†æ˜¯ç¦»æœ€ç»ˆç»“æœè¿˜å·®ç‚¹ï¼Œå› ä¸º0xFFæ˜¯1111 1111ï¼Œè€Œæˆ‘ä»¬çš„ç»“æœåé¢å¤šå‡ºäº†16ä¸ª0ï¼Œæ‰€ä»¥ä¾¿æœ‰äº†ç¬¬äºŒæ­¥æ“ä½œ &gt;&gt; 16 å°†ä¸Šä¸€æ­¥å¾—åˆ°çš„ç»“æœå³ç§»16ä½å³å¾—åˆ°0000 0000 0000 0000 1111 1111é«˜ä½çš„é›¶å¯ä»¥å¿½ç•¥ï¼Œè¿™ä¹Ÿæ˜¯æœ€ç»ˆçš„ç»“æœ / 255.0f è¿™ä¸€æ­¥åº”è¯¥éƒ½çŸ¥é“UIColorä¸­ä¼ å…¥çš„æ•°å€¼èŒƒå›´åœ¨0~1ï¼Œæ‰€ä»¥æˆ‘ä»¬è¦åšä¸‹è½¬æ¢ åç»­çš„Gå€¼å’ŒBå€¼éƒ½æ˜¯ä¸€æ ·çš„ï¼Œåªæ˜¯å¤§å®¶æ³¨æ„ä½æ•°å°±å¯ä»¥äº†ï¼Œå€¼å¾—æ³¨æ„çš„æ˜¯ä¸¤ä¸ªäºŒè¿›åˆ¶æ•°è¿›è¡Œä½è¿ç®—ä¸€å®šä¿è¯ä¸¤ä¸ªæ•°çš„ä½æ•°ç›¸åŒï¼Œä½æ•°ä¸å¤Ÿçš„é‚£ä¸ªæ•°é«˜ä½è¦ç”¨0è¡¥é½ 101ï¼šæšä¸¾å…³äºæšä¸¾ä¸­ä½¿ç”¨ä½è¿ç®—æˆ‘ä»¬ä¹‹å‰ä¹Ÿè®²è¿‡ï¼Œä¸‹é¢æˆ‘ä»¬è‡ªå·±æ¥å†™ä¸€ä¸ªæšä¸¾(ä¼ªä»£ç ) typedef NS_OPTIONS(NSUInteger, TestOptions) &#123; TestOptionOne = 1 &lt;&lt; 0, ï¼ˆ000001) TestOptionTwo = 1 &lt;&lt; 1, (000010) TestOptionThree = 1 &lt;&lt; 2, (000100) TestOptionFour = 1 &lt;&lt; 3, (001000) TestOptionFive = 1 &lt;&lt; 4, (010000) TestOptionSix = 1 &lt;&lt; 5, (100000).... è§£æä¸Šé¢çš„æšä¸¾æˆ‘åé¢ç”¨æ‹¬å·è¡¨æ˜äº†ä½ç§»åå¯¹åº”çš„äºŒè¿›åˆ¶çš„å€¼ã€‚è¿™æ ·å†™æšä¸¾çš„å¥½å¤„æ˜¯æˆ‘å¯ä»¥å¯¹å…¶ä¸­é€‰é¡¹å¤šé€‰æ¯”å¦‚TestOptionOne | TestOptionTwo ï¼ˆ000001 | 000010 =&gt; 000011ï¼‰ æˆ–è€…æœ‰å…¶ä»–çš„è‡ªå®šä¹‰ç»„åˆã€‚ 110ï¼šåŠ å¯†åœ¨iOSä¸­æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¼‚æˆ–æ¥è¿›è¡ŒåŠ è§£å¯†ï¼Œå¼‚æˆ–çš„ç‰¹æ€§å¦‚ä¸‹A ^ B = C =&gt; C ^ A = B =&gt; C ^ B = A ä¸Šæ–‡æˆ‘ä»¬å¯ä»¥æŠŠAè®¤ä¸ºæ˜¯éœ€è¦åŠ å¯†çš„æ•°æ®ï¼ŒBè®¤ä¸ºæ˜¯å¯†é’¥ Cæ˜¯åŠ å¯†åçš„æ•°æ®æ¯”å¦‚: #include &lt;stdio.h&gt;main()&#123; char a[]="MyPassword"; /*è¦åŠ å¯†çš„å¯†ç */ char b[]="cryptographic"; /*å¯†é’¥*/ int i; /*åŠ å¯†ä»£ç */ for(i=0;a[i]!='\0';i++)a[i]=a[i]^b[i]; printf("You Password encrypted: %s\n",a); /*è§£å¯†ä»£ç */ for(i=0;a[i]!='\0';i++)a[i]=a[i]^b[i]; printf("You Password: %s\n",a);&#125; 111ï¼šå…¶ä»–åº”ç”¨ è®°å¾—iOSæ€»æœ‰ä¸€é“é¢è¯•é¢˜åœ¨ä¸ä½¿ç”¨ç¬¬ä¸‰ä¸ªå˜é‡çš„æƒ…å†µä¸‹äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼Œè¿™é‡Œç”¨åˆ°å¼‚æˆ–çš„ä¸Šé¢åŠ è§£å¯†ä¸­çš„ç‰¹æ€§ã€‚æˆ‘æœ‰xã€yä¸¤ä¸ªä¸ªå˜é‡ï¼Œåšå¦‚ä¸‹ä½è¿ç®—æ“ä½œ void exchange(int x , int y)&#123; x ^= y; y ^= x; x ^= y;&#125; åˆ¤æ–­ä¸€ä¸ªæ•°çš„å¥‡å¶æ€§ï¼Œå…¶å®æˆ‘ä»¬å¯ä»¥ç”¨%2æ¥åˆ¤æ–­ï¼Œä»£ç é‡ä¸é«˜ï¼Œä½†æ˜¯ä¹‹å‰è®²è¿‡ï¼Œé™¤æ³•è¿ç®—çš„æ—¶é’Ÿå‘¨æœŸéå¸¸å¤šï¼Œæ‰€ä»¥ä»£ç è™½ç„¶ä¸å¤šå¹¶ä¸ä»£è¡¨æ•ˆç‡é«˜ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å¦‚ä¸‹è¿ç®—æ¥å®Œæˆ: void test(int x)&#123; if (x&amp;1) &#123; printf("å¥‡æ•°"); &#125; else &#123; printf("å¶æ•°"); &#125;&#125; åŸç†å¾ˆç®€å•ï¼Œå› ä¸ºäºŒè¿›åˆ¶æ˜¯æ»¡äºŒè¿›ä¸€ï¼Œä¸€æ—¦è¶…è¿‡1å°±ä¼šå˜0å¹¶è¿›ä¸€ä½ï¼Œè¿™æ—¶å€™å’Œ00001åš&amp;æ“ä½œä¸€å®šä¼šä¸º0ï¼Œåä¹‹ä¸ä¸ºé›¶ã€‚è¿™æ ·å†™æ•ˆç‡ä¼šæ›´é«˜ã€‚ è®¡ç®—ä¸¤ä¸ªæ•°çš„å¹³å‡å€¼ï¼Œé€šå¸¸æˆ‘ä»¬éƒ½æ˜¯ï¼ˆx+yï¼‰/2,å…ˆä¸è€ƒè™‘æ•ˆç‡é—®é¢˜ï¼Œè¿™æ ·è¿˜ä¼šå¼•èµ·ä¸€ä¸ªå…¶ä»–çš„é—®é¢˜ï¼Œé‚£å°±æ˜¯x+yçš„å€¼å¾ˆæœ‰å¯èƒ½æº¢å‡ºå¤§äºINT_MAXï¼Œæ‰€ä»¥æˆ‘ä»¬é‡‡ç”¨ä½è¿ç®—çš„åŠæ³•æ¥è§£å†³å³å¯ï¼š int average(int x, int y)&#123; return (x&amp;y)+((x^y)&gt;&gt;1);&#125; 1000ï¼šæ€»ç»“å…¶å®ä½è¿ç®—çš„åº”ç”¨è¿œè¿œä¸æ­¢è¿™äº›ï¼Œåœ¨ç®—æ³•æ–¹é¢é€‚å½“çš„ä½¿ç”¨è¿˜æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚]]></content>
      <categories>
        <category>iOSå¼€å‘</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>Cè¯­è¨€</tag>
        <tag>æ’åº</tag>
      </tags>
  </entry>
</search>
